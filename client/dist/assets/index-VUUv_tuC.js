function Vm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Wm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xf={exports:{}},Ja={},wf={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bi=Symbol.for("react.element"),Hm=Symbol.for("react.portal"),Km=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),Gm=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),Zm=Symbol.for("react.context"),Xm=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),Ym=Symbol.for("react.memo"),eg=Symbol.for("react.lazy"),zu=Symbol.iterator;function tg(e){return e===null||typeof e!="object"?null:(e=zu&&e[zu]||e["@@iterator"],typeof e=="function"?e:null)}var jf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nf=Object.assign,Sf={};function js(e,t,n){this.props=e,this.context=t,this.refs=Sf,this.updater=n||jf}js.prototype.isReactComponent={};js.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};js.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cf(){}Cf.prototype=js.prototype;function jc(e,t,n){this.props=e,this.context=t,this.refs=Sf,this.updater=n||jf}var Nc=jc.prototype=new Cf;Nc.constructor=jc;Nf(Nc,js.prototype);Nc.isPureReactComponent=!0;var Ou=Array.isArray,bf=Object.prototype.hasOwnProperty,Sc={current:null},Ef={key:!0,ref:!0,__self:!0,__source:!0};function Tf(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)bf.call(t,r)&&!Ef.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:bi,type:e,key:a,ref:o,props:s,_owner:Sc.current}}function ng(e,t){return{$$typeof:bi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cc(e){return typeof e=="object"&&e!==null&&e.$$typeof===bi}function rg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Au=/\/+/g;function Do(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rg(""+e.key):t.toString(36)}function la(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bi:case Hm:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Do(o,0):r,Ou(s)?(n="",e!=null&&(n=e.replace(Au,"$&/")+"/"),la(s,t,n,"",function(u){return u})):s!=null&&(Cc(s)&&(s=ng(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Au,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ou(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Do(a,l);o+=la(a,t,n,c,s)}else if(c=tg(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Do(a,l++),o+=la(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mi(e,t,n){if(e==null)return e;var r=[],s=0;return la(e,r,"","",function(a){return t.call(n,a,s++)}),r}function sg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},ca={transition:null},ig={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ca,ReactCurrentOwner:Sc};function Pf(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Mi,forEach:function(e,t,n){Mi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mi(e,function(){t++}),t},toArray:function(e){return Mi(e,function(t){return t})||[]},only:function(e){if(!Cc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=js;he.Fragment=Km;he.Profiler=Gm;he.PureComponent=jc;he.StrictMode=qm;he.Suspense=Jm;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ig;he.act=Pf;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nf({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Sc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bf.call(t,c)&&!Ef.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:bi,type:e.type,key:s,ref:a,props:r,_owner:o}};he.createContext=function(e){return e={$$typeof:Zm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qm,_context:e},e.Consumer=e};he.createElement=Tf;he.createFactory=function(e){var t=Tf.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Xm,render:e}};he.isValidElement=Cc;he.lazy=function(e){return{$$typeof:eg,_payload:{_status:-1,_result:e},_init:sg}};he.memo=function(e,t){return{$$typeof:Ym,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=ca.transition;ca.transition={};try{e()}finally{ca.transition=t}};he.unstable_act=Pf;he.useCallback=function(e,t){return ht.current.useCallback(e,t)};he.useContext=function(e){return ht.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};he.useEffect=function(e,t){return ht.current.useEffect(e,t)};he.useId=function(){return ht.current.useId()};he.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return ht.current.useMemo(e,t)};he.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};he.useRef=function(e){return ht.current.useRef(e)};he.useState=function(e){return ht.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return ht.current.useTransition()};he.version="18.3.1";wf.exports=he;var v=wf.exports;const _f=Wm(v),ag=Vm({__proto__:null,default:_f},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=v,lg=Symbol.for("react.element"),cg=Symbol.for("react.fragment"),ug=Object.prototype.hasOwnProperty,dg=og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fg={key:!0,ref:!0,__self:!0,__source:!0};function Rf(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ug.call(t,r)&&!fg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:lg,type:e,key:a,ref:o,props:s,_owner:dg.current}}Ja.Fragment=cg;Ja.jsx=Rf;Ja.jsxs=Rf;xf.exports=Ja;var i=xf.exports,gl={},zf={exports:{}},Pt={},Of={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,q){var X=$.length;$.push(q);e:for(;0<X;){var le=X-1>>>1,me=$[le];if(0<s(me,q))$[le]=q,$[X]=me,X=le;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],X=$.pop();if(X!==q){$[0]=X;e:for(var le=0,me=$.length,se=me>>>1;le<se;){var be=2*(le+1)-1,et=$[be],Me=be+1,lt=$[Me];if(0>s(et,X))Me<me&&0>s(lt,et)?($[le]=lt,$[Me]=X,le=Me):($[le]=et,$[be]=X,le=be);else if(Me<me&&0>s(lt,X))$[le]=lt,$[Me]=X,le=Me;else break e}}return q}function s($,q){var X=$.sortIndex-q.sortIndex;return X!==0?X:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,g=null,m=3,w=!1,y=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k($){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=$)r(u),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(u)}}function E($){if(j=!1,k($),!y)if(n(c)!==null)y=!0,ce(z);else{var q=n(u);q!==null&&Ae(E,q.startTime-$)}}function z($,q){y=!1,j&&(j=!1,h(L),L=-1),w=!0;var X=m;try{for(k(q),g=n(c);g!==null&&(!(g.expirationTime>q)||$&&!K());){var le=g.callback;if(typeof le=="function"){g.callback=null,m=g.priorityLevel;var me=le(g.expirationTime<=q);q=e.unstable_now(),typeof me=="function"?g.callback=me:g===n(c)&&r(c),k(q)}else r(c);g=n(c)}if(g!==null)var se=!0;else{var be=n(u);be!==null&&Ae(E,be.startTime-q),se=!1}return se}finally{g=null,m=X,w=!1}}var A=!1,b=null,L=-1,V=5,B=-1;function K(){return!(e.unstable_now()-B<V)}function Y(){if(b!==null){var $=e.unstable_now();B=$;var q=!0;try{q=b(!0,$)}finally{q?pe():(A=!1,b=null)}}else A=!1}var pe;if(typeof p=="function")pe=function(){p(Y)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Ye=te.port2;te.port1.onmessage=Y,pe=function(){Ye.postMessage(null)}}else pe=function(){S(Y,0)};function ce($){b=$,A||(A=!0,pe())}function Ae($,q){L=S(function(){$(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){y||w||(y=!0,ce(z))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var X=m;m=q;try{return $()}finally{m=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=m;m=$;try{return q()}finally{m=X}},e.unstable_scheduleCallback=function($,q,X){var le=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?le+X:le):X=le,$){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=X+me,$={id:f++,callback:q,priorityLevel:$,startTime:X,expirationTime:me,sortIndex:-1},X>le?($.sortIndex=X,t(u,$),n(c)===null&&$===n(u)&&(j?(h(L),L=-1):j=!0,Ae(E,X-le))):($.sortIndex=me,t(c,$),y||w||(y=!0,ce(z))),$},e.unstable_shouldYield=K,e.unstable_wrapCallback=function($){var q=m;return function(){var X=m;m=q;try{return $.apply(this,arguments)}finally{m=X}}}})(Af);Of.exports=Af;var hg=Of.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=v,Tt=hg;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lf=new Set,oi={};function Dr(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(oi[e]=t,e=0;e<t.length;e++)Lf.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=Object.prototype.hasOwnProperty,mg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lu={},Du={};function gg(e){return vl.call(Du,e)?!0:vl.call(Lu,e)?!1:mg.test(e)?Du[e]=!0:(Lu[e]=!0,!1)}function vg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yg(e,t,n,r){if(t===null||typeof t>"u"||vg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var bc=/[\-:]([a-z])/g;function Ec(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bc,Ec);Je[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bc,Ec);Je[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bc,Ec);Je[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tc(e,t,n,r){var s=Je.hasOwnProperty(t)?Je[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yg(t,n,s,r)&&(n=null),r||s===null?gg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),Xr=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),yl=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),If=Symbol.for("react.context"),_c=Symbol.for("react.forward_ref"),kl=Symbol.for("react.suspense"),xl=Symbol.for("react.suspense_list"),Rc=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Ff=Symbol.for("react.offscreen"),Iu=Symbol.iterator;function Ds(e){return e===null||typeof e!="object"?null:(e=Iu&&e[Iu]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Io;function qs(e){if(Io===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Io=t&&t[1]||""}return`
`+Io+e}var Fo=!1;function Uo(e,t){if(!e||Fo)return"";Fo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qs(e):""}function kg(e){switch(e.tag){case 5:return qs(e.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return e=Uo(e.type,!1),e;case 11:return e=Uo(e.type.render,!1),e;case 1:return e=Uo(e.type,!0),e;default:return""}}function wl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xr:return"Fragment";case Zr:return"Portal";case yl:return"Profiler";case Pc:return"StrictMode";case kl:return"Suspense";case xl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case If:return(e.displayName||"Context")+".Consumer";case Df:return(e._context.displayName||"Context")+".Provider";case _c:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rc:return t=e.displayName||null,t!==null?t:wl(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return wl(e(t))}catch{}}return null}function xg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wl(t);case 8:return t===Pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ir(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wg(e){var t=Uf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){e._valueTracker||(e._valueTracker=wg(e))}function Bf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Uf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jl(e,t){var n=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ir(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $f(e,t){t=t.checked,t!=null&&Tc(e,"checked",t,!1)}function Nl(e,t){$f(e,t);var n=ir(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sl(e,t.type,ir(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sl(e,t,n){(t!=="number"||Ea(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gs=Array.isArray;function ls(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ir(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Cl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(Gs(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ir(n)}}function Mf(e,t){var n=ir(t.value),r=ir(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $u(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hi,Wf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hi=Hi||document.createElement("div"),Hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function li(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jg=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){jg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function Hf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function Kf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ng=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function El(e,t){if(t){if(Ng[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Tl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=null;function zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,cs=null,us=null;function Mu(e){if(e=Pi(e)){if(typeof _l!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ro(t),_l(e.stateNode,e.type,t))}}function qf(e){cs?us?us.push(e):us=[e]:cs=e}function Gf(){if(cs){var e=cs,t=us;if(us=cs=null,Mu(e),t)for(e=0;e<t.length;e++)Mu(t[e])}}function Qf(e,t){return e(t)}function Zf(){}var Bo=!1;function Xf(e,t,n){if(Bo)return e(t,n);Bo=!0;try{return Qf(e,t,n)}finally{Bo=!1,(cs!==null||us!==null)&&(Zf(),Gf())}}function ci(e,t){var n=e.stateNode;if(n===null)return null;var r=ro(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Rl=!1;if(Nn)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Rl=!1}function Sg(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Ys=!1,Ta=null,Pa=!1,zl=null,Cg={onError:function(e){Ys=!0,Ta=e}};function bg(e,t,n,r,s,a,o,l,c){Ys=!1,Ta=null,Sg.apply(Cg,arguments)}function Eg(e,t,n,r,s,a,o,l,c){if(bg.apply(this,arguments),Ys){if(Ys){var u=Ta;Ys=!1,Ta=null}else throw Error(U(198));Pa||(Pa=!0,zl=u)}}function Ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vu(e){if(Ir(e)!==e)throw Error(U(188))}function Tg(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Vu(s),e;if(a===r)return Vu(s),t;a=a.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Yf(e){return e=Tg(e),e!==null?eh(e):null}function eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eh(e);if(t!==null)return t;e=e.sibling}return null}var th=Tt.unstable_scheduleCallback,Wu=Tt.unstable_cancelCallback,Pg=Tt.unstable_shouldYield,_g=Tt.unstable_requestPaint,$e=Tt.unstable_now,Rg=Tt.unstable_getCurrentPriorityLevel,Oc=Tt.unstable_ImmediatePriority,nh=Tt.unstable_UserBlockingPriority,_a=Tt.unstable_NormalPriority,zg=Tt.unstable_LowPriority,rh=Tt.unstable_IdlePriority,Ya=null,ln=null;function Og(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Dg,Ag=Math.log,Lg=Math.LN2;function Dg(e){return e>>>=0,e===0?32:31-(Ag(e)/Lg|0)|0}var Ki=64,qi=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ra(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Qs(l):(a&=o,a!==0&&(r=Qs(a)))}else o=n&~s,o!==0?r=Qs(o):a!==0&&(r=Qs(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gt(t),s=1<<n,r|=e[n],t&=~s;return r}function Ig(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Gt(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Ig(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Ol(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sh(){var e=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),e}function $o(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ei(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=n}function Ug(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Gt(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Ac(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var je=0;function ih(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ah,Lc,oh,lh,ch,Al=!1,Gi=[],Zn=null,Xn=null,Jn=null,ui=new Map,di=new Map,Hn=[],Bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(t.pointerId)}}function Fs(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Pi(t),t!==null&&Lc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $g(e,t,n,r,s){switch(t){case"focusin":return Zn=Fs(Zn,e,t,n,r,s),!0;case"dragenter":return Xn=Fs(Xn,e,t,n,r,s),!0;case"mouseover":return Jn=Fs(Jn,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ui.set(a,Fs(ui.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,di.set(a,Fs(di.get(a)||null,e,t,n,r,s)),!0}return!1}function uh(e){var t=wr(e.target);if(t!==null){var n=Ir(t);if(n!==null){if(t=n.tag,t===13){if(t=Jf(n),t!==null){e.blockedOn=t,ch(e.priority,function(){oh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pl=r,n.target.dispatchEvent(r),Pl=null}else return t=Pi(n),t!==null&&Lc(t),e.blockedOn=n,!1;t.shift()}return!0}function Ku(e,t,n){ua(e)&&n.delete(t)}function Mg(){Al=!1,Zn!==null&&ua(Zn)&&(Zn=null),Xn!==null&&ua(Xn)&&(Xn=null),Jn!==null&&ua(Jn)&&(Jn=null),ui.forEach(Ku),di.forEach(Ku)}function Us(e,t){e.blockedOn===t&&(e.blockedOn=null,Al||(Al=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,Mg)))}function fi(e){function t(s){return Us(s,e)}if(0<Gi.length){Us(Gi[0],e);for(var n=1;n<Gi.length;n++){var r=Gi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zn!==null&&Us(Zn,e),Xn!==null&&Us(Xn,e),Jn!==null&&Us(Jn,e),ui.forEach(t),di.forEach(t),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)uh(n),n.blockedOn===null&&Hn.shift()}var ds=En.ReactCurrentBatchConfig,za=!0;function Vg(e,t,n,r){var s=je,a=ds.transition;ds.transition=null;try{je=1,Dc(e,t,n,r)}finally{je=s,ds.transition=a}}function Wg(e,t,n,r){var s=je,a=ds.transition;ds.transition=null;try{je=4,Dc(e,t,n,r)}finally{je=s,ds.transition=a}}function Dc(e,t,n,r){if(za){var s=Ll(e,t,n,r);if(s===null)Xo(e,t,r,Oa,n),Hu(e,r);else if($g(s,e,t,n,r))r.stopPropagation();else if(Hu(e,r),t&4&&-1<Bg.indexOf(e)){for(;s!==null;){var a=Pi(s);if(a!==null&&ah(a),a=Ll(e,t,n,r),a===null&&Xo(e,t,r,Oa,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Xo(e,t,r,null,n)}}var Oa=null;function Ll(e,t,n,r){if(Oa=null,e=zc(r),e=wr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oa=e,null}function dh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rg()){case Oc:return 1;case nh:return 4;case _a:case zg:return 16;case rh:return 536870912;default:return 16}default:return 16}}var qn=null,Ic=null,da=null;function fh(){if(da)return da;var e,t=Ic,n=t.length,r,s="value"in qn?qn.value:qn.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return da=s.slice(e,1<r?1-r:void 0)}function fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function qu(){return!1}function _t(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qi:qu,this.isPropagationStopped=qu,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),t}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fc=_t(Ns),Ti=Fe({},Ns,{view:0,detail:0}),Hg=_t(Ti),Mo,Vo,Bs,eo=Fe({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(Mo=e.screenX-Bs.screenX,Vo=e.screenY-Bs.screenY):Vo=Mo=0,Bs=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:Vo}}),Gu=_t(eo),Kg=Fe({},eo,{dataTransfer:0}),qg=_t(Kg),Gg=Fe({},Ti,{relatedTarget:0}),Wo=_t(Gg),Qg=Fe({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Zg=_t(Qg),Xg=Fe({},Ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jg=_t(Xg),Yg=Fe({},Ns,{data:0}),Qu=_t(Yg),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nv[e])?!!t[e]:!1}function Uc(){return rv}var sv=Fe({},Ti,{key:function(e){if(e.key){var t=ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uc,charCode:function(e){return e.type==="keypress"?fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iv=_t(sv),av=Fe({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zu=_t(av),ov=Fe({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uc}),lv=_t(ov),cv=Fe({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),uv=_t(cv),dv=Fe({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fv=_t(dv),hv=[9,13,27,32],Bc=Nn&&"CompositionEvent"in window,ei=null;Nn&&"documentMode"in document&&(ei=document.documentMode);var pv=Nn&&"TextEvent"in window&&!ei,hh=Nn&&(!Bc||ei&&8<ei&&11>=ei),Xu=" ",Ju=!1;function ph(e,t){switch(e){case"keyup":return hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function mv(e,t){switch(e){case"compositionend":return mh(t);case"keypress":return t.which!==32?null:(Ju=!0,Xu);case"textInput":return e=t.data,e===Xu&&Ju?null:e;default:return null}}function gv(e,t){if(Jr)return e==="compositionend"||!Bc&&ph(e,t)?(e=fh(),da=Ic=qn=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hh&&t.locale!=="ko"?null:t.data;default:return null}}var vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vv[e.type]:t==="textarea"}function gh(e,t,n,r){qf(r),t=Aa(t,"onChange"),0<t.length&&(n=new Fc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ti=null,hi=null;function yv(e){Eh(e,0)}function to(e){var t=ts(e);if(Bf(t))return e}function kv(e,t){if(e==="change")return t}var vh=!1;if(Nn){var Ho;if(Nn){var Ko="oninput"in document;if(!Ko){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),Ko=typeof ed.oninput=="function"}Ho=Ko}else Ho=!1;vh=Ho&&(!document.documentMode||9<document.documentMode)}function td(){ti&&(ti.detachEvent("onpropertychange",yh),hi=ti=null)}function yh(e){if(e.propertyName==="value"&&to(hi)){var t=[];gh(t,hi,e,zc(e)),Xf(yv,t)}}function xv(e,t,n){e==="focusin"?(td(),ti=t,hi=n,ti.attachEvent("onpropertychange",yh)):e==="focusout"&&td()}function wv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(hi)}function jv(e,t){if(e==="click")return to(t)}function Nv(e,t){if(e==="input"||e==="change")return to(t)}function Sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Sv;function pi(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vl.call(t,s)||!Zt(e[s],t[s]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var n=nd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nd(n)}}function kh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xh(){for(var e=window,t=Ea();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ea(e.document)}return t}function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cv(e){var t=xh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kh(n.ownerDocument.documentElement,n)){if(r!==null&&$c(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=rd(n,a);var o=rd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bv=Nn&&"documentMode"in document&&11>=document.documentMode,Yr=null,Dl=null,ni=null,Il=!1;function sd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Il||Yr==null||Yr!==Ea(r)||(r=Yr,"selectionStart"in r&&$c(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ni&&pi(ni,r)||(ni=r,r=Aa(Dl,"onSelect"),0<r.length&&(t=new Fc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yr)))}function Zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var es={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},qo={},wh={};Nn&&(wh=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function no(e){if(qo[e])return qo[e];if(!es[e])return e;var t=es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wh)return qo[e]=t[n];return e}var jh=no("animationend"),Nh=no("animationiteration"),Sh=no("animationstart"),Ch=no("transitionend"),bh=new Map,id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){bh.set(e,t),Dr(t,[e])}for(var Go=0;Go<id.length;Go++){var Qo=id[Go],Ev=Qo.toLowerCase(),Tv=Qo[0].toUpperCase()+Qo.slice(1);or(Ev,"on"+Tv)}or(jh,"onAnimationEnd");or(Nh,"onAnimationIteration");or(Sh,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(Ch,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function ad(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Eg(r,t,void 0,e),e.currentTarget=null}function Eh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ad(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ad(s,l,u),a=c}}}if(Pa)throw e=zl,Pa=!1,zl=null,e}function _e(e,t){var n=t[Ml];n===void 0&&(n=t[Ml]=new Set);var r=e+"__bubble";n.has(r)||(Th(t,e,2,!1),n.add(r))}function Zo(e,t,n){var r=0;t&&(r|=4),Th(n,e,r,t)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function mi(e){if(!e[Xi]){e[Xi]=!0,Lf.forEach(function(n){n!=="selectionchange"&&(Pv.has(n)||Zo(n,!1,e),Zo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xi]||(t[Xi]=!0,Zo("selectionchange",!1,t))}}function Th(e,t,n,r){switch(dh(t)){case 1:var s=Vg;break;case 4:s=Wg;break;default:s=Dc}n=s.bind(null,t,n,e),s=void 0,!Rl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Xo(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wr(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Xf(function(){var u=a,f=zc(n),g=[];e:{var m=bh.get(e);if(m!==void 0){var w=Fc,y=e;switch(e){case"keypress":if(fa(n)===0)break e;case"keydown":case"keyup":w=iv;break;case"focusin":y="focus",w=Wo;break;case"focusout":y="blur",w=Wo;break;case"beforeblur":case"afterblur":w=Wo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=lv;break;case jh:case Nh:case Sh:w=Zg;break;case Ch:w=uv;break;case"scroll":w=Hg;break;case"wheel":w=fv;break;case"copy":case"cut":case"paste":w=Jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Zu}var j=(t&4)!==0,S=!j&&e==="scroll",h=j?m!==null?m+"Capture":null:m;j=[];for(var p=u,k;p!==null;){k=p;var E=k.stateNode;if(k.tag===5&&E!==null&&(k=E,h!==null&&(E=ci(p,h),E!=null&&j.push(gi(p,E,k)))),S)break;p=p.return}0<j.length&&(m=new w(m,y,null,n,f),g.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&n!==Pl&&(y=n.relatedTarget||n.fromElement)&&(wr(y)||y[Sn]))break e;if((w||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,w?(y=n.relatedTarget||n.toElement,w=u,y=y?wr(y):null,y!==null&&(S=Ir(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=u),w!==y)){if(j=Gu,E="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(j=Zu,E="onPointerLeave",h="onPointerEnter",p="pointer"),S=w==null?m:ts(w),k=y==null?m:ts(y),m=new j(E,p+"leave",w,n,f),m.target=S,m.relatedTarget=k,E=null,wr(f)===u&&(j=new j(h,p+"enter",y,n,f),j.target=k,j.relatedTarget=S,E=j),S=E,w&&y)t:{for(j=w,h=y,p=0,k=j;k;k=Gr(k))p++;for(k=0,E=h;E;E=Gr(E))k++;for(;0<p-k;)j=Gr(j),p--;for(;0<k-p;)h=Gr(h),k--;for(;p--;){if(j===h||h!==null&&j===h.alternate)break t;j=Gr(j),h=Gr(h)}j=null}else j=null;w!==null&&od(g,m,w,j,!1),y!==null&&S!==null&&od(g,S,y,j,!0)}}e:{if(m=u?ts(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var z=kv;else if(Yu(m))if(vh)z=Nv;else{z=wv;var A=xv}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(z=jv);if(z&&(z=z(e,u))){gh(g,z,n,f);break e}A&&A(e,m,u),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&Sl(m,"number",m.value)}switch(A=u?ts(u):window,e){case"focusin":(Yu(A)||A.contentEditable==="true")&&(Yr=A,Dl=u,ni=null);break;case"focusout":ni=Dl=Yr=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,sd(g,n,f);break;case"selectionchange":if(bv)break;case"keydown":case"keyup":sd(g,n,f)}var b;if(Bc)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Jr?ph(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(hh&&n.locale!=="ko"&&(Jr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Jr&&(b=fh()):(qn=f,Ic="value"in qn?qn.value:qn.textContent,Jr=!0)),A=Aa(u,L),0<A.length&&(L=new Qu(L,e,null,n,f),g.push({event:L,listeners:A}),b?L.data=b:(b=mh(n),b!==null&&(L.data=b)))),(b=pv?mv(e,n):gv(e,n))&&(u=Aa(u,"onBeforeInput"),0<u.length&&(f=new Qu("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:u}),f.data=b))}Eh(g,t)})}function gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Aa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ci(e,n),a!=null&&r.unshift(gi(e,a,s)),a=ci(e,t),a!=null&&r.push(gi(e,a,s))),e=e.return}return r}function Gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function od(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ci(n,a),c!=null&&o.unshift(gi(n,c,l))):s||(c=ci(n,a),c!=null&&o.push(gi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _v=/\r\n?/g,Rv=/\u0000|\uFFFD/g;function ld(e){return(typeof e=="string"?e:""+e).replace(_v,`
`).replace(Rv,"")}function Ji(e,t,n){if(t=ld(t),ld(e)!==t&&n)throw Error(U(425))}function La(){}var Fl=null,Ul=null;function Bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,zv=typeof clearTimeout=="function"?clearTimeout:void 0,cd=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof cd<"u"?function(e){return cd.resolve(null).then(e).catch(Av)}:$l;function Av(e){setTimeout(function(){throw e})}function Jo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),fi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);fi(t)}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),on="__reactFiber$"+Ss,vi="__reactProps$"+Ss,Sn="__reactContainer$"+Ss,Ml="__reactEvents$"+Ss,Lv="__reactListeners$"+Ss,Dv="__reactHandles$"+Ss;function wr(e){var t=e[on];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[on]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ud(e);e!==null;){if(n=e[on])return n;e=ud(e)}return t}e=n,n=e.parentNode}return null}function Pi(e){return e=e[on]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ro(e){return e[vi]||null}var Vl=[],ns=-1;function lr(e){return{current:e}}function Re(e){0>ns||(e.current=Vl[ns],Vl[ns]=null,ns--)}function Te(e,t){ns++,Vl[ns]=e.current,e.current=t}var ar={},ot=lr(ar),kt=lr(!1),_r=ar;function ms(e,t){var n=e.type.contextTypes;if(!n)return ar;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xt(e){return e=e.childContextTypes,e!=null}function Da(){Re(kt),Re(ot)}function dd(e,t,n){if(ot.current!==ar)throw Error(U(168));Te(ot,t),Te(kt,n)}function Ph(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,xg(e)||"Unknown",s));return Fe({},n,r)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,_r=ot.current,Te(ot,e),Te(kt,kt.current),!0}function fd(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Ph(e,t,_r),r.__reactInternalMemoizedMergedChildContext=e,Re(kt),Re(ot),Te(ot,e)):Re(kt),Te(kt,n)}var kn=null,so=!1,Yo=!1;function _h(e){kn===null?kn=[e]:kn.push(e)}function Iv(e){so=!0,_h(e)}function cr(){if(!Yo&&kn!==null){Yo=!0;var e=0,t=je;try{var n=kn;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kn=null,so=!1}catch(s){throw kn!==null&&(kn=kn.slice(e+1)),th(Oc,cr),s}finally{je=t,Yo=!1}}return null}var rs=[],ss=0,Fa=null,Ua=0,Ot=[],At=0,Rr=null,xn=1,wn="";function kr(e,t){rs[ss++]=Ua,rs[ss++]=Fa,Fa=e,Ua=t}function Rh(e,t,n){Ot[At++]=xn,Ot[At++]=wn,Ot[At++]=Rr,Rr=e;var r=xn;e=wn;var s=32-Gt(r)-1;r&=~(1<<s),n+=1;var a=32-Gt(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xn=1<<32-Gt(t)+s|n<<s|r,wn=a+e}else xn=1<<a|n<<s|r,wn=e}function Mc(e){e.return!==null&&(kr(e,1),Rh(e,1,0))}function Vc(e){for(;e===Fa;)Fa=rs[--ss],rs[ss]=null,Ua=rs[--ss],rs[ss]=null;for(;e===Rr;)Rr=Ot[--At],Ot[At]=null,wn=Ot[--At],Ot[At]=null,xn=Ot[--At],Ot[At]=null}var Et=null,bt=null,Oe=!1,qt=null;function zh(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,bt=Yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rr!==null?{id:xn,overflow:wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,bt=null,!0):!1;default:return!1}}function Wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(Oe){var t=bt;if(t){var n=t;if(!hd(e,t)){if(Wl(e))throw Error(U(418));t=Yn(n.nextSibling);var r=Et;t&&hd(e,t)?zh(r,n):(e.flags=e.flags&-4097|2,Oe=!1,Et=e)}}else{if(Wl(e))throw Error(U(418));e.flags=e.flags&-4097|2,Oe=!1,Et=e}}}function pd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Yi(e){if(e!==Et)return!1;if(!Oe)return pd(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bl(e.type,e.memoizedProps)),t&&(t=bt)){if(Wl(e))throw Oh(),Error(U(418));for(;t;)zh(e,t),t=Yn(t.nextSibling)}if(pd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bt=Yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=Et?Yn(e.stateNode.nextSibling):null;return!0}function Oh(){for(var e=bt;e;)e=Yn(e.nextSibling)}function gs(){bt=Et=null,Oe=!1}function Wc(e){qt===null?qt=[e]:qt.push(e)}var Fv=En.ReactCurrentBatchConfig;function $s(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ea(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function md(e){var t=e._init;return t(e._payload)}function Ah(e){function t(h,p){if(e){var k=h.deletions;k===null?(h.deletions=[p],h.flags|=16):k.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function s(h,p){return h=rr(h,p),h.index=0,h.sibling=null,h}function a(h,p,k){return h.index=k,e?(k=h.alternate,k!==null?(k=k.index,k<p?(h.flags|=2,p):k):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,k,E){return p===null||p.tag!==6?(p=al(k,h.mode,E),p.return=h,p):(p=s(p,k),p.return=h,p)}function c(h,p,k,E){var z=k.type;return z===Xr?f(h,p,k.props.children,E,k.key):p!==null&&(p.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Vn&&md(z)===p.type)?(E=s(p,k.props),E.ref=$s(h,p,k),E.return=h,E):(E=ka(k.type,k.key,k.props,null,h.mode,E),E.ref=$s(h,p,k),E.return=h,E)}function u(h,p,k,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==k.containerInfo||p.stateNode.implementation!==k.implementation?(p=ol(k,h.mode,E),p.return=h,p):(p=s(p,k.children||[]),p.return=h,p)}function f(h,p,k,E,z){return p===null||p.tag!==7?(p=Er(k,h.mode,E,z),p.return=h,p):(p=s(p,k),p.return=h,p)}function g(h,p,k){if(typeof p=="string"&&p!==""||typeof p=="number")return p=al(""+p,h.mode,k),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vi:return k=ka(p.type,p.key,p.props,null,h.mode,k),k.ref=$s(h,null,p),k.return=h,k;case Zr:return p=ol(p,h.mode,k),p.return=h,p;case Vn:var E=p._init;return g(h,E(p._payload),k)}if(Gs(p)||Ds(p))return p=Er(p,h.mode,k,null),p.return=h,p;ea(h,p)}return null}function m(h,p,k,E){var z=p!==null?p.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return z!==null?null:l(h,p,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Vi:return k.key===z?c(h,p,k,E):null;case Zr:return k.key===z?u(h,p,k,E):null;case Vn:return z=k._init,m(h,p,z(k._payload),E)}if(Gs(k)||Ds(k))return z!==null?null:f(h,p,k,E,null);ea(h,k)}return null}function w(h,p,k,E,z){if(typeof E=="string"&&E!==""||typeof E=="number")return h=h.get(k)||null,l(p,h,""+E,z);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Vi:return h=h.get(E.key===null?k:E.key)||null,c(p,h,E,z);case Zr:return h=h.get(E.key===null?k:E.key)||null,u(p,h,E,z);case Vn:var A=E._init;return w(h,p,k,A(E._payload),z)}if(Gs(E)||Ds(E))return h=h.get(k)||null,f(p,h,E,z,null);ea(p,E)}return null}function y(h,p,k,E){for(var z=null,A=null,b=p,L=p=0,V=null;b!==null&&L<k.length;L++){b.index>L?(V=b,b=null):V=b.sibling;var B=m(h,b,k[L],E);if(B===null){b===null&&(b=V);break}e&&b&&B.alternate===null&&t(h,b),p=a(B,p,L),A===null?z=B:A.sibling=B,A=B,b=V}if(L===k.length)return n(h,b),Oe&&kr(h,L),z;if(b===null){for(;L<k.length;L++)b=g(h,k[L],E),b!==null&&(p=a(b,p,L),A===null?z=b:A.sibling=b,A=b);return Oe&&kr(h,L),z}for(b=r(h,b);L<k.length;L++)V=w(b,h,L,k[L],E),V!==null&&(e&&V.alternate!==null&&b.delete(V.key===null?L:V.key),p=a(V,p,L),A===null?z=V:A.sibling=V,A=V);return e&&b.forEach(function(K){return t(h,K)}),Oe&&kr(h,L),z}function j(h,p,k,E){var z=Ds(k);if(typeof z!="function")throw Error(U(150));if(k=z.call(k),k==null)throw Error(U(151));for(var A=z=null,b=p,L=p=0,V=null,B=k.next();b!==null&&!B.done;L++,B=k.next()){b.index>L?(V=b,b=null):V=b.sibling;var K=m(h,b,B.value,E);if(K===null){b===null&&(b=V);break}e&&b&&K.alternate===null&&t(h,b),p=a(K,p,L),A===null?z=K:A.sibling=K,A=K,b=V}if(B.done)return n(h,b),Oe&&kr(h,L),z;if(b===null){for(;!B.done;L++,B=k.next())B=g(h,B.value,E),B!==null&&(p=a(B,p,L),A===null?z=B:A.sibling=B,A=B);return Oe&&kr(h,L),z}for(b=r(h,b);!B.done;L++,B=k.next())B=w(b,h,L,B.value,E),B!==null&&(e&&B.alternate!==null&&b.delete(B.key===null?L:B.key),p=a(B,p,L),A===null?z=B:A.sibling=B,A=B);return e&&b.forEach(function(Y){return t(h,Y)}),Oe&&kr(h,L),z}function S(h,p,k,E){if(typeof k=="object"&&k!==null&&k.type===Xr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Vi:e:{for(var z=k.key,A=p;A!==null;){if(A.key===z){if(z=k.type,z===Xr){if(A.tag===7){n(h,A.sibling),p=s(A,k.props.children),p.return=h,h=p;break e}}else if(A.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Vn&&md(z)===A.type){n(h,A.sibling),p=s(A,k.props),p.ref=$s(h,A,k),p.return=h,h=p;break e}n(h,A);break}else t(h,A);A=A.sibling}k.type===Xr?(p=Er(k.props.children,h.mode,E,k.key),p.return=h,h=p):(E=ka(k.type,k.key,k.props,null,h.mode,E),E.ref=$s(h,p,k),E.return=h,h=E)}return o(h);case Zr:e:{for(A=k.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===k.containerInfo&&p.stateNode.implementation===k.implementation){n(h,p.sibling),p=s(p,k.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=ol(k,h.mode,E),p.return=h,h=p}return o(h);case Vn:return A=k._init,S(h,p,A(k._payload),E)}if(Gs(k))return y(h,p,k,E);if(Ds(k))return j(h,p,k,E);ea(h,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,p!==null&&p.tag===6?(n(h,p.sibling),p=s(p,k),p.return=h,h=p):(n(h,p),p=al(k,h.mode,E),p.return=h,h=p),o(h)):n(h,p)}return S}var vs=Ah(!0),Lh=Ah(!1),Ba=lr(null),$a=null,is=null,Hc=null;function Kc(){Hc=is=$a=null}function qc(e){var t=Ba.current;Re(Ba),e._currentValue=t}function Kl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fs(e,t){$a=e,Hc=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(Hc!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if($a===null)throw Error(U(308));is=e,$a.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var jr=null;function Gc(e){jr===null?jr=[e]:jr.push(e)}function Dh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Gc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function Qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ih(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Cn(e,n)}return s=r.interleaved,s===null?(t.next=t,Gc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Cn(e,n)}function ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ac(e,n)}}function gd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var s=e.updateQueue;Wn=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var g=s.baseState;o=0,f=u=c=null,l=a;do{var m=l.lane,w=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,j=l;switch(m=t,w=n,j.tag){case 1:if(y=j.payload,typeof y=="function"){g=y.call(w,g,m);break e}g=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,m=typeof y=="function"?y.call(w,g,m):y,m==null)break e;g=Fe({},g,m);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=w,c=g):f=f.next=w,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=g),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Or|=o,e.lanes=o,e.memoizedState=g}}function vd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var _i={},cn=lr(_i),yi=lr(_i),ki=lr(_i);function Nr(e){if(e===_i)throw Error(U(174));return e}function Zc(e,t){switch(Te(ki,t),Te(yi,e),Te(cn,_i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bl(t,e)}Re(cn),Te(cn,t)}function ys(){Re(cn),Re(yi),Re(ki)}function Fh(e){Nr(ki.current);var t=Nr(cn.current),n=bl(t,e.type);t!==n&&(Te(yi,e),Te(cn,n))}function Xc(e){yi.current===e&&(Re(cn),Re(yi))}var De=lr(0);function Va(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var el=[];function Jc(){for(var e=0;e<el.length;e++)el[e]._workInProgressVersionPrimary=null;el.length=0}var pa=En.ReactCurrentDispatcher,tl=En.ReactCurrentBatchConfig,zr=0,Ie=null,Ke=null,Ge=null,Wa=!1,ri=!1,xi=0,Uv=0;function rt(){throw Error(U(321))}function Yc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function eu(e,t,n,r,s,a){if(zr=a,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=e===null||e.memoizedState===null?Vv:Wv,e=n(r,s),ri){a=0;do{if(ri=!1,xi=0,25<=a)throw Error(U(301));a+=1,Ge=Ke=null,t.updateQueue=null,pa.current=Hv,e=n(r,s)}while(ri)}if(pa.current=Ha,t=Ke!==null&&Ke.next!==null,zr=0,Ge=Ke=Ie=null,Wa=!1,t)throw Error(U(300));return e}function tu(){var e=xi!==0;return xi=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ie.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Ut(){if(Ke===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Ge===null?Ie.memoizedState:Ge.next;if(t!==null)Ge=t,Ke=e;else{if(e===null)throw Error(U(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ge===null?Ie.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function wi(e,t){return typeof t=="function"?t(e):t}function nl(e){var t=Ut(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ke,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var f=u.lane;if((zr&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,o=r):c=c.next=g,Ie.lanes|=f,Or|=f}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,Zt(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Ie.lanes|=a,Or|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rl(e){var t=Ut(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Zt(a,t.memoizedState)||(yt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Uh(){}function Bh(e,t){var n=Ie,r=Ut(),s=t(),a=!Zt(r.memoizedState,s);if(a&&(r.memoizedState=s,yt=!0),r=r.queue,nu(Vh.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,ji(9,Mh.bind(null,n,r,s,t),void 0,null),Qe===null)throw Error(U(349));zr&30||$h(n,t,s)}return s}function $h(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mh(e,t,n,r){t.value=n,t.getSnapshot=r,Wh(t)&&Hh(e)}function Vh(e,t,n){return n(function(){Wh(t)&&Hh(e)})}function Wh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function Hh(e){var t=Cn(e,1);t!==null&&Qt(t,e,1,-1)}function yd(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Mv.bind(null,Ie,e),[t.memoizedState,e]}function ji(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kh(){return Ut().memoizedState}function ma(e,t,n,r){var s=an();Ie.flags|=e,s.memoizedState=ji(1|t,n,void 0,r===void 0?null:r)}function io(e,t,n,r){var s=Ut();r=r===void 0?null:r;var a=void 0;if(Ke!==null){var o=Ke.memoizedState;if(a=o.destroy,r!==null&&Yc(r,o.deps)){s.memoizedState=ji(t,n,a,r);return}}Ie.flags|=e,s.memoizedState=ji(1|t,n,a,r)}function kd(e,t){return ma(8390656,8,e,t)}function nu(e,t){return io(2048,8,e,t)}function qh(e,t){return io(4,2,e,t)}function Gh(e,t){return io(4,4,e,t)}function Qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zh(e,t,n){return n=n!=null?n.concat([e]):null,io(4,4,Qh.bind(null,t,e),n)}function ru(){}function Xh(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jh(e,t){var n=Ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yh(e,t,n){return zr&21?(Zt(n,t)||(n=sh(),Ie.lanes|=n,Or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function Bv(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=tl.transition;tl.transition={};try{e(!1),t()}finally{je=n,tl.transition=r}}function ep(){return Ut().memoizedState}function $v(e,t,n){var r=nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tp(e))np(t,n);else if(n=Dh(e,t,n,r),n!==null){var s=ft();Qt(n,e,r,s),rp(n,t,r)}}function Mv(e,t,n){var r=nr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tp(e))np(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Zt(l,o)){var c=t.interleaved;c===null?(s.next=s,Gc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Dh(e,t,s,r),n!==null&&(s=ft(),Qt(n,e,r,s),rp(n,t,r))}}function tp(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function np(e,t){ri=Wa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ac(e,n)}}var Ha={readContext:Ft,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Vv={readContext:Ft,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:kd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ma(4194308,4,Qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=an();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=an();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$v.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:yd,useDebugValue:ru,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=yd(!1),t=e[0];return e=Bv.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,s=an();if(Oe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Qe===null)throw Error(U(349));zr&30||$h(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,kd(Vh.bind(null,r,a,e),[e]),r.flags|=2048,ji(9,Mh.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=an(),t=Qe.identifierPrefix;if(Oe){var n=wn,r=xn;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Uv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wv={readContext:Ft,useCallback:Xh,useContext:Ft,useEffect:nu,useImperativeHandle:Zh,useInsertionEffect:qh,useLayoutEffect:Gh,useMemo:Jh,useReducer:nl,useRef:Kh,useState:function(){return nl(wi)},useDebugValue:ru,useDeferredValue:function(e){var t=Ut();return Yh(t,Ke.memoizedState,e)},useTransition:function(){var e=nl(wi)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:Uh,useSyncExternalStore:Bh,useId:ep,unstable_isNewReconciler:!1},Hv={readContext:Ft,useCallback:Xh,useContext:Ft,useEffect:nu,useImperativeHandle:Zh,useInsertionEffect:qh,useLayoutEffect:Gh,useMemo:Jh,useReducer:rl,useRef:Kh,useState:function(){return rl(wi)},useDebugValue:ru,useDeferredValue:function(e){var t=Ut();return Ke===null?t.memoizedState=e:Yh(t,Ke.memoizedState,e)},useTransition:function(){var e=rl(wi)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:Uh,useSyncExternalStore:Bh,useId:ep,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ql(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ft(),s=nr(e),a=jn(r,s);a.payload=t,n!=null&&(a.callback=n),t=er(e,a,s),t!==null&&(Qt(t,e,s,r),ha(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ft(),s=nr(e),a=jn(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=er(e,a,s),t!==null&&(Qt(t,e,s,r),ha(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),r=nr(e),s=jn(n,r);s.tag=2,t!=null&&(s.callback=t),t=er(e,s,r),t!==null&&(Qt(t,e,r,n),ha(t,e,r))}};function xd(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!pi(n,r)||!pi(s,a):!0}function sp(e,t,n){var r=!1,s=ar,a=t.contextType;return typeof a=="object"&&a!==null?a=Ft(a):(s=xt(t)?_r:ot.current,r=t.contextTypes,a=(r=r!=null)?ms(e,s):ar),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function wd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function Gl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Qc(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ft(a):(a=xt(t)?_r:ot.current,s.context=ms(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ql(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ao.enqueueReplaceState(s,s.state,null),Ma(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ks(e,t){try{var n="",r=t;do n+=kg(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function sl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ql(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kv=typeof WeakMap=="function"?WeakMap:Map;function ip(e,t,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qa||(qa=!0,ic=r),Ql(e,t)},n}function ap(e,t,n){n=jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ql(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ql(e,t),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ay.bind(null,e,t,n),t.then(e,e))}function Nd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jn(-1,1),t.tag=2,er(n,t,1))),n.lanes|=1),e)}var qv=En.ReactCurrentOwner,yt=!1;function dt(e,t,n,r){t.child=e===null?Lh(t,null,n,r):vs(t,e.child,n,r)}function Cd(e,t,n,r,s){n=n.render;var a=t.ref;return fs(t,s),r=eu(e,t,n,r,a,s),n=tu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bn(e,t,s)):(Oe&&n&&Mc(t),t.flags|=1,dt(e,t,r,s),t.child)}function bd(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!du(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,op(e,t,a,r,s)):(e=ka(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(o,r)&&e.ref===t.ref)return bn(e,t,s)}return t.flags|=1,e=rr(a,r),e.ref=t.ref,e.return=t,t.child=e}function op(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(pi(a,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,bn(e,t,s)}return Zl(e,t,n,r,s)}function lp(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(os,Ct),Ct|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(os,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Te(os,Ct),Ct|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Te(os,Ct),Ct|=r;return dt(e,t,s,n),t.child}function cp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zl(e,t,n,r,s){var a=xt(n)?_r:ot.current;return a=ms(t,a),fs(t,s),n=eu(e,t,n,r,a,s),r=tu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bn(e,t,s)):(Oe&&r&&Mc(t),t.flags|=1,dt(e,t,n,s),t.child)}function Ed(e,t,n,r,s){if(xt(n)){var a=!0;Ia(t)}else a=!1;if(fs(t,s),t.stateNode===null)ga(e,t),sp(t,n,r),Gl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=xt(n)?_r:ot.current,u=ms(t,u));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&wd(t,o,r,u),Wn=!1;var m=t.memoizedState;o.state=m,Ma(t,r,o,s),c=t.memoizedState,l!==r||m!==c||kt.current||Wn?(typeof f=="function"&&(ql(t,n,f,r),c=t.memoizedState),(l=Wn||xd(t,n,l,r,m,c,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ih(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Wt(t.type,l),o.props=u,g=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ft(c):(c=xt(n)?_r:ot.current,c=ms(t,c));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||m!==c)&&wd(t,o,r,c),Wn=!1,m=t.memoizedState,o.state=m,Ma(t,r,o,s);var y=t.memoizedState;l!==g||m!==y||kt.current||Wn?(typeof w=="function"&&(ql(t,n,w,r),y=t.memoizedState),(u=Wn||xd(t,n,u,r,m,y,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Xl(e,t,n,r,a,s)}function Xl(e,t,n,r,s,a){cp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&fd(t,n,!1),bn(e,t,a);r=t.stateNode,qv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=vs(t,e.child,null,a),t.child=vs(t,null,l,a)):dt(e,t,l,a),t.memoizedState=r.state,s&&fd(t,n,!0),t.child}function up(e){var t=e.stateNode;t.pendingContext?dd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dd(e,t.context,!1),Zc(e,t.containerInfo)}function Td(e,t,n,r,s){return gs(),Wc(s),t.flags|=256,dt(e,t,n,r),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function dp(e,t,n){var r=t.pendingProps,s=De.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(De,s&1),e===null)return Hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=co(o,r,0,null),e=Er(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Yl(n),t.memoizedState=Jl,e):su(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Gv(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=rr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=rr(l,a):(a=Er(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Yl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Jl,r}return a=e.child,e=a.sibling,r=rr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function su(e,t){return t=co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ta(e,t,n,r){return r!==null&&Wc(r),vs(t,e.child,null,n),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gv(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=sl(Error(U(422))),ta(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=co({mode:"visible",children:r.children},s,0,null),a=Er(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&vs(t,e.child,null,o),t.child.memoizedState=Yl(o),t.memoizedState=Jl,a);if(!(t.mode&1))return ta(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(U(419)),r=sl(a,r,void 0),ta(e,t,o,r)}if(l=(o&e.childLanes)!==0,yt||l){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Cn(e,s),Qt(r,e,s,-1))}return uu(),r=sl(Error(U(421))),ta(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=oy.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,bt=Yn(s.nextSibling),Et=t,Oe=!0,qt=null,e!==null&&(Ot[At++]=xn,Ot[At++]=wn,Ot[At++]=Rr,xn=e.id,wn=e.overflow,Rr=t),t=su(t,r.children),t.flags|=4096,t)}function Pd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kl(e.return,t,n)}function il(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function fp(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(dt(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pd(e,n,t);else if(e.tag===19)Pd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(De,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Va(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),il(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Va(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}il(t,!0,n,null,a);break;case"together":il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qv(e,t,n){switch(t.tag){case 3:up(t),gs();break;case 5:Fh(t);break;case 1:xt(t.type)&&Ia(t);break;case 4:Zc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Te(Ba,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?dp(e,t,n):(Te(De,De.current&1),e=bn(e,t,n),e!==null?e.sibling:null);Te(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,lp(e,t,n)}return bn(e,t,n)}var hp,ec,pp,mp;hp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ec=function(){};pp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Nr(cn.current);var a=null;switch(n){case"input":s=jl(e,s),r=jl(e,r),a=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),a=[];break;case"textarea":s=Cl(e,s),r=Cl(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=La)}El(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&_e("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};mp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ms(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zv(e,t,n){var r=t.pendingProps;switch(Vc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return xt(t.type)&&Da(),st(t),null;case 3:return r=t.stateNode,ys(),Re(kt),Re(ot),Jc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(lc(qt),qt=null))),ec(e,t),st(t),null;case 5:Xc(t);var s=Nr(ki.current);if(n=t.type,e!==null&&t.stateNode!=null)pp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return st(t),null}if(e=Nr(cn.current),Yi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[on]=t,r[vi]=a,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<Zs.length;s++)_e(Zs[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Fu(r,a),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},_e("invalid",r);break;case"textarea":Bu(r,a),_e("invalid",r)}El(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ji(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ji(r.textContent,l,e),s=["children",""+l]):oi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Wi(r),Uu(r,a,!0);break;case"textarea":Wi(r),$u(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=La)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[on]=t,e[vi]=r,hp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Tl(n,r),n){case"dialog":_e("cancel",e),_e("close",e),s=r;break;case"iframe":case"object":case"embed":_e("load",e),s=r;break;case"video":case"audio":for(s=0;s<Zs.length;s++)_e(Zs[s],e);s=r;break;case"source":_e("error",e),s=r;break;case"img":case"image":case"link":_e("error",e),_e("load",e),s=r;break;case"details":_e("toggle",e),s=r;break;case"input":Fu(e,r),s=jl(e,r),_e("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),_e("invalid",e);break;case"textarea":Bu(e,r),s=Cl(e,r),_e("invalid",e);break;default:s=r}El(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Kf(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wf(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&li(e,c):typeof c=="number"&&li(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(oi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&_e("scroll",e):c!=null&&Tc(e,a,c,o))}switch(n){case"input":Wi(e),Uu(e,r,!1);break;case"textarea":Wi(e),$u(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ir(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ls(e,!!r.multiple,a,!1):r.defaultValue!=null&&ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=La)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)mp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Nr(ki.current),Nr(cn.current),Yi(t)){if(r=t.stateNode,n=t.memoizedProps,r[on]=t,(a=r.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:Ji(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ji(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[on]=t,t.stateNode=r}return st(t),null;case 13:if(Re(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&bt!==null&&t.mode&1&&!(t.flags&128))Oh(),gs(),t.flags|=98560,a=!1;else if(a=Yi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(U(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));a[on]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),a=!1}else qt!==null&&(lc(qt),qt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?qe===0&&(qe=3):uu())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return ys(),ec(e,t),e===null&&mi(t.stateNode.containerInfo),st(t),null;case 10:return qc(t.type._context),st(t),null;case 17:return xt(t.type)&&Da(),st(t),null;case 19:if(Re(De),a=t.memoizedState,a===null)return st(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ms(a,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Va(e),o!==null){for(t.flags|=128,Ms(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(De,De.current&1|2),t.child}e=e.sibling}a.tail!==null&&$e()>xs&&(t.flags|=128,r=!0,Ms(a,!1),t.lanes=4194304)}else{if(!r)if(e=Va(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ms(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Oe)return st(t),null}else 2*$e()-a.renderingStartTime>xs&&n!==1073741824&&(t.flags|=128,r=!0,Ms(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=De.current,Te(De,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return cu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ct&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Xv(e,t){switch(Vc(t),t.tag){case 1:return xt(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ys(),Re(kt),Re(ot),Jc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xc(t),null;case 13:if(Re(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(De),null;case 4:return ys(),null;case 10:return qc(t.type._context),null;case 22:case 23:return cu(),null;case 24:return null;default:return null}}var na=!1,it=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,G=null;function as(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Ue(e,t,r)}}var _d=!1;function Yv(e,t){if(Fl=za,e=xh(),$c(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,g=e,m=null;t:for(;;){for(var w;g!==n||s!==0&&g.nodeType!==3||(l=o+s),g!==a||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(w=g.firstChild)!==null;)m=g,g=w;for(;;){if(g===e)break t;if(m===n&&++u===s&&(l=o),m===a&&++f===r&&(c=o),(w=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ul={focusedElem:e,selectionRange:n},za=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,S=y.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:Wt(t.type,j),S);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){Ue(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return y=_d,_d=!1,y}function si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&tc(t,n,a)}s=s.next}while(s!==r)}}function oo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gp(e){var t=e.alternate;t!==null&&(e.alternate=null,gp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[vi],delete t[Ml],delete t[Lv],delete t[Dv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vp(e){return e.tag===5||e.tag===3||e.tag===4}function Rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=La));else if(r!==4&&(e=e.child,e!==null))for(rc(e,t,n),e=e.sibling;e!==null;)rc(e,t,n),e=e.sibling}function sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sc(e,t,n),e=e.sibling;e!==null;)sc(e,t,n),e=e.sibling}var Ze=null,Ht=!1;function Mn(e,t,n){for(n=n.child;n!==null;)yp(e,t,n),n=n.sibling}function yp(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ya,n)}catch{}switch(n.tag){case 5:it||as(n,t);case 6:var r=Ze,s=Ht;Ze=null,Mn(e,t,n),Ze=r,Ht=s,Ze!==null&&(Ht?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Ht?(e=Ze,n=n.stateNode,e.nodeType===8?Jo(e.parentNode,n):e.nodeType===1&&Jo(e,n),fi(e)):Jo(Ze,n.stateNode));break;case 4:r=Ze,s=Ht,Ze=n.stateNode.containerInfo,Ht=!0,Mn(e,t,n),Ze=r,Ht=s;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&tc(n,t,o),s=s.next}while(s!==r)}Mn(e,t,n);break;case 1:if(!it&&(as(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ue(n,t,l)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Mn(e,t,n),it=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function zd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jv),t.forEach(function(r){var s=ly.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ze=l.stateNode,Ht=!1;break e;case 3:Ze=l.stateNode.containerInfo,Ht=!0;break e;case 4:Ze=l.stateNode.containerInfo,Ht=!0;break e}l=l.return}if(Ze===null)throw Error(U(160));yp(a,o,s),Ze=null,Ht=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kp(t,e),t=t.sibling}function kp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),rn(e),r&4){try{si(3,e,e.return),oo(3,e)}catch(j){Ue(e,e.return,j)}try{si(5,e,e.return)}catch(j){Ue(e,e.return,j)}}break;case 1:Vt(t,e),rn(e),r&512&&n!==null&&as(n,n.return);break;case 5:if(Vt(t,e),rn(e),r&512&&n!==null&&as(n,n.return),e.flags&32){var s=e.stateNode;try{li(s,"")}catch(j){Ue(e,e.return,j)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&$f(s,a),Tl(l,o);var u=Tl(l,a);for(o=0;o<c.length;o+=2){var f=c[o],g=c[o+1];f==="style"?Kf(s,g):f==="dangerouslySetInnerHTML"?Wf(s,g):f==="children"?li(s,g):Tc(s,f,g,u)}switch(l){case"input":Nl(s,a);break;case"textarea":Mf(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?ls(s,!!a.multiple,w,!1):m!==!!a.multiple&&(a.defaultValue!=null?ls(s,!!a.multiple,a.defaultValue,!0):ls(s,!!a.multiple,a.multiple?[]:"",!1))}s[vi]=a}catch(j){Ue(e,e.return,j)}}break;case 6:if(Vt(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(j){Ue(e,e.return,j)}}break;case 3:if(Vt(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fi(t.containerInfo)}catch(j){Ue(e,e.return,j)}break;case 4:Vt(t,e),rn(e);break;case 13:Vt(t,e),rn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ou=$e())),r&4&&zd(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(it=(u=it)||f,Vt(t,e),it=u):Vt(t,e),rn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(G=e,f=e.child;f!==null;){for(g=G=f;G!==null;){switch(m=G,w=m.child,m.tag){case 0:case 11:case 14:case 15:si(4,m,m.return);break;case 1:as(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){Ue(r,n,j)}}break;case 5:as(m,m.return);break;case 22:if(m.memoizedState!==null){Ad(g);continue}}w!==null?(w.return=m,G=w):Ad(g)}f=f.sibling}e:for(f=null,g=e;;){if(g.tag===5){if(f===null){f=g;try{s=g.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Hf("display",o))}catch(j){Ue(e,e.return,j)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(j){Ue(e,e.return,j)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Vt(t,e),rn(e),r&4&&zd(e);break;case 21:break;default:Vt(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vp(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(li(s,""),r.flags&=-33);var a=Rd(e);sc(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Rd(e);rc(e,l,o);break;default:throw Error(U(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ey(e,t,n){G=e,xp(e)}function xp(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||na;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||it;l=na;var u=it;if(na=o,(it=c)&&!u)for(G=s;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?Ld(s):c!==null?(c.return=o,G=c):Ld(s);for(;a!==null;)G=a,xp(a),a=a.sibling;G=s,na=l,it=u}Od(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,G=a):Od(e)}}function Od(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||oo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&vd(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&fi(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}it||t.flags&512&&nc(t)}catch(m){Ue(t,t.return,m)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Ad(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Ld(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oo(4,t)}catch(c){Ue(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ue(t,s,c)}}var a=t.return;try{nc(t)}catch(c){Ue(t,a,c)}break;case 5:var o=t.return;try{nc(t)}catch(c){Ue(t,o,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var ty=Math.ceil,Ka=En.ReactCurrentDispatcher,iu=En.ReactCurrentOwner,It=En.ReactCurrentBatchConfig,ke=0,Qe=null,Ve=null,Xe=0,Ct=0,os=lr(0),qe=0,Ni=null,Or=0,lo=0,au=0,ii=null,vt=null,ou=0,xs=1/0,yn=null,qa=!1,ic=null,tr=null,ra=!1,Gn=null,Ga=0,ai=0,ac=null,va=-1,ya=0;function ft(){return ke&6?$e():va!==-1?va:va=$e()}function nr(e){return e.mode&1?ke&2&&Xe!==0?Xe&-Xe:Fv.transition!==null?(ya===0&&(ya=sh()),ya):(e=je,e!==0||(e=window.event,e=e===void 0?16:dh(e.type)),e):1}function Qt(e,t,n,r){if(50<ai)throw ai=0,ac=null,Error(U(185));Ei(e,n,r),(!(ke&2)||e!==Qe)&&(e===Qe&&(!(ke&2)&&(lo|=n),qe===4&&Kn(e,Xe)),wt(e,r),n===1&&ke===0&&!(t.mode&1)&&(xs=$e()+500,so&&cr()))}function wt(e,t){var n=e.callbackNode;Fg(e,t);var r=Ra(e,e===Qe?Xe:0);if(r===0)n!==null&&Wu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wu(n),t===1)e.tag===0?Iv(Dd.bind(null,e)):_h(Dd.bind(null,e)),Ov(function(){!(ke&6)&&cr()}),n=null;else{switch(ih(r)){case 1:n=Oc;break;case 4:n=nh;break;case 16:n=_a;break;case 536870912:n=rh;break;default:n=_a}n=Tp(n,wp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wp(e,t){if(va=-1,ya=0,ke&6)throw Error(U(327));var n=e.callbackNode;if(hs()&&e.callbackNode!==n)return null;var r=Ra(e,e===Qe?Xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qa(e,r);else{t=r;var s=ke;ke|=2;var a=Np();(Qe!==e||Xe!==t)&&(yn=null,xs=$e()+500,br(e,t));do try{sy();break}catch(l){jp(e,l)}while(!0);Kc(),Ka.current=a,ke=s,Ve!==null?t=0:(Qe=null,Xe=0,t=qe)}if(t!==0){if(t===2&&(s=Ol(e),s!==0&&(r=s,t=oc(e,s))),t===1)throw n=Ni,br(e,0),Kn(e,r),wt(e,$e()),n;if(t===6)Kn(e,r);else{if(s=e.current.alternate,!(r&30)&&!ny(s)&&(t=Qa(e,r),t===2&&(a=Ol(e),a!==0&&(r=a,t=oc(e,a))),t===1))throw n=Ni,br(e,0),Kn(e,r),wt(e,$e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:xr(e,vt,yn);break;case 3:if(Kn(e,r),(r&130023424)===r&&(t=ou+500-$e(),10<t)){if(Ra(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$l(xr.bind(null,e,vt,yn),t);break}xr(e,vt,yn);break;case 4:if(Kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Gt(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ty(r/1960))-r,10<r){e.timeoutHandle=$l(xr.bind(null,e,vt,yn),r);break}xr(e,vt,yn);break;case 5:xr(e,vt,yn);break;default:throw Error(U(329))}}}return wt(e,$e()),e.callbackNode===n?wp.bind(null,e):null}function oc(e,t){var n=ii;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=Qa(e,t),e!==2&&(t=vt,vt=n,t!==null&&lc(t)),e}function lc(e){vt===null?vt=e:vt.push.apply(vt,e)}function ny(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Zt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t){for(t&=~au,t&=~lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function Dd(e){if(ke&6)throw Error(U(327));hs();var t=Ra(e,0);if(!(t&1))return wt(e,$e()),null;var n=Qa(e,t);if(e.tag!==0&&n===2){var r=Ol(e);r!==0&&(t=r,n=oc(e,r))}if(n===1)throw n=Ni,br(e,0),Kn(e,t),wt(e,$e()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,vt,yn),wt(e,$e()),null}function lu(e,t){var n=ke;ke|=1;try{return e(t)}finally{ke=n,ke===0&&(xs=$e()+500,so&&cr())}}function Ar(e){Gn!==null&&Gn.tag===0&&!(ke&6)&&hs();var t=ke;ke|=1;var n=It.transition,r=je;try{if(It.transition=null,je=1,e)return e()}finally{je=r,It.transition=n,ke=t,!(ke&6)&&cr()}}function cu(){Ct=os.current,Re(os)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zv(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(Vc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Da();break;case 3:ys(),Re(kt),Re(ot),Jc();break;case 5:Xc(r);break;case 4:ys();break;case 13:Re(De);break;case 19:Re(De);break;case 10:qc(r.type._context);break;case 22:case 23:cu()}n=n.return}if(Qe=e,Ve=e=rr(e.current,null),Xe=Ct=t,qe=0,Ni=null,au=lo=Or=0,vt=ii=null,jr!==null){for(t=0;t<jr.length;t++)if(n=jr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}jr=null}return e}function jp(e,t){do{var n=Ve;try{if(Kc(),pa.current=Ha,Wa){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wa=!1}if(zr=0,Ge=Ke=Ie=null,ri=!1,xi=0,iu.current=null,n===null||n.return===null){qe=1,Ni=t,Ve=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Xe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=Nd(o);if(w!==null){w.flags&=-257,Sd(w,o,l,a,t),w.mode&1&&jd(a,u,t),t=w,c=u;var y=t.updateQueue;if(y===null){var j=new Set;j.add(c),t.updateQueue=j}else y.add(c);break e}else{if(!(t&1)){jd(a,u,t),uu();break e}c=Error(U(426))}}else if(Oe&&l.mode&1){var S=Nd(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Sd(S,o,l,a,t),Wc(ks(c,l));break e}}a=c=ks(c,l),qe!==4&&(qe=2),ii===null?ii=[a]:ii.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=ip(a,c,t);gd(a,h);break e;case 1:l=c;var p=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(tr===null||!tr.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=ap(a,l,t);gd(a,E);break e}}a=a.return}while(a!==null)}Cp(n)}catch(z){t=z,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function Np(){var e=Ka.current;return Ka.current=Ha,e===null?Ha:e}function uu(){(qe===0||qe===3||qe===2)&&(qe=4),Qe===null||!(Or&268435455)&&!(lo&268435455)||Kn(Qe,Xe)}function Qa(e,t){var n=ke;ke|=2;var r=Np();(Qe!==e||Xe!==t)&&(yn=null,br(e,t));do try{ry();break}catch(s){jp(e,s)}while(!0);if(Kc(),ke=n,Ka.current=r,Ve!==null)throw Error(U(261));return Qe=null,Xe=0,qe}function ry(){for(;Ve!==null;)Sp(Ve)}function sy(){for(;Ve!==null&&!Pg();)Sp(Ve)}function Sp(e){var t=Ep(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?Cp(e):Ve=t,iu.current=null}function Cp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xv(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ve=null;return}}else if(n=Zv(n,t,Ct),n!==null){Ve=n;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);qe===0&&(qe=5)}function xr(e,t,n){var r=je,s=It.transition;try{It.transition=null,je=1,iy(e,t,n,r)}finally{It.transition=s,je=r}return null}function iy(e,t,n,r){do hs();while(Gn!==null);if(ke&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Ug(e,a),e===Qe&&(Ve=Qe=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ra||(ra=!0,Tp(_a,function(){return hs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=It.transition,It.transition=null;var o=je;je=1;var l=ke;ke|=4,iu.current=null,Yv(e,n),kp(n,e),Cv(Ul),za=!!Fl,Ul=Fl=null,e.current=n,ey(n),_g(),ke=l,je=o,It.transition=a}else e.current=n;if(ra&&(ra=!1,Gn=e,Ga=s),a=e.pendingLanes,a===0&&(tr=null),Og(n.stateNode),wt(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qa)throw qa=!1,e=ic,ic=null,e;return Ga&1&&e.tag!==0&&hs(),a=e.pendingLanes,a&1?e===ac?ai++:(ai=0,ac=e):ai=0,cr(),null}function hs(){if(Gn!==null){var e=ih(Ga),t=It.transition,n=je;try{if(It.transition=null,je=16>e?16:e,Gn===null)var r=!1;else{if(e=Gn,Gn=null,Ga=0,ke&6)throw Error(U(331));var s=ke;for(ke|=4,G=e.current;G!==null;){var a=G,o=a.child;if(G.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(G=u;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:si(8,f,a)}var g=f.child;if(g!==null)g.return=f,G=g;else for(;G!==null;){f=G;var m=f.sibling,w=f.return;if(gp(f),f===u){G=null;break}if(m!==null){m.return=w,G=m;break}G=w}}}var y=a.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var S=j.sibling;j.sibling=null,j=S}while(j!==null)}}G=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,G=o;else e:for(;G!==null;){if(a=G,a.flags&2048)switch(a.tag){case 0:case 11:case 15:si(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,G=h;break e}G=a.return}}var p=e.current;for(G=p;G!==null;){o=G;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,G=k;else e:for(o=p;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oo(9,l)}}catch(z){Ue(l,l.return,z)}if(l===o){G=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,G=E;break e}G=l.return}}if(ke=s,cr(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ya,e)}catch{}r=!0}return r}finally{je=n,It.transition=t}}return!1}function Id(e,t,n){t=ks(n,t),t=ip(e,t,1),e=er(e,t,1),t=ft(),e!==null&&(Ei(e,1,t),wt(e,t))}function Ue(e,t,n){if(e.tag===3)Id(e,e,n);else for(;t!==null;){if(t.tag===3){Id(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){e=ks(n,e),e=ap(t,e,1),t=er(t,e,1),e=ft(),t!==null&&(Ei(t,1,e),wt(t,e));break}}t=t.return}}function ay(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(Xe&n)===n&&(qe===4||qe===3&&(Xe&130023424)===Xe&&500>$e()-ou?br(e,0):au|=n),wt(e,t)}function bp(e,t){t===0&&(e.mode&1?(t=qi,qi<<=1,!(qi&130023424)&&(qi=4194304)):t=1);var n=ft();e=Cn(e,t),e!==null&&(Ei(e,t,n),wt(e,n))}function oy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bp(e,n)}function ly(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),bp(e,n)}var Ep;Ep=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,Qv(e,t,n);yt=!!(e.flags&131072)}else yt=!1,Oe&&t.flags&1048576&&Rh(t,Ua,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ga(e,t),e=t.pendingProps;var s=ms(t,ot.current);fs(t,n),s=eu(null,t,r,e,s,n);var a=tu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(a=!0,Ia(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qc(t),s.updater=ao,t.stateNode=s,s._reactInternals=t,Gl(t,r,e,n),t=Xl(null,t,r,!0,a,n)):(t.tag=0,Oe&&a&&Mc(t),dt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ga(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=uy(r),e=Wt(r,e),s){case 0:t=Zl(null,t,r,e,n);break e;case 1:t=Ed(null,t,r,e,n);break e;case 11:t=Cd(null,t,r,e,n);break e;case 14:t=bd(null,t,r,Wt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),Zl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),Ed(e,t,r,s,n);case 3:e:{if(up(t),e===null)throw Error(U(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Ih(e,t),Ma(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ks(Error(U(423)),t),t=Td(e,t,r,n,s);break e}else if(r!==s){s=ks(Error(U(424)),t),t=Td(e,t,r,n,s);break e}else for(bt=Yn(t.stateNode.containerInfo.firstChild),Et=t,Oe=!0,qt=null,n=Lh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),r===s){t=bn(e,t,n);break e}dt(e,t,r,n)}t=t.child}return t;case 5:return Fh(t),e===null&&Hl(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Bl(r,s)?o=null:a!==null&&Bl(r,a)&&(t.flags|=32),cp(e,t),dt(e,t,o,n),t.child;case 6:return e===null&&Hl(t),null;case 13:return dp(e,t,n);case 4:return Zc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vs(t,null,r,n):dt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),Cd(e,t,r,s,n);case 7:return dt(e,t,t.pendingProps,n),t.child;case 8:return dt(e,t,t.pendingProps.children,n),t.child;case 12:return dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Te(Ba,r._currentValue),r._currentValue=o,a!==null)if(Zt(a.value,o)){if(a.children===s.children&&!kt.current){t=bn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=jn(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Kl(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Kl(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}dt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fs(t,n),s=Ft(s),r=r(s),t.flags|=1,dt(e,t,r,n),t.child;case 14:return r=t.type,s=Wt(r,t.pendingProps),s=Wt(r.type,s),bd(e,t,r,s,n);case 15:return op(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),ga(e,t),t.tag=1,xt(r)?(e=!0,Ia(t)):e=!1,fs(t,n),sp(t,r,s),Gl(t,r,s,n),Xl(null,t,r,!0,e,n);case 19:return fp(e,t,n);case 22:return lp(e,t,n)}throw Error(U(156,t.tag))};function Tp(e,t){return th(e,t)}function cy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,r){return new cy(e,t,n,r)}function du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uy(e){if(typeof e=="function")return du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_c)return 11;if(e===Rc)return 14}return 2}function rr(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ka(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")du(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xr:return Er(n.children,s,a,t);case Pc:o=8,s|=8;break;case yl:return e=Dt(12,n,t,s|2),e.elementType=yl,e.lanes=a,e;case kl:return e=Dt(13,n,t,s),e.elementType=kl,e.lanes=a,e;case xl:return e=Dt(19,n,t,s),e.elementType=xl,e.lanes=a,e;case Ff:return co(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Df:o=10;break e;case If:o=9;break e;case _c:o=11;break e;case Rc:o=14;break e;case Vn:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Dt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Er(e,t,n,r){return e=Dt(7,e,r,t),e.lanes=n,e}function co(e,t,n,r){return e=Dt(22,e,r,t),e.elementType=Ff,e.lanes=n,e.stateNode={isHidden:!1},e}function al(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function ol(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fu(e,t,n,r,s,a,o,l,c){return e=new dy(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Dt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(a),e}function fy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Pp(e){if(!e)return ar;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(xt(n))return Ph(e,n,t)}return t}function _p(e,t,n,r,s,a,o,l,c){return e=fu(n,r,!0,e,s,a,o,l,c),e.context=Pp(null),n=e.current,r=ft(),s=nr(n),a=jn(r,s),a.callback=t??null,er(n,a,s),e.current.lanes=s,Ei(e,s,r),wt(e,r),e}function uo(e,t,n,r){var s=t.current,a=ft(),o=nr(s);return n=Pp(n),t.context===null?t.context=n:t.pendingContext=n,t=jn(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=er(s,t,o),e!==null&&(Qt(e,s,o,a),ha(e,s,o)),o}function Za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hu(e,t){Fd(e,t),(e=e.alternate)&&Fd(e,t)}function hy(){return null}var Rp=typeof reportError=="function"?reportError:function(e){console.error(e)};function pu(e){this._internalRoot=e}fo.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));uo(e,t,null,null)};fo.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){uo(null,e,null,null)}),t[Sn]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var t=lh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&uh(e)}};function mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ud(){}function py(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Za(o);a.call(u)}}var o=_p(t,r,e,0,null,!1,!1,"",Ud);return e._reactRootContainer=o,e[Sn]=o.current,mi(e.nodeType===8?e.parentNode:e),Ar(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Za(c);l.call(u)}}var c=fu(e,0,!1,null,null,!1,!1,"",Ud);return e._reactRootContainer=c,e[Sn]=c.current,mi(e.nodeType===8?e.parentNode:e),Ar(function(){uo(t,c,n,r)}),c}function po(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Za(o);l.call(c)}}uo(t,o,e,s)}else o=py(n,t,e,s,r);return Za(o)}ah=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qs(t.pendingLanes);n!==0&&(Ac(t,n|1),wt(t,$e()),!(ke&6)&&(xs=$e()+500,cr()))}break;case 13:Ar(function(){var r=Cn(e,1);if(r!==null){var s=ft();Qt(r,e,1,s)}}),hu(e,1)}};Lc=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=ft();Qt(t,e,134217728,n)}hu(e,134217728)}};oh=function(e){if(e.tag===13){var t=nr(e),n=Cn(e,t);if(n!==null){var r=ft();Qt(n,e,t,r)}hu(e,t)}};lh=function(){return je};ch=function(e,t){var n=je;try{return je=e,t()}finally{je=n}};_l=function(e,t,n){switch(t){case"input":if(Nl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ro(r);if(!s)throw Error(U(90));Bf(r),Nl(r,s)}}}break;case"textarea":Mf(e,n);break;case"select":t=n.value,t!=null&&ls(e,!!n.multiple,t,!1)}};Qf=lu;Zf=Ar;var my={usingClientEntryPoint:!1,Events:[Pi,ts,ro,qf,Gf,lu]},Vs={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gy={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yf(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{Ya=sa.inject(gy),ln=sa}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mu(t))throw Error(U(200));return fy(e,t,null,n)};Pt.createRoot=function(e,t){if(!mu(e))throw Error(U(299));var n=!1,r="",s=Rp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fu(e,1,!1,null,null,n,!1,r,s),e[Sn]=t.current,mi(e.nodeType===8?e.parentNode:e),new pu(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Yf(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return Ar(e)};Pt.hydrate=function(e,t,n){if(!ho(t))throw Error(U(200));return po(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!mu(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=Rp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_p(t,null,e,1,n??null,s,!1,a,o),e[Sn]=t.current,mi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fo(t)};Pt.render=function(e,t,n){if(!ho(t))throw Error(U(200));return po(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!ho(e))throw Error(U(40));return e._reactRootContainer?(Ar(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};Pt.unstable_batchedUpdates=lu;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ho(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return po(e,t,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function zp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zp)}catch(e){console.error(e)}}zp(),zf.exports=Pt;var vy=zf.exports,Bd=vy;gl.createRoot=Bd.createRoot,gl.hydrateRoot=Bd.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const $d="popstate";function yy(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return cc("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Op(s)}return xy(t,n,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ky(){return Math.random().toString(36).substr(2,8)}function Md(e,t){return{usr:e.state,key:e.key,idx:t}}function cc(e,t,n,r){return n===void 0&&(n=null),Si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cs(t):t,{state:n,key:t&&t.key||r||ky()})}function Op(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xy(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Qn.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Si({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function g(){l=Qn.Pop;let S=f(),h=S==null?null:S-u;u=S,c&&c({action:l,location:j.location,delta:h})}function m(S,h){l=Qn.Push;let p=cc(j.location,S,h);u=f()+1;let k=Md(p,u),E=j.createHref(p);try{o.pushState(k,"",E)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(E)}a&&c&&c({action:l,location:j.location,delta:1})}function w(S,h){l=Qn.Replace;let p=cc(j.location,S,h);u=f();let k=Md(p,u),E=j.createHref(p);o.replaceState(k,"",E),a&&c&&c({action:l,location:j.location,delta:0})}function y(S){let h=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof S=="string"?S:Op(S);return p=p.replace(/ $/,"%20"),He(h,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,h)}let j={get action(){return l},get location(){return e(s,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener($d,g),c=S,()=>{s.removeEventListener($d,g),c=null}},createHref(S){return t(s,S)},createURL:y,encodeLocation(S){let h=y(S);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:w,go(S){return o.go(S)}};return j}var Vd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vd||(Vd={}));function wy(e,t,n){return n===void 0&&(n="/"),jy(e,t,n)}function jy(e,t,n,r){let s=typeof t=="string"?Cs(t):t,a=Dp(s.pathname||"/",n);if(a==null)return null;let o=Ap(e);Ny(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Ly(a);l=zy(o[c],u)}return l}function Ap(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Tr([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(He(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ap(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:_y(u,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Lp(a.path))s(a,o,c)}),t}function Lp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=Lp(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ny(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ry(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Sy=/^:[\w-]+$/,Cy=3,by=2,Ey=1,Ty=10,Py=-2,Wd=e=>e==="*";function _y(e,t){let n=e.split("/"),r=n.length;return n.some(Wd)&&(r+=Py),t&&(r+=by),n.filter(s=>!Wd(s)).reduce((s,a)=>s+(Sy.test(a)?Cy:a===""?Ey:Ty),r)}function Ry(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function zy(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",g=Oy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Tr([a,g.pathname]),pathnameBase:By(Tr([a,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(a=Tr([a,g.pathnameBase]))}return o}function Oy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ay(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,f,g)=>{let{paramName:m,isOptional:w}=f;if(m==="*"){let j=l[g]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const y=l[g];return w&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Ay(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),gu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ly(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iy=e=>Dy.test(e);function Fy(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Cs(e):e,a;if(n)if(Iy(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),gu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=Hd(n.substring(1),"/"):a=Hd(n,t)}else a=t;return{pathname:a,search:$y(r),hash:My(s)}}function Hd(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ll(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ip(e,t){let n=Uy(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fp(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Cs(e):(s=Si({},e),He(!s.pathname||!s.pathname.includes("?"),ll("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),ll("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),ll("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}l=g>=0?t[g]:"/"}let c=Fy(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Tr=e=>e.join("/").replace(/\/\/+/g,"/"),By=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$y=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,My=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Up=["post","put","patch","delete"];new Set(Up);const Wy=["get",...Up];new Set(Wy);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(this,arguments)}const vu=v.createContext(null),Hy=v.createContext(null),Ri=v.createContext(null),mo=v.createContext(null),Fr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Bp=v.createContext(null);function zi(){return v.useContext(mo)!=null}function bs(){return zi()||He(!1),v.useContext(mo).location}function $p(e){v.useContext(Ri).static||v.useLayoutEffect(e)}function ur(){let{isDataRoute:e}=v.useContext(Fr);return e?sk():Ky()}function Ky(){zi()||He(!1);let e=v.useContext(vu),{basename:t,future:n,navigator:r}=v.useContext(Ri),{matches:s}=v.useContext(Fr),{pathname:a}=bs(),o=JSON.stringify(Ip(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return $p(()=>{l.current=!0}),v.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let g=Fp(u,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Tr([t,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[t,r,o,a,e])}function qy(e,t){return Gy(e,t)}function Gy(e,t,n,r){zi()||He(!1);let{navigator:s}=v.useContext(Ri),{matches:a}=v.useContext(Fr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=bs(),f;if(t){var g;let S=typeof t=="string"?Cs(t):t;c==="/"||(g=S.pathname)!=null&&g.startsWith(c)||He(!1),f=S}else f=u;let m=f.pathname||"/",w=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=wy(e,{pathname:w}),j=Yy(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Tr([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Tr([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return t&&j?v.createElement(mo.Provider,{value:{location:Ci({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Qn.Pop}},j):j}function Qy(){let e=rk(),t=Vy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const Zy=v.createElement(Qy,null);class Xy extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Fr.Provider,{value:this.props.routeContext},v.createElement(Bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jy(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(vu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Fr.Provider,{value:t},r)}function Yy(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||He(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=f),g.route.id){let{loaderData:m,errors:w}=n,y=g.route.loader&&m[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,g,m)=>{let w,y=!1,j=null,S=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,j=g.route.errorElement||Zy,c&&(u<0&&m===0?(ik("route-fallback"),y=!0,S=null):u===m&&(y=!0,S=g.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,m+1)),p=()=>{let k;return w?k=j:y?k=S:g.route.Component?k=v.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=f,v.createElement(Jy,{match:g,routeContext:{outlet:f,matches:h,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?v.createElement(Xy,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var Mp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Mp||{}),Vp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vp||{});function ek(e){let t=v.useContext(vu);return t||He(!1),t}function tk(e){let t=v.useContext(Hy);return t||He(!1),t}function nk(e){let t=v.useContext(Fr);return t||He(!1),t}function Wp(e){let t=nk(),n=t.matches[t.matches.length-1];return n.route.id||He(!1),n.route.id}function rk(){var e;let t=v.useContext(Bp),n=tk(),r=Wp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function sk(){let{router:e}=ek(Mp.UseNavigateStable),t=Wp(Vp.UseNavigateStable),n=v.useRef(!1);return $p(()=>{n.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ci({fromRouteId:t},a)))},[e,t])}const Kd={};function ik(e,t,n){Kd[e]||(Kd[e]=!0)}function ak(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ws(e){let{to:t,replace:n,state:r,relative:s}=e;zi()||He(!1);let{future:a,static:o}=v.useContext(Ri),{matches:l}=v.useContext(Fr),{pathname:c}=bs(),u=ur(),f=Fp(t,Ip(l,a.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(f);return v.useEffect(()=>u(JSON.parse(g),{replace:n,state:r,relative:s}),[u,g,s,n,r]),null}function Qr(e){He(!1)}function ok(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Qn.Pop,navigator:a,static:o=!1,future:l}=e;zi()&&He(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:Ci({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Cs(r));let{pathname:f="/",search:g="",hash:m="",state:w=null,key:y="default"}=r,j=v.useMemo(()=>{let S=Dp(f,c);return S==null?null:{location:{pathname:S,search:g,hash:m,state:w,key:y},navigationType:s}},[c,f,g,m,w,y,s]);return j==null?null:v.createElement(Ri.Provider,{value:u},v.createElement(mo.Provider,{children:n,value:j}))}function lk(e){let{children:t,location:n}=e;return qy(uc(t),n)}new Promise(()=>{});function uc(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let a=[...t,s];if(r.type===v.Fragment){n.push.apply(n,uc(r.props.children,a));return}r.type!==Qr&&He(!1),!r.props.index||!r.props.children||He(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=uc(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ck="6";try{window.__reactRouterVersion=ck}catch{}const uk="startTransition",qd=ag[uk];function dk(e){let{basename:t,children:n,future:r,window:s}=e,a=v.useRef();a.current==null&&(a.current=yy({window:s,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=v.useCallback(g=>{u&&qd?qd(()=>c(g)):c(g)},[c,u]);return v.useLayoutEffect(()=>o.listen(f),[o,f]),v.useEffect(()=>ak(r),[r]),v.createElement(ok,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Gd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gd||(Gd={}));var Qd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qd||(Qd={}));function Hp(e,t){return function(){return e.apply(t,arguments)}}const{toString:fk}=Object.prototype,{getPrototypeOf:yu}=Object,{iterator:go,toStringTag:Kp}=Symbol,vo=(e=>t=>{const n=fk.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xt=e=>(e=e.toLowerCase(),t=>vo(t)===e),yo=e=>t=>typeof t===e,{isArray:Es}=Array,ws=yo("undefined");function Oi(e){return e!==null&&!ws(e)&&e.constructor!==null&&!ws(e.constructor)&&jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qp=Xt("ArrayBuffer");function hk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qp(e.buffer),t}const pk=yo("string"),jt=yo("function"),Gp=yo("number"),Ai=e=>e!==null&&typeof e=="object",mk=e=>e===!0||e===!1,xa=e=>{if(vo(e)!=="object")return!1;const t=yu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Kp in e)&&!(go in e)},gk=e=>{if(!Ai(e)||Oi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},vk=Xt("Date"),yk=Xt("File"),kk=Xt("Blob"),xk=Xt("FileList"),wk=e=>Ai(e)&&jt(e.pipe),jk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||jt(e.append)&&((t=vo(e))==="formdata"||t==="object"&&jt(e.toString)&&e.toString()==="[object FormData]"))},Nk=Xt("URLSearchParams"),[Sk,Ck,bk,Ek]=["ReadableStream","Request","Response","Headers"].map(Xt),Tk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Li(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Es(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Oi(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(r=0;r<o;r++)l=a[r],t.call(null,e[l],l,e)}}function Qp(e,t){if(Oi(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zp=e=>!ws(e)&&e!==Sr;function dc(){const{caseless:e,skipUndefined:t}=Zp(this)&&this||{},n={},r=(s,a)=>{const o=e&&Qp(n,a)||a;xa(n[o])&&xa(s)?n[o]=dc(n[o],s):xa(s)?n[o]=dc({},s):Es(s)?n[o]=s.slice():(!t||!ws(s))&&(n[o]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Li(arguments[s],r);return n}const Pk=(e,t,n,{allOwnKeys:r}={})=>(Li(t,(s,a)=>{n&&jt(s)?e[a]=Hp(s,n):e[a]=s},{allOwnKeys:r}),e),_k=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Rk=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},zk=(e,t,n,r)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&yu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ok=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Ak=e=>{if(!e)return null;if(Es(e))return e;let t=e.length;if(!Gp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Lk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yu(Uint8Array)),Dk=(e,t)=>{const r=(e&&e[go]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},Ik=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Fk=Xt("HTMLFormElement"),Uk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Zd=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Bk=Xt("RegExp"),Xp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Li(n,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(r[a]=o||s)}),Object.defineProperties(e,r)},$k=e=>{Xp(e,(t,n)=>{if(jt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(jt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Mk=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return Es(e)?r(e):r(String(e).split(t)),n},Vk=()=>{},Wk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Hk(e){return!!(e&&jt(e.append)&&e[Kp]==="FormData"&&e[go])}const Kk=e=>{const t=new Array(10),n=(r,s)=>{if(Ai(r)){if(t.indexOf(r)>=0)return;if(Oi(r))return r;if(!("toJSON"in r)){t[s]=r;const a=Es(r)?[]:{};return Li(r,(o,l)=>{const c=n(o,s+1);!ws(c)&&(a[l]=c)}),t[s]=void 0,a}}return r};return n(e,0)},qk=Xt("AsyncFunction"),Gk=e=>e&&(Ai(e)||jt(e))&&jt(e.then)&&jt(e.catch),Jp=((e,t)=>e?setImmediate:t?((n,r)=>(Sr.addEventListener("message",({source:s,data:a})=>{s===Sr&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Sr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",jt(Sr.postMessage)),Qk=typeof queueMicrotask<"u"?queueMicrotask.bind(Sr):typeof process<"u"&&process.nextTick||Jp,Zk=e=>e!=null&&jt(e[go]),T={isArray:Es,isArrayBuffer:qp,isBuffer:Oi,isFormData:jk,isArrayBufferView:hk,isString:pk,isNumber:Gp,isBoolean:mk,isObject:Ai,isPlainObject:xa,isEmptyObject:gk,isReadableStream:Sk,isRequest:Ck,isResponse:bk,isHeaders:Ek,isUndefined:ws,isDate:vk,isFile:yk,isBlob:kk,isRegExp:Bk,isFunction:jt,isStream:wk,isURLSearchParams:Nk,isTypedArray:Lk,isFileList:xk,forEach:Li,merge:dc,extend:Pk,trim:Tk,stripBOM:_k,inherits:Rk,toFlatObject:zk,kindOf:vo,kindOfTest:Xt,endsWith:Ok,toArray:Ak,forEachEntry:Dk,matchAll:Ik,isHTMLForm:Fk,hasOwnProperty:Zd,hasOwnProp:Zd,reduceDescriptors:Xp,freezeMethods:$k,toObjectSet:Mk,toCamelCase:Uk,noop:Vk,toFiniteNumber:Wk,findKey:Qp,global:Sr,isContextDefined:Zp,isSpecCompliantForm:Hk,toJSONObject:Kk,isAsyncFn:qk,isThenable:Gk,setImmediate:Jp,asap:Qk,isIterable:Zk};function ue(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}T.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Yp=ue.prototype,em={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{em[e]={value:e}});Object.defineProperties(ue,em);Object.defineProperty(Yp,"isAxiosError",{value:!0});ue.from=(e,t,n,r,s,a)=>{const o=Object.create(Yp);T.toFlatObject(e,o,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ue.call(o,l,c,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Xk=null;function fc(e){return T.isPlainObject(e)||T.isArray(e)}function tm(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Xd(e,t,n){return e?e.concat(t).map(function(s,a){return s=tm(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function Jk(e){return T.isArray(e)&&!e.some(fc)}const Yk=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function ko(e,t,n){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,S){return!T.isUndefined(S[j])});const r=n.metaTokens,s=n.visitor||f,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(T.isDate(y))return y.toISOString();if(T.isBoolean(y))return y.toString();if(!c&&T.isBlob(y))throw new ue("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(y)||T.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,j,S){let h=y;if(y&&!S&&typeof y=="object"){if(T.endsWith(j,"{}"))j=r?j:j.slice(0,-2),y=JSON.stringify(y);else if(T.isArray(y)&&Jk(y)||(T.isFileList(y)||T.endsWith(j,"[]"))&&(h=T.toArray(y)))return j=tm(j),h.forEach(function(k,E){!(T.isUndefined(k)||k===null)&&t.append(o===!0?Xd([j],E,a):o===null?j:j+"[]",u(k))}),!1}return fc(y)?!0:(t.append(Xd(S,j,a),u(y)),!1)}const g=[],m=Object.assign(Yk,{defaultVisitor:f,convertValue:u,isVisitable:fc});function w(y,j){if(!T.isUndefined(y)){if(g.indexOf(y)!==-1)throw Error("Circular reference detected in "+j.join("."));g.push(y),T.forEach(y,function(h,p){(!(T.isUndefined(h)||h===null)&&s.call(t,h,T.isString(p)?p.trim():p,j,m))===!0&&w(h,j?j.concat(p):[p])}),g.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return w(e),t}function Jd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ku(e,t){this._pairs=[],e&&ko(e,this,t)}const nm=ku.prototype;nm.append=function(t,n){this._pairs.push([t,n])};nm.toString=function(t){const n=t?function(r){return t.call(this,r,Jd)}:Jd;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function ex(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rm(e,t,n){if(!t)return e;const r=n&&n.encode||ex;T.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=T.isURLSearchParams(t)?t.toString():new ku(t,n).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Yd{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(r){r!==null&&t(r)})}}const sm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tx=typeof URLSearchParams<"u"?URLSearchParams:ku,nx=typeof FormData<"u"?FormData:null,rx=typeof Blob<"u"?Blob:null,sx={isBrowser:!0,classes:{URLSearchParams:tx,FormData:nx,Blob:rx},protocols:["http","https","file","blob","url","data"]},xu=typeof window<"u"&&typeof document<"u",hc=typeof navigator=="object"&&navigator||void 0,ix=xu&&(!hc||["ReactNative","NativeScript","NS"].indexOf(hc.product)<0),ax=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ox=xu&&window.location.href||"http://localhost",lx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xu,hasStandardBrowserEnv:ix,hasStandardBrowserWebWorkerEnv:ax,navigator:hc,origin:ox},Symbol.toStringTag,{value:"Module"})),at={...lx,...sx};function cx(e,t){return ko(e,new at.classes.URLSearchParams,{visitor:function(n,r,s,a){return at.isNode&&T.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function ux(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function dx(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function im(e){function t(n,r,s,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&T.isArray(s)?s.length:o,c?(T.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!T.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],a)&&T.isArray(s[o])&&(s[o]=dx(s[o])),!l)}if(T.isFormData(e)&&T.isFunction(e.entries)){const n={};return T.forEachEntry(e,(r,s)=>{t(ux(r),s,n,0)}),n}return null}function fx(e,t,n){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Di={transitional:sm,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=T.isObject(t);if(a&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return s?JSON.stringify(im(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cx(t,this.formSerializer).toString();if((l=T.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ko(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),fx(t)):t}],transformResponse:[function(t){const n=this.transitional||Di.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ue.from(l,ue.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:at.classes.FormData,Blob:at.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Di.headers[e]={}});const hx=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),px=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&hx[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ef=Symbol("internals");function Hs(e){return e&&String(e).trim().toLowerCase()}function wa(e){return e===!1||e==null?e:T.isArray(e)?e.map(wa):String(e)}function mx(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const gx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function cl(e,t,n,r,s){if(T.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!T.isString(t)){if(T.isString(r))return t.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(t)}}function vx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function yx(e,t){const n=T.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,o){return this[r].call(this,t,s,a,o)},configurable:!0})})}let Nt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(l,c,u){const f=Hs(c);if(!f)throw new Error("header name must be a non-empty string");const g=T.findKey(s,f);(!g||s[g]===void 0||u===!0||u===void 0&&s[g]!==!1)&&(s[g||c]=wa(l))}const o=(l,c)=>T.forEach(l,(u,f)=>a(u,f,c));if(T.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(T.isString(t)&&(t=t.trim())&&!gx(t))o(px(t),n);else if(T.isObject(t)&&T.isIterable(t)){let l={},c,u;for(const f of t){if(!T.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[u=f[0]]=(c=l[u])?T.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(l,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=Hs(t),t){const r=T.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return mx(s);if(T.isFunction(n))return n.call(this,s,r);if(T.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Hs(t),t){const r=T.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||cl(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(o){if(o=Hs(o),o){const l=T.findKey(r,o);l&&(!n||cl(r,r[l],l,n))&&(delete r[l],s=!0)}}return T.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||cl(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return T.forEach(this,(s,a)=>{const o=T.findKey(r,a);if(o){n[o]=wa(s),delete n[a];return}const l=t?vx(a):String(a).trim();l!==a&&delete n[a],n[l]=wa(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return T.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&T.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ef]=this[ef]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=Hs(o);r[l]||(yx(s,o),r[l]=!0)}return T.isArray(t)?t.forEach(a):a(t),this}};Nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Nt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});T.freezeMethods(Nt);function ul(e,t){const n=this||Di,r=t||n,s=Nt.from(r.headers);let a=r.data;return T.forEach(e,function(l){a=l.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function am(e){return!!(e&&e.__CANCEL__)}function Ts(e,t,n){ue.call(this,e??"canceled",ue.ERR_CANCELED,t,n),this.name="CanceledError"}T.inherits(Ts,ue,{__CANCEL__:!0});function om(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function kx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function xx(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=r[a];o||(o=u),n[s]=c,r[s]=u;let g=a,m=0;for(;g!==s;)m+=n[g++],g=g%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const w=f&&u-f;return w?Math.round(m*1e3/w):void 0}}function wx(e,t){let n=0,r=1e3/t,s,a;const o=(u,f=Date.now())=>{n=f,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const f=Date.now(),g=f-n;g>=r?o(u,f):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},r-g)))},()=>s&&o(s)]}const Xa=(e,t,n=3)=>{let r=0;const s=xx(50,250);return wx(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-r,u=s(c),f=o<=l;r=o;const g={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&f?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(g)},n)},tf=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},nf=e=>(...t)=>T.asap(()=>e(...t)),jx=at.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,at.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(at.origin),at.navigator&&/(msie|trident)/i.test(at.navigator.userAgent)):()=>!0,Nx=at.hasStandardBrowserEnv?{write(e,t,n,r,s,a,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];T.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),T.isString(r)&&l.push(`path=${r}`),T.isString(s)&&l.push(`domain=${s}`),a===!0&&l.push("secure"),T.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Sx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Cx(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function lm(e,t,n){let r=!Sx(t);return e&&(r||n==!1)?Cx(e,t):t}const rf=e=>e instanceof Nt?{...e}:e;function Lr(e,t){t=t||{};const n={};function r(u,f,g,m){return T.isPlainObject(u)&&T.isPlainObject(f)?T.merge.call({caseless:m},u,f):T.isPlainObject(f)?T.merge({},f):T.isArray(f)?f.slice():f}function s(u,f,g,m){if(T.isUndefined(f)){if(!T.isUndefined(u))return r(void 0,u,g,m)}else return r(u,f,g,m)}function a(u,f){if(!T.isUndefined(f))return r(void 0,f)}function o(u,f){if(T.isUndefined(f)){if(!T.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function l(u,f,g){if(g in t)return r(u,f);if(g in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,f,g)=>s(rf(u),rf(f),g,!0)};return T.forEach(Object.keys({...e,...t}),function(f){const g=c[f]||s,m=g(e[f],t[f],f);T.isUndefined(m)&&g!==l||(n[f]=m)}),n}const cm=e=>{const t=Lr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Nt.from(o),t.url=rm(lm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),T.isFormData(n)){if(at.hasStandardBrowserEnv||at.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(T.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,g])=>{u.includes(f.toLowerCase())&&o.set(f,g)})}}if(at.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(t)),r||r!==!1&&jx(t.url))){const c=s&&a&&Nx.read(a);c&&o.set(s,c)}return t},bx=typeof XMLHttpRequest<"u",Ex=bx&&function(e){return new Promise(function(n,r){const s=cm(e);let a=s.data;const o=Nt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,f,g,m,w,y;function j(){w&&w(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function h(){if(!S)return;const k=Nt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),z={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:k,config:e,request:S};om(function(b){n(b),j()},function(b){r(b),j()},z),S=null}"onloadend"in S?S.onloadend=h:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(h)},S.onabort=function(){S&&(r(new ue("Request aborted",ue.ECONNABORTED,e,S)),S=null)},S.onerror=function(E){const z=E&&E.message?E.message:"Network Error",A=new ue(z,ue.ERR_NETWORK,e,S);A.event=E||null,r(A),S=null},S.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const z=s.transitional||sm;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),r(new ue(E,z.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,e,S)),S=null},a===void 0&&o.setContentType(null),"setRequestHeader"in S&&T.forEach(o.toJSON(),function(E,z){S.setRequestHeader(z,E)}),T.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),l&&l!=="json"&&(S.responseType=s.responseType),u&&([m,y]=Xa(u,!0),S.addEventListener("progress",m)),c&&S.upload&&([g,w]=Xa(c),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(f=k=>{S&&(r(!k||k.type?new Ts(null,e,S):k),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const p=kx(s.url);if(p&&at.protocols.indexOf(p)===-1){r(new ue("Unsupported protocol "+p+":",ue.ERR_BAD_REQUEST,e));return}S.send(a||null)})},Tx=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(u){if(!s){s=!0,l();const f=u instanceof Error?u:this.reason;r.abort(f instanceof ue?f:new Ts(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,a(new ue(`timeout ${t} of ms exceeded`,ue.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>T.asap(l),c}},Px=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},_x=async function*(e,t){for await(const n of Rx(e))yield*Px(n,t)},Rx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},sf=(e,t,n,r)=>{const s=_x(e,t);let a=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await s.next();if(u){l(),c.close();return}let g=f.byteLength;if(n){let m=a+=g;n(m)}c.enqueue(new Uint8Array(f))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},af=64*1024,{isFunction:ia}=T,zx=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:of,TextEncoder:lf}=T.global,cf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ox=e=>{e=T.merge.call({skipUndefined:!0},zx,e);const{fetch:t,Request:n,Response:r}=e,s=t?ia(t):typeof fetch=="function",a=ia(n),o=ia(r);if(!s)return!1;const l=s&&ia(of),c=s&&(typeof lf=="function"?(y=>j=>y.encode(j))(new lf):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=a&&l&&cf(()=>{let y=!1;const j=new n(at.origin,{body:new of,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!j}),f=o&&l&&cf(()=>T.isReadableStream(new r("").body)),g={stream:f&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!g[y]&&(g[y]=(j,S)=>{let h=j&&j[y];if(h)return h.call(j);throw new ue(`Response type '${y}' is not supported`,ue.ERR_NOT_SUPPORT,S)})});const m=async y=>{if(y==null)return 0;if(T.isBlob(y))return y.size;if(T.isSpecCompliantForm(y))return(await new n(at.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(T.isArrayBufferView(y)||T.isArrayBuffer(y))return y.byteLength;if(T.isURLSearchParams(y)&&(y=y+""),T.isString(y))return(await c(y)).byteLength},w=async(y,j)=>{const S=T.toFiniteNumber(y.getContentLength());return S??m(j)};return async y=>{let{url:j,method:S,data:h,signal:p,cancelToken:k,timeout:E,onDownloadProgress:z,onUploadProgress:A,responseType:b,headers:L,withCredentials:V="same-origin",fetchOptions:B}=cm(y),K=t||fetch;b=b?(b+"").toLowerCase():"text";let Y=Tx([p,k&&k.toAbortSignal()],E),pe=null;const te=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let Ye;try{if(A&&u&&S!=="get"&&S!=="head"&&(Ye=await w(L,h))!==0){let le=new n(j,{method:"POST",body:h,duplex:"half"}),me;if(T.isFormData(h)&&(me=le.headers.get("content-type"))&&L.setContentType(me),le.body){const[se,be]=tf(Ye,Xa(nf(A)));h=sf(le.body,af,se,be)}}T.isString(V)||(V=V?"include":"omit");const ce=a&&"credentials"in n.prototype,Ae={...B,signal:Y,method:S.toUpperCase(),headers:L.normalize().toJSON(),body:h,duplex:"half",credentials:ce?V:void 0};pe=a&&new n(j,Ae);let $=await(a?K(pe,B):K(j,Ae));const q=f&&(b==="stream"||b==="response");if(f&&(z||q&&te)){const le={};["status","statusText","headers"].forEach(et=>{le[et]=$[et]});const me=T.toFiniteNumber($.headers.get("content-length")),[se,be]=z&&tf(me,Xa(nf(z),!0))||[];$=new r(sf($.body,af,se,()=>{be&&be(),te&&te()}),le)}b=b||"text";let X=await g[T.findKey(g,b)||"text"]($,y);return!q&&te&&te(),await new Promise((le,me)=>{om(le,me,{data:X,headers:Nt.from($.headers),status:$.status,statusText:$.statusText,config:y,request:pe})})}catch(ce){throw te&&te(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,y,pe),{cause:ce.cause||ce}):ue.from(ce,ce&&ce.code,y,pe)}}},Ax=new Map,um=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let o=a.length,l=o,c,u,f=Ax;for(;l--;)c=a[l],u=f.get(c),u===void 0&&f.set(c,u=l?new Map:Ox(t)),f=u;return u};um();const wu={http:Xk,xhr:Ex,fetch:{get:um}};T.forEach(wu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uf=e=>`- ${e}`,Lx=e=>T.isFunction(e)||e===null||e===!1;function Dx(e,t){e=T.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let o=0;o<n;o++){r=e[o];let l;if(s=r,!Lx(r)&&(s=wu[(l=String(r)).toLowerCase()],s===void 0))throw new ue(`Unknown adapter '${l}'`);if(s&&(T.isFunction(s)||(s=s.get(t))))break;a[l||"#"+o]=s}if(!s){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(uf).join(`
`):" "+uf(o[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const dm={getAdapter:Dx,adapters:wu};function dl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ts(null,e)}function df(e){return dl(e),e.headers=Nt.from(e.headers),e.data=ul.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dm.getAdapter(e.adapter||Di.adapter,e)(e).then(function(r){return dl(e),r.data=ul.call(e,e.transformResponse,r),r.headers=Nt.from(r.headers),r},function(r){return am(r)||(dl(e),r&&r.response&&(r.response.data=ul.call(e,e.transformResponse,r.response),r.response.headers=Nt.from(r.response.headers))),Promise.reject(r)})}const fm="1.13.2",xo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ff={};xo.transitional=function(t,n,r){function s(a,o){return"[Axios v"+fm+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(t===!1)throw new ue(s(o," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!ff[o]&&(ff[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,l):!0}};xo.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Ix(e,t,n){if(typeof e!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new ue("option "+a+" must be "+c,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+a,ue.ERR_BAD_OPTION)}}const ja={assertOptions:Ix,validators:xo},sn=ja.validators;let Pr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Yd,response:new Yd}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Lr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&ja.assertOptions(r,{silentJSONParsing:sn.transitional(sn.boolean),forcedJSONParsing:sn.transitional(sn.boolean),clarifyTimeoutError:sn.transitional(sn.boolean)},!1),s!=null&&(T.isFunction(s)?n.paramsSerializer={serialize:s}:ja.assertOptions(s,{encode:sn.function,serialize:sn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ja.assertOptions(n,{baseUrl:sn.spelling("baseURL"),withXsrfToken:sn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&T.merge(a.common,a[n.method]);a&&T.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),n.headers=Nt.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(c=c&&j.synchronous,l.unshift(j.fulfilled,j.rejected))});const u=[];this.interceptors.response.forEach(function(j){u.push(j.fulfilled,j.rejected)});let f,g=0,m;if(!c){const y=[df.bind(this),void 0];for(y.unshift(...l),y.push(...u),m=y.length,f=Promise.resolve(n);g<m;)f=f.then(y[g++],y[g++]);return f}m=l.length;let w=n;for(;g<m;){const y=l[g++],j=l[g++];try{w=y(w)}catch(S){j.call(this,S);break}}try{f=df.call(this,w)}catch(y){return Promise.reject(y)}for(g=0,m=u.length;g<m;)f=f.then(u[g++],u[g++]);return f}getUri(t){t=Lr(this.defaults,t);const n=lm(t.baseURL,t.url,t.allowAbsoluteUrls);return rm(n,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Pr.prototype[t]=function(n,r){return this.request(Lr(r||{},{method:t,url:n,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(t){function n(r){return function(a,o,l){return this.request(Lr(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Pr.prototype[t]=n(),Pr.prototype[t+"Form"]=n(!0)});let Fx=class hm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(s);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,l){r.reason||(r.reason=new Ts(a,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new hm(function(s){t=s}),cancel:t}}};function Ux(e){return function(n){return e.apply(null,n)}}function Bx(e){return T.isObject(e)&&e.isAxiosError===!0}const pc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pc).forEach(([e,t])=>{pc[t]=e});function pm(e){const t=new Pr(e),n=Hp(Pr.prototype.request,t);return T.extend(n,Pr.prototype,t,{allOwnKeys:!0}),T.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return pm(Lr(e,s))},n}const oe=pm(Di);oe.Axios=Pr;oe.CanceledError=Ts;oe.CancelToken=Fx;oe.isCancel=am;oe.VERSION=fm;oe.toFormData=ko;oe.AxiosError=ue;oe.Cancel=oe.CanceledError;oe.all=function(t){return Promise.all(t)};oe.spread=Ux;oe.isAxiosError=Bx;oe.mergeConfig=Lr;oe.AxiosHeaders=Nt;oe.formToJSON=e=>im(T.isHTMLForm(e)?new FormData(e):e);oe.getAdapter=dm.getAdapter;oe.HttpStatusCode=pc;oe.default=oe;const{Axios:g0,AxiosError:v0,CanceledError:y0,isCancel:k0,CancelToken:x0,VERSION:w0,all:j0,Cancel:N0,isAxiosError:S0,spread:C0,toFormData:b0,AxiosHeaders:E0,HttpStatusCode:T0,formToJSON:P0,getAdapter:_0,mergeConfig:R0}=oe,Cr="https://perun-crm-api.onrender.com",Z=oe.create({baseURL:Cr});Z.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Z.interceptors.response.use(e=>e,e=>{var t,n;return(((t=e.response)==null?void 0:t.status)===401||((n=e.response)==null?void 0:n.status)===403)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)});const mm=v.createContext(null),dr=()=>{const e=v.useContext(mm);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},$x=({children:e})=>{const[t,n]=v.useState(null),[r,s]=v.useState(localStorage.getItem("token")),[a,o]=v.useState(!0);v.useEffect(()=>{r?(Z.defaults.headers.common.Authorization=`Bearer ${r}`,l()):o(!1)},[r]);const l=async()=>{try{const w=await Z.get("/api/auth/me");n(w.data)}catch(w){console.error("Failed to fetch user:",w),localStorage.removeItem("token"),s(null),n(null)}finally{o(!1)}},m={user:t,token:r,loading:a,login:async(w,y)=>{const j=await Z.post("/api/auth/login",{email:w,password:y}),{token:S,user:h}=j.data;return localStorage.setItem("token",S),Z.defaults.headers.common.Authorization=`Bearer ${S}`,s(S),n(h),h},register:async(w,y,j)=>{const S=await Z.post("/api/auth/register",{username:w,email:y,password:j}),{token:h,user:p}=S.data;return localStorage.setItem("token",h),Z.defaults.headers.common.Authorization=`Bearer ${h}`,s(h),n(p),p},logout:()=>{localStorage.removeItem("token"),delete Z.defaults.headers.common.Authorization,s(null),n(null)},updateUser:w=>{n(y=>({...y,...w}))},isAuthenticated:!!r&&!!t};return i.jsx(mm.Provider,{value:m,children:e})},Mx=async()=>(await Z.get("/api/workspaces")).data,hf=async()=>(await Z.get("/api/workspaces/current")).data,Vx=async e=>(await Z.post("/api/workspaces",e)).data,Wx=async e=>(await Z.post("/api/workspaces/join",{inviteCode:e})).data,Hx=async e=>(await Z.post(`/api/workspaces/switch/${e}`)).data,Kx=async e=>(await Z.put("/api/workspaces/current",e)).data,qx=async()=>(await Z.post("/api/workspaces/current/regenerate-invite")).data,Gx=async()=>(await Z.post("/api/workspaces/current/leave")).data,gm=v.createContext(null),wo=()=>{const e=v.useContext(gm);if(!e)throw new Error("useWorkspace must be used within WorkspaceProvider");return e},Qx=({children:e})=>{const{isAuthenticated:t}=dr(),[n,r]=v.useState([]),[s,a]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(!0),[f,g]=v.useState(null),[m,w]=v.useState(!1),y=v.useCallback(async()=>{var b,L,V,B,K,Y;if(!t){u(!1);return}try{u(!0),g(null);const pe=await Mx();if(r(pe.workspaces||[]),l(pe.currentWorkspaceId),pe.workspaces.length===0||!pe.currentWorkspaceId)w(!0),a(null);else{w(!1);try{const te=await hf();a(te)}catch(te){((L=(b=te.response)==null?void 0:b.data)==null?void 0:L.code)==="NO_WORKSPACE"&&(w(!0),a(null))}}}catch(pe){console.error("Error fetching workspaces:",pe),((B=(V=pe.response)==null?void 0:V.data)==null?void 0:B.code)==="NO_WORKSPACE"?w(!0):g(((Y=(K=pe.response)==null?void 0:K.data)==null?void 0:Y.message)||"Chyba pri natavan pracovnch prostred")}finally{u(!1)}},[t]);v.useEffect(()=>{t?y():(r([]),a(null),l(null),w(!1),u(!1))},[t,y]);const A={workspaces:n,currentWorkspace:s,currentWorkspaceId:o,loading:c,error:f,needsWorkspace:m,fetchWorkspaces:y,createWorkspace:async b=>{const L=await Vx(b);return await y(),L},joinWorkspace:async b=>{const L=await Wx(b);return await y(),L},switchWorkspace:async b=>{const L=await Hx(b);return l(b),await y(),L},updateWorkspace:async b=>{const L=await Kx(b);return a(V=>({...V,...L})),L},regenerateInviteCode:async()=>{const b=await qx();return a(L=>({...L,inviteCode:b.inviteCode})),b},leaveWorkspace:async()=>{const b=await Gx();return await y(),b},refreshCurrentWorkspace:async()=>{try{const b=await hf();return a(b),b}catch(b){throw console.error("Error refreshing workspace:",b),b}}};return i.jsx(gm.Provider,{value:A,children:e})};function Zx(){const{login:e,register:t}=dr(),[n,r]=v.useState(!1),[s,a]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(""),[f,g]=v.useState(""),[m,w]=v.useState(!1),y=async S=>{var h,p;S.preventDefault(),g(""),w(!0);try{n?await t(c,s,o):await e(s,o)}catch(k){g(((p=(h=k.response)==null?void 0:h.data)==null?void 0:p.message)||"An error occurred")}finally{w(!1)}},j=S=>{a(`user${S}@example.com`),l("password123")};return i.jsx("div",{className:"login-container",children:i.jsxs("div",{className:"login-card",children:[i.jsx("div",{className:"login-logo",children:i.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"48",height:"48",rx:"12",fill:"url(#gradient)"}),i.jsx("path",{d:"M14 16C14 14.8954 14.8954 14 16 14H32C33.1046 14 34 14.8954 34 16V32C34 33.1046 33.1046 34 32 34H16C14.8954 34 14 33.1046 14 32V16Z",fill:"white",fillOpacity:"0.9"}),i.jsx("path",{d:"M18 20H30M18 24H26M18 28H22",stroke:"#6366f1",strokeWidth:"2",strokeLinecap:"round"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"48",y2:"48",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#6366f1"}),i.jsx("stop",{offset:"1",stopColor:"#8b5cf6"})]})})]})}),i.jsx("h1",{className:"login-title",children:n?"Vytvori et":"Purple CRM"}),i.jsx("p",{className:"login-subtitle",children:n?"Zaregistrujte sa a zanite spravova kontakty a lohy":"Spravujte kontakty, lohy a tmov spoluprcu na jednom mieste"}),f&&i.jsx("div",{className:"error-message",children:f}),i.jsxs("form",{onSubmit:y,children:[n&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Pouvatesk meno"}),i.jsx("input",{type:"text",className:"form-input",value:c,onChange:S=>u(S.target.value),placeholder:"Zadajte pouvatesk meno",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",className:"form-input",value:s,onChange:S=>a(S.target.value),placeholder:"Zadajte email",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Heslo"}),i.jsx("input",{type:"password",className:"form-input",value:o,onChange:S=>l(S.target.value),placeholder:"Zadajte heslo",required:!0})]}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Natavam...":n?"Registrova":"Prihlsi"})]}),i.jsx("div",{className:"login-footer",children:n?i.jsxs(i.Fragment,{children:["U mte et?"," ",i.jsx("a",{href:"#",onClick:()=>r(!1),children:"Prihlste sa"})]}):i.jsxs(i.Fragment,{children:["Nemte et?"," ",i.jsx("a",{href:"#",onClick:()=>r(!0),children:"Zaregistrujte sa"})]})}),i.jsxs("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--border-color)"},children:[i.jsx("p",{style:{fontSize:"12px",color:"var(--text-muted)",marginBottom:"12px",textAlign:"center"},children:"Demo ty (heslo: password123)"}),i.jsxs("div",{style:{display:"flex",gap:"8px"},children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>j(1),style:{flex:1},children:"Uvate 1"}),i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>j(2),style:{flex:1},children:"Uvate 2"})]})]})]})})}const dn=Object.create(null);dn.open="0";dn.close="1";dn.ping="2";dn.pong="3";dn.message="4";dn.upgrade="5";dn.noop="6";const Na=Object.create(null);Object.keys(dn).forEach(e=>{Na[dn[e]]=e});const mc={type:"error",data:"parser error"},vm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ym=typeof ArrayBuffer=="function",km=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ju=({type:e,data:t},n,r)=>vm&&t instanceof Blob?n?r(t):pf(t,r):ym&&(t instanceof ArrayBuffer||km(t))?n?r(t):pf(new Blob([t]),r):r(dn[e]+(t||"")),pf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function mf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let fl;function Xx(e,t){if(vm&&e.data instanceof Blob)return e.data.arrayBuffer().then(mf).then(t);if(ym&&(e.data instanceof ArrayBuffer||km(e.data)))return t(mf(e.data));ju(e,!1,n=>{fl||(fl=new TextEncoder),t(fl.encode(n))})}const gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<gf.length;e++)Xs[gf.charCodeAt(e)]=e;const Jx=e=>{let t=e.length*.75,n=e.length,r,s=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(r=0;r<n;r+=4)a=Xs[e.charCodeAt(r)],o=Xs[e.charCodeAt(r+1)],l=Xs[e.charCodeAt(r+2)],c=Xs[e.charCodeAt(r+3)],f[s++]=a<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|c&63;return u},Yx=typeof ArrayBuffer=="function",Nu=(e,t)=>{if(typeof e!="string")return{type:"message",data:xm(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:ew(e.substring(1),t)}:Na[n]?e.length>1?{type:Na[n],data:e.substring(1)}:{type:Na[n]}:mc},ew=(e,t)=>{if(Yx){const n=Jx(e);return xm(n,t)}else return{base64:!0,data:e}},xm=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},wm="",tw=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((a,o)=>{ju(a,!1,l=>{r[o]=l,++s===n&&t(r.join(wm))})})},nw=(e,t)=>{const n=e.split(wm),r=[];for(let s=0;s<n.length;s++){const a=Nu(n[s],t);if(r.push(a),a.type==="error")break}return r};function rw(){return new TransformStream({transform(e,t){Xx(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let hl;function aa(e){return e.reduce((t,n)=>t+n.length,0)}function oa(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function sw(e,t){hl||(hl=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(aa(n)<1)break;const c=oa(n,1);a=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(aa(n)<2)break;const c=oa(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(aa(n)<8)break;const c=oa(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(mc);break}s=f*Math.pow(2,32)+u.getUint32(4),r=3}else{if(aa(n)<s)break;const c=oa(n,s);l.enqueue(Nu(a?c:hl.decode(c),t)),r=0}if(s===0||s>e){l.enqueue(mc);break}}}})}const jm=4;function We(e){if(e)return iw(e)}function iw(e){for(var t in We.prototype)e[t]=We.prototype[t];return e}We.prototype.on=We.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};We.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};We.prototype.off=We.prototype.removeListener=We.prototype.removeAllListeners=We.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};We.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};We.prototype.emitReserved=We.prototype.emit;We.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};We.prototype.hasListeners=function(e){return!!this.listeners(e).length};const jo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Lt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),aw="arraybuffer";function Nm(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const ow=Lt.setTimeout,lw=Lt.clearTimeout;function No(e,t){t.useNativeTimers?(e.setTimeoutFn=ow.bind(Lt),e.clearTimeoutFn=lw.bind(Lt)):(e.setTimeoutFn=Lt.setTimeout.bind(Lt),e.clearTimeoutFn=Lt.clearTimeout.bind(Lt))}const cw=1.33;function uw(e){return typeof e=="string"?dw(e):Math.ceil((e.byteLength||e.size)*cw)}function dw(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Sm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function fw(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function hw(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class pw extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Su extends We{constructor(t){super(),this.writable=!1,No(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new pw(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Nu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=fw(t);return n.length?"?"+n:""}}class mw extends Su{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};nw(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,tw(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Sm()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Cm=!1;try{Cm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const gw=Cm;function vw(){}class yw extends mw{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class un extends We{constructor(t,n,r){super(),this.createRequest=t,No(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Nm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=un.requestsCount++,un.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=vw,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete un.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}un.requestsCount=0;un.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vf);else if(typeof addEventListener=="function"){const e="onpagehide"in Lt?"pagehide":"unload";addEventListener(e,vf,!1)}}function vf(){for(let e in un.requests)un.requests.hasOwnProperty(e)&&un.requests[e].abort()}const kw=function(){const e=bm({xdomain:!1});return e&&e.responseType!==null}();class xw extends yw{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=kw&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new un(bm,this.uri(),t)}}function bm(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||gw))return new XMLHttpRequest}catch{}if(!t)try{return new Lt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Em=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ww extends Su{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Em?{}:Nm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;ju(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}s&&jo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Sm()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const pl=Lt.WebSocket||Lt.MozWebSocket;class jw extends ww{createSocket(t,n,r){return Em?new pl(t,n,r):n?new pl(t,n):new pl(t)}doWrite(t,n){this.ws.send(n)}}class Nw extends Su{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=sw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=rw();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&jo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Sw={websocket:jw,webtransport:Nw,polling:xw},Cw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gc(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Cw.exec(e||""),a={},o=14;for(;o--;)a[bw[o]]=s[o]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Ew(a,a.path),a.queryKey=Tw(a,a.query),a}function Ew(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Tw(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(n[s]=a)}),n}const vc=typeof addEventListener=="function"&&typeof removeEventListener=="function",Sa=[];vc&&addEventListener("offline",()=>{Sa.forEach(e=>e())},!1);class sr extends We{constructor(t,n){if(super(),this.binaryType=aw,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=gc(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=gc(n.host).host);No(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hw(this.opts.query)),vc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Sa.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=jm,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&sr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",sr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=uw(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,jo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(sr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),vc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Sa.indexOf(this._offlineEventListener);r!==-1&&Sa.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}sr.protocol=jm;class Pw extends sr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;sr.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;sr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function a(){r||(r=!0,f(),n.close(),n=null)}const o=g=>{const m=new Error("probe error: "+g);m.transport=n.name,a(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function c(){o("socket closed")}function u(g){n&&g.name!==n.name&&a()}const f=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let _w=class extends Pw{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Sw[s]).filter(s=>!!s)),super(t,r)}};function Rw(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=gc(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const zw=typeof ArrayBuffer=="function",Ow=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Tm=Object.prototype.toString,Aw=typeof Blob=="function"||typeof Blob<"u"&&Tm.call(Blob)==="[object BlobConstructor]",Lw=typeof File=="function"||typeof File<"u"&&Tm.call(File)==="[object FileConstructor]";function Cu(e){return zw&&(e instanceof ArrayBuffer||Ow(e))||Aw&&e instanceof Blob||Lw&&e instanceof File}function Ca(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Ca(e[n]))return!0;return!1}if(Cu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ca(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ca(e[n]))return!0;return!1}function Dw(e){const t=[],n=e.data,r=e;return r.data=yc(n,t),r.attachments=t.length,{packet:r,buffers:t}}function yc(e,t){if(!e)return e;if(Cu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=yc(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=yc(e[r],t));return n}return e}function Iw(e,t){return e.data=kc(e.data,t),delete e.attachments,e}function kc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=kc(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=kc(e[n],t));return e}const Fw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Uw=5;var ve;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ve||(ve={}));class Bw{constructor(t){this.replacer=t}encode(t){return(t.type===ve.EVENT||t.type===ve.ACK)&&Ca(t)?this.encodeAsBinary({type:t.type===ve.EVENT?ve.BINARY_EVENT:ve.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ve.BINARY_EVENT||t.type===ve.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Dw(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function yf(e){return Object.prototype.toString.call(e)==="[object Object]"}class bu extends We{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===ve.BINARY_EVENT;r||n.type===ve.BINARY_ACK?(n.type=r?ve.EVENT:ve.ACK,this.reconstructor=new $w(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Cu(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(ve[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ve.BINARY_EVENT||r.type===ve.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(a,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(bu.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ve.CONNECT:return yf(n);case ve.DISCONNECT:return n===void 0;case ve.CONNECT_ERROR:return typeof n=="string"||yf(n);case ve.EVENT:case ve.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Fw.indexOf(n[0])===-1);case ve.ACK:case ve.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class $w{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Iw(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Mw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:bu,Encoder:Bw,get PacketType(){return ve},protocol:Uw},Symbol.toStringTag,{value:"Module"}));function Kt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Vw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Pm extends We{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Kt(t,"open",this.onopen.bind(this)),Kt(t,"packet",this.onpacket.bind(this)),Kt(t,"error",this.onerror.bind(this)),Kt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,a;if(Vw.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:ve.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,g=n.pop();this._registerAckCallback(f,g),o.id=f}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const a=(o,l)=>o?s(o):r(l);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ve.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ve.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ve.EVENT:case ve.BINARY_EVENT:this.onevent(t);break;case ve.ACK:case ve.BINARY_ACK:this.onack(t);break;case ve.DISCONNECT:this.ondisconnect();break;case ve.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:ve.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ve.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Ps(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ps.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ps.prototype.reset=function(){this.attempts=0};Ps.prototype.setMin=function(e){this.ms=e};Ps.prototype.setMax=function(e){this.max=e};Ps.prototype.setJitter=function(e){this.jitter=e};class xc extends We{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,No(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ps({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||Mw;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new _w(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Kt(n,"open",function(){r.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Kt(n,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Kt(t,"ping",this.onping.bind(this)),Kt(t,"data",this.ondata.bind(this)),Kt(t,"error",this.onerror.bind(this)),Kt(t,"close",this.onclose.bind(this)),Kt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){jo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Pm(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ks={};function ba(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Rw(e,t.path||"/socket.io"),r=n.source,s=n.id,a=n.path,o=Ks[s]&&a in Ks[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new xc(r,t):(Ks[s]||(Ks[s]=new xc(r,t)),c=Ks[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(ba,{Manager:xc,Socket:Pm,io:ba,connect:ba});const So=()=>{const{token:e,isAuthenticated:t}=dr(),[n,r]=v.useState(null),[s,a]=v.useState(!1),o=v.useRef(new Map);v.useEffect(()=>{if(!t||!e)return;const p=ba(Cr,{auth:{token:e},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return p.on("connect",()=>{a(!0)}),p.on("disconnect",()=>{a(!1)}),p.on("connect_error",k=>{console.error("Socket connection error:",k.message)}),r(p),()=>{o.current.forEach((k,E)=>{p.off(E,k)}),o.current.clear(),p.disconnect(),r(null),a(!1)}},[t,e]);const l=v.useCallback(p=>{n&&n.emit("join-page",p)},[n]),c=v.useCallback(p=>{n&&n.emit("leave-page",p)},[n]),u=v.useCallback((p,k,E)=>{n&&n.emit("page-update",{pageId:p,content:k,title:E})},[n]),f=v.useCallback((p,k,E,z)=>{n&&n.emit("block-update",{pageId:p,blockId:k,content:E,type:z})},[n]),g=v.useCallback((p,k)=>{n&&n.emit("cursor-move",{pageId:p,position:k})},[n]),m=v.useCallback((p,k)=>{if(!n)return()=>{};const E=o.current.get(p);return E&&n.off(p,E),n.on(p,k),o.current.set(p,k),()=>{n.off(p,k),o.current.delete(p)}},[n]),w=v.useCallback(p=>m("page-updated",p),[m]),y=v.useCallback(p=>m("block-updated",p),[m]),j=v.useCallback(p=>m("cursor-moved",p),[m]),S=v.useCallback(p=>m("page-created",p),[m]),h=v.useCallback(p=>m("page-deleted",p),[m]);return{socket:n,isConnected:s,joinPage:l,leavePage:c,emitPageUpdate:u,emitBlockUpdate:f,emitCursorMove:g,onPageUpdated:w,onBlockUpdated:y,onCursorMoved:j,onPageCreated:S,onPageDeleted:h}},Eu="/sw-push.js",Ur=()=>{const e="serviceWorker"in navigator,t="PushManager"in window,n="Notification"in window;return console.log("[Push] Support check:",{serviceWorker:e,pushManager:t,notification:n,standalone:window.navigator.standalone,displayMode:window.matchMedia("(display-mode: standalone)").matches}),e&&t&&n},Ww=()=>Ur()?Notification.permission:"unsupported",Hw=async()=>{if(!Ur())throw new Error("Push notifications are not supported");return await Notification.requestPermission()},Kw=async()=>{if(!Ur())throw new Error("Push notifications are not supported");try{const e=await navigator.serviceWorker.register(Eu,{scope:"/"});return console.log("Push service worker registered:",e),e}catch(e){throw console.error("Push service worker registration failed:",e),e}},qw=async()=>(await Z.get("/api/push/vapid-public-key")).data.publicKey,Gw=e=>{const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),s=new Uint8Array(r.length);for(let a=0;a<r.length;++a)s[a]=r.charCodeAt(a);return s},wc=async()=>{if(!Ur())throw new Error("Push notifications are not supported");if(Notification.permission==="default"&&await Hw()!=="granted")throw new Error("Notification permission denied");if(Notification.permission!=="granted")throw new Error("Notification permission not granted");const e=await Kw();await navigator.serviceWorker.ready;const t=await qw(),n=Gw(t),r=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n}),s=await Z.post("/api/push/subscribe",r.toJSON());return console.log("Push subscription saved:",s.data),r},Qw=async()=>{const e=await navigator.serviceWorker.getRegistration(Eu);if(!e)return;const t=await e.pushManager.getSubscription();if(t){try{await Z.post("/api/push/unsubscribe",{endpoint:t.endpoint})}catch(n){console.error("Error notifying server about unsubscribe:",n)}await t.unsubscribe(),console.log("Push subscription removed")}},_m=async()=>{if(!Ur())return!1;const e=await navigator.serviceWorker.getRegistration(Eu);return e?!!await e.pushManager.getSubscription():!1},Zw=async()=>(await Z.post("/api/push/test")).data,Xw=async()=>{if(!Ur())return!1;if(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("message",async t=>{var n;if(((n=t.data)==null?void 0:n.type)==="PUSH_SUBSCRIPTION_CHANGED"){console.log("Push subscription changed, re-subscribing...");try{await wc()}catch(r){console.error("Failed to re-subscribe after subscription change:",r)}}}),await _m())return!0;if(Notification.permission==="granted")try{return await wc(),!0}catch(t){return console.error("Error re-subscribing to push:",t),!1}return!1},kf=()=>{const e=localStorage.getItem("notificationsEnabled");return e===null?!0:e==="true"},Jw=e=>{localStorage.setItem("notificationsEnabled",e.toString()),window.dispatchEvent(new Event("notificationSettingChanged"))},Yw=()=>{const[e,t]=v.useState(!1),[n,r]=v.useState("default"),[s,a]=v.useState(!1),[o,l]=v.useState(kf()),[c,u]=v.useState(!0),[f,g]=v.useState(null),[m,w]=v.useState(!1);v.useEffect(()=>{y()},[]);const y=async()=>{u(!0);try{l(kf());const h=Ur();if(t(h),console.log("[PushToggle] Push supported:",h),h){const p=Ww();r(p),console.log("[PushToggle] Permission status:",p);const k=await _m();a(k),console.log("[PushToggle] Is subscribed:",k)}}catch(h){console.error("Error checking push status:",h)}finally{u(!1)}},j=async()=>{u(!0),g(null);try{const h=!o;if(Jw(h),l(h),e&&n!=="denied"){if(h&&!s)try{await wc(),a(!0),r("granted")}catch(p){console.log("Push subscription failed:",p.message)}else if(!h&&s)try{await Qw(),a(!1)}catch(p){console.log("Push unsubscription failed:",p.message)}}}catch(h){console.error("Error toggling notifications:",h),g(h.message)}finally{u(!1)}},S=async()=>{u(!0);try{await Zw(),w(!0),setTimeout(()=>w(!1),3e3)}catch(h){console.error("Error sending test push:",h),g("Nepodarilo sa odosla testovaciu notifikciu")}finally{u(!1)}};return i.jsxs("div",{className:"push-notification-toggle",children:[i.jsxs("div",{className:"push-header",children:[i.jsxs("div",{className:"push-info",children:[i.jsx("span",{className:"icon",children:o?"":""}),i.jsxs("div",{children:[i.jsx("strong",{children:"Notifikcie"}),i.jsx("p",{children:o?"Aktvne":"Neaktvne"})]})]}),i.jsx("button",{className:`toggle-btn ${o?"active":""}`,onClick:j,disabled:c,children:i.jsx("span",{className:"toggle-slider"})})]}),o&&i.jsx("div",{className:"push-status-info",children:e?n==="denied"?i.jsx("span",{className:"status-note warning",children:" Push notifikcie s zablokovan v prehliadai"}):s?i.jsx("span",{className:"status-note success",children:" Push notifikcie aktvne (aj pre zatvoren aplikciu)"}):i.jsx("span",{className:"status-note",children:"In-app notifikcie aktvne"}):i.jsxs("span",{className:"status-note warning",children:[" Push notifikcie nie s podporovan.",/iPhone|iPad|iPod/.test(navigator.userAgent)&&i.jsx(i.Fragment,{children:" Pre iOS: otvorte aplikciu cez ikonu na ploche (PWA)."})]})}),f&&i.jsx("div",{className:"push-error",children:f}),o&&s&&i.jsx("button",{className:"test-btn",onClick:S,disabled:c,children:m?" Odoslan":"Odosla testovaciu notifikciu"}),i.jsx("style",{children:e0})]})},e0=`
  .push-notification-toggle {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 16px;
  }

  .push-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .push-info {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .push-info .icon {
    font-size: 24px;
  }

  .push-info strong {
    display: block;
    color: #fff;
    font-size: 14px;
  }

  .push-info p {
    color: #888;
    font-size: 12px;
    margin: 2px 0 0 0;
  }

  .toggle-btn {
    width: 50px;
    height: 28px;
    background: #333;
    border: none;
    border-radius: 14px;
    position: relative;
    cursor: pointer;
    transition: background 0.3s;
  }

  .toggle-btn.active {
    background: #6366f1;
  }

  .toggle-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .toggle-slider {
    position: absolute;
    width: 22px;
    height: 22px;
    background: #fff;
    border-radius: 50%;
    top: 3px;
    left: 3px;
    transition: transform 0.3s;
  }

  .toggle-btn.active .toggle-slider {
    transform: translateX(22px);
  }

  .push-status {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px;
    border-radius: 8px;
  }

  .push-status.unsupported {
    color: #ffa500;
  }

  .push-status.denied {
    color: #ff6b6b;
  }

  .push-status .icon {
    font-size: 20px;
  }

  .push-status p {
    margin: 4px 0 0 0;
    font-size: 12px;
    opacity: 0.8;
  }

  .push-status-info {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  .status-note {
    font-size: 12px;
    color: #888;
  }

  .status-note.warning {
    color: #ffa500;
  }

  .status-note.success {
    color: #10b981;
  }

  .push-error {
    background: rgba(255, 107, 107, 0.1);
    color: #ff6b6b;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 12px;
    margin-top: 12px;
  }

  .test-btn {
    width: 100%;
    margin-top: 12px;
    padding: 10px;
    background: rgba(99, 102, 241, 0.2);
    border: 1px solid rgba(99, 102, 241, 0.3);
    border-radius: 8px;
    color: #6366f1;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s;
  }

  .test-btn:hover:not(:disabled) {
    background: rgba(99, 102, 241, 0.3);
  }

  .test-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,yr=e=>{if(!e)return"Neznma chyba";const t={"Google Tasks token expired. Please reconnect your account.":'Token pre Google Tasks expiroval. Prosm, odpojte a znova pripojte v et kliknutm na tlaidlo "Odpoji" a potom "Pripoji Google Tasks".',"Google Tasks not connected":'Google Tasks nie je pripojen. Kliknite na "Pripoji Google Tasks".',"Google Tasks OAuth not configured":"Google Tasks integrcia nie je nakonfigurovan na serveri.","Token refresh failed":"Nepodarilo sa obnovi prstupov token. Prosm, odpojte a znova pripojte et.",invalid_grant:"Platnos prstupu vyprala. Prosm, odpojte a znova pripojte v Google et.","Network Error":"Chyba siete. Skontrolujte pripojenie k internetu.","Request failed with status code 401":"Neautorizovan prstup. Prosm, prihlste sa znova.","Request failed with status code 403":"Prstup zamietnut. Nemte oprvnenie na tto akciu.","Request failed with status code 500":"Chyba servera. Skste to znova neskr."};if(t[e])return t[e];for(const[n,r]of Object.entries(t))if(e.includes(n))return r;return e};function Co({user:e,onLogout:t,onUserUpdate:n}){const r=ur(),{currentWorkspace:s}=wo(),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[u,f]=v.useState(!1),[g,m]=v.useState(!1),[w,y]=v.useState(null),[j,S]=v.useState(!1),[h,p]=v.useState({username:"",email:"",color:""}),[k,E]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[z,A]=v.useState({enabled:!1,feedUrl:null,loading:!1}),[b,L]=v.useState({connected:!1,connectedAt:null,loading:!1,syncing:!1}),[V,B]=v.useState({connected:!1,connectedAt:null,loading:!1,syncing:!1,pendingTasks:null,quota:null}),[K,Y]=v.useState({}),[pe,te]=v.useState(""),[Ye,ce]=v.useState(""),[Ae,$]=v.useState(""),[q,X]=v.useState(Date.now()),le=v.useRef(null),me=v.useRef(null),se=`${Cr}/api`;v.useEffect(()=>{const O=D=>{le.current&&!le.current.contains(D.target)&&o(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const be=async()=>{try{S(!0),Y({});const O=localStorage.getItem("token"),D=await oe.get(`${se}/auth/profile`,{headers:{Authorization:`Bearer ${O}`}});y(D.data),p({username:D.data.username,email:D.data.email,color:D.data.color})}catch(O){console.error("Error fetching profile:",O),e&&(y({id:e.id,username:e.username,email:e.email,color:e.color||"#3B82F6",avatar:e.avatar||null,createdAt:e.createdAt||new Date().toISOString()}),p({username:e.username,email:e.email,color:e.color||"#3B82F6"}))}finally{S(!1)}},et=()=>{be(),c(!0),o(!1),te(""),Y({})},Me=()=>{c(!1),Y({}),te("")},lt=()=>{f(!0),o(!1),E({currentPassword:"",newPassword:"",confirmPassword:""}),te(""),Y({})},Bt=()=>{f(!1),Y({}),te("")},Tn=async()=>{m(!0),o(!1),te(""),Y({}),await Promise.all([Pn(),pn(),Rt()])},Jt=()=>{m(!1),Y({}),te("")},Pn=async()=>{try{A(M=>({...M,loading:!0}));const O=localStorage.getItem("token"),D=await oe.get(`${se}/tasks/calendar/feed/status`,{headers:{Authorization:`Bearer ${O}`}});A({enabled:D.data.enabled,feedUrl:D.data.feedUrl,loading:!1})}catch(O){console.error("Error fetching calendar feed status:",O),A(D=>({...D,loading:!1}))}},Yt=async()=>{try{A(M=>({...M,loading:!0}));const O=localStorage.getItem("token"),D=await oe.post(`${se}/tasks/calendar/feed/generate`,{},{headers:{Authorization:`Bearer ${O}`}});A({enabled:!0,feedUrl:D.data.feedUrl,loading:!1}),te("Kalendr feed bol aktivovan")}catch(O){console.error("Error enabling calendar feed:",O),Y({general:"Chyba pri aktivcii kalendr feedu"}),A(D=>({...D,loading:!1}))}},$t=async()=>{try{A(D=>({...D,loading:!0}));const O=localStorage.getItem("token");await oe.post(`${se}/tasks/calendar/feed/disable`,{},{headers:{Authorization:`Bearer ${O}`}}),A({enabled:!1,feedUrl:null,loading:!1}),te("Kalendr feed bol deaktivovan")}catch(O){console.error("Error disabling calendar feed:",O),Y({general:"Chyba pri deaktivcii kalendr feedu"}),A(D=>({...D,loading:!1}))}},fn=async()=>{if(confirm("Naozaj chcete vygenerova nov odkaz? Star odkaz prestane fungova."))try{A(M=>({...M,loading:!0}));const O=localStorage.getItem("token"),D=await oe.post(`${se}/tasks/calendar/feed/regenerate`,{},{headers:{Authorization:`Bearer ${O}`}});A({enabled:!0,feedUrl:D.data.feedUrl,loading:!1}),te("Nov kalendr feed bol vygenerovan")}catch(O){console.error("Error regenerating calendar feed:",O),Y({general:"Chyba pri generovan novho odkazu"}),A(D=>({...D,loading:!1}))}},hn=()=>{z.feedUrl&&(navigator.clipboard.writeText(z.feedUrl),te("Odkaz bol skoprovan do schrnky"))},pn=async()=>{try{L(M=>({...M,loading:!0}));const O=localStorage.getItem("token"),D=await oe.get(`${se}/google-calendar/status`,{headers:{Authorization:`Bearer ${O}`}});L({connected:D.data.connected,connectedAt:D.data.connectedAt,loading:!1,syncing:!1})}catch(O){console.error("Error fetching Google Calendar status:",O),L(D=>({...D,loading:!1}))}},mt=async()=>{try{L(M=>({...M,loading:!0}));const O=localStorage.getItem("token"),D=await oe.get(`${se}/google-calendar/auth-url`,{headers:{Authorization:`Bearer ${O}`}});window.location.href=D.data.authUrl}catch(O){console.error("Error connecting Google Calendar:",O),Y({general:"Chyba pri pripjan Google Calendar"}),L(D=>({...D,loading:!1}))}},_n=async()=>{if(confirm("Naozaj chcete odpoji Google Calendar? Vetky synchronizan dta bud vymazan."))try{L(D=>({...D,loading:!0}));const O=localStorage.getItem("token");await oe.post(`${se}/google-calendar/disconnect`,{},{headers:{Authorization:`Bearer ${O}`}}),L({connected:!1,connectedAt:null,loading:!1,syncing:!1}),te("Google Calendar bol odpojen")}catch(O){console.error("Error disconnecting Google Calendar:",O),Y({general:"Chyba pri odpjan"}),L(D=>({...D,loading:!1}))}},Rn=async()=>{var O,D;try{L(ae=>({...ae,syncing:!0}));const M=localStorage.getItem("token"),ee=await oe.post(`${se}/google-calendar/sync`,{},{headers:{Authorization:`Bearer ${M}`}});te(ee.data.message),L(ae=>({...ae,syncing:!1}))}catch(M){console.error("Error syncing Google Calendar:",M);const ee=((D=(O=M.response)==null?void 0:O.data)==null?void 0:D.message)||M.message||"Chyba pri synchronizcii";Y({general:yr(ee)}),L(ae=>({...ae,syncing:!1}))}},mn=async()=>{var O,D;try{L(ae=>({...ae,syncing:!0}));const M=localStorage.getItem("token"),ee=await oe.post(`${se}/google-calendar/cleanup`,{},{headers:{Authorization:`Bearer ${M}`}});te(ee.data.message),L(ae=>({...ae,syncing:!1}))}catch(M){console.error("Error cleaning up Google Calendar:",M);const ee=((D=(O=M.response)==null?void 0:O.data)==null?void 0:D.message)||M.message||"Chyba pri isten";Y({general:yr(ee)}),L(ae=>({...ae,syncing:!1}))}},Rt=async()=>{try{B(M=>({...M,loading:!0}));const O=localStorage.getItem("token"),D=await oe.get(`${se}/google-tasks/status`,{headers:{Authorization:`Bearer ${O}`}});B({connected:D.data.connected,connectedAt:D.data.connectedAt,loading:!1,syncing:!1,pendingTasks:D.data.pendingTasks||null,quota:D.data.quota||null})}catch(O){console.error("Error fetching Google Tasks status:",O),B(D=>({...D,loading:!1}))}},gt=async()=>{try{B(M=>({...M,loading:!0}));const O=localStorage.getItem("token"),D=await oe.get(`${se}/google-tasks/auth-url`,{headers:{Authorization:`Bearer ${O}`}});window.location.href=D.data.authUrl}catch(O){console.error("Error connecting Google Tasks:",O),Y({general:"Chyba pri pripjan Google Tasks"}),B(D=>({...D,loading:!1}))}},fr=async()=>{if(confirm("Naozaj chcete odpoji Google Tasks? Vetky synchronizan dta bud vymazan."))try{B(D=>({...D,loading:!0}));const O=localStorage.getItem("token");await oe.post(`${se}/google-tasks/disconnect`,{},{headers:{Authorization:`Bearer ${O}`}}),B({connected:!1,connectedAt:null,loading:!1,syncing:!1}),te("Google Tasks bol odpojen")}catch(O){console.error("Error disconnecting Google Tasks:",O),Y({general:"Chyba pri odpjan"}),B(D=>({...D,loading:!1}))}},en=async()=>{var O,D,M;try{B(re=>({...re,syncing:!0})),ce("");const ee=localStorage.getItem("token");try{await oe.post(`${se}/google-tasks/sync-completed`,{},{headers:{Authorization:`Bearer ${ee}`},timeout:3e4})}catch(re){console.log("Sync completed from Google skipped:",re.message)}const ae=await oe.post(`${se}/google-tasks/sync`,{},{headers:{Authorization:`Bearer ${ee}`},timeout:66e4});ce(ae.data.message),B(re=>({...re,syncing:!1})),await Rt()}catch(ee){console.error("Error syncing Google Tasks:",ee);let ae;ee.code==="ECONNABORTED"||(O=ee.message)!=null&&O.includes("timeout")?ae="Synchronizcia trvala prli dlho. Skste to znova.":ae=((M=(D=ee.response)==null?void 0:D.data)==null?void 0:M.message)||ee.message||"Chyba pri synchronizcii",ce(yr(ae)),B(re=>({...re,syncing:!1}))}},St=async()=>{var O,D,M;try{B(re=>({...re,syncing:!0})),ce("");const ee=localStorage.getItem("token");await oe.post(`${se}/google-tasks/reset-sync`,{},{headers:{Authorization:`Bearer ${ee}`},timeout:1e4});const ae=await oe.post(`${se}/google-tasks/sync`,{force:!0},{headers:{Authorization:`Bearer ${ee}`},timeout:66e4});ce(ae.data.message),B(re=>({...re,syncing:!1})),await Rt()}catch(ee){console.error("Error in reset and sync:",ee);let ae;ee.code==="ECONNABORTED"||(O=ee.message)!=null&&O.includes("timeout")?ae="Synchronizcia trvala prli dlho. Skste to znova.":ae=((M=(D=ee.response)==null?void 0:D.data)==null?void 0:M.message)||ee.message||"Chyba pri synchronizcii",ce(yr(ae)),B(re=>({...re,syncing:!1}))}},x=async()=>{var O,D;try{B(ae=>({...ae,syncing:!0})),ce("");const M=localStorage.getItem("token"),ee=await oe.post(`${se}/google-tasks/cleanup`,{},{headers:{Authorization:`Bearer ${M}`}});ce(ee.data.message),B(ae=>({...ae,syncing:!1})),await Rt()}catch(M){console.error("Error cleaning up Google Tasks:",M);const ee=((D=(O=M.response)==null?void 0:O.data)==null?void 0:D.message)||M.message||"Chyba pri isten";ce(yr(ee)),B(ae=>({...ae,syncing:!1}))}},Q=async()=>{var O,D,M;if(confirm("Odstrni duplikovan lohy z Google Tasks? Ponech sa jedna kpia kadej lohy."))try{B(re=>({...re,syncing:!0})),ce("Hadm duplikty...");const ee=localStorage.getItem("token"),ae=await oe.post(`${se}/google-tasks/remove-duplicates`,{},{headers:{Authorization:`Bearer ${ee}`},timeout:12e4});if(ce(ae.data.message),ae.data.status==="running"){let re=0;const Le=setInterval(async()=>{try{const ct=await oe.get(`${se}/google-tasks/remove-duplicates/status`,{headers:{Authorization:`Bearer ${ee}`},timeout:1e4});ce(ct.data.message),ct.data.status==="completed"||ct.data.status==="error"?(clearInterval(Le),B(tt=>({...tt,syncing:!1})),await Rt()):ct.data.status==="none"&&(re++,re>=2&&(clearInterval(Le),ce("Mazanie dupliktov bolo preruen (server sa retartoval). Skste to znova."),B(tt=>({...tt,syncing:!1}))))}catch(ct){console.error("Error polling dedup status:",ct),re++,re>=3&&(clearInterval(Le),ce("Nepodarilo sa zisti stav mazania dupliktov."),B(tt=>({...tt,syncing:!1})))}},5e3)}else B(re=>({...re,syncing:!1}))}catch(ee){console.error("Error removing duplicates:",ee);let ae;ee.code==="ECONNABORTED"||(O=ee.message)!=null&&O.includes("timeout")?ae="Hadanie dupliktov trvalo prli dlho. Skste to znova.":ae=((M=(D=ee.response)==null?void 0:D.data)==null?void 0:M.message)||ee.message||"Chyba pri odstraovan dupliktov",ce(yr(ae)),B(re=>({...re,syncing:!1}))}},J=async O=>{var D,M;if(!O||O.length<2){ce("Zadajte aspo 2 znaky pre vyhadvanie");return}if(confirm(`Naozaj chcete vymaza vetky lohy obsahujce "${O}" z Google Tasks?`))try{B(re=>({...re,syncing:!0})),ce("");const ee=localStorage.getItem("token"),ae=await oe.post(`${se}/google-tasks/delete-by-search`,{searchTerm:O},{headers:{Authorization:`Bearer ${ee}`}});ce(ae.data.message),B(re=>({...re,syncing:!1})),await Rt()}catch(ee){console.error("Error deleting by search:",ee);const ae=((M=(D=ee.response)==null?void 0:D.data)==null?void 0:M.message)||ee.message||"Chyba pri mazan";ce(yr(ae)),B(re=>({...re,syncing:!1}))}},I=O=>{const{name:D,value:M}=O.target;p({...h,[D]:M})},Ne=O=>{const{name:D,value:M}=O.target;E({...k,[D]:M})},Pe=async()=>{var O,D;try{Y({}),te("");const M=localStorage.getItem("token"),ee=await oe.put(`${se}/auth/profile`,h,{headers:{Authorization:`Bearer ${M}`}});y(ee.data),n&&n(ee.data),c(!1)}catch(M){Y({general:((D=(O=M.response)==null?void 0:O.data)==null?void 0:D.message)||"Chyba pri ukladan profilu"})}},zt=async()=>{var O,D;if(Y({}),te(""),k.newPassword!==k.confirmPassword){Y({confirmPassword:"Hesl sa nezhoduj"});return}if(k.newPassword.length<6){Y({newPassword:"Heslo mus ma aspo 6 znakov"});return}try{const M=localStorage.getItem("token");await oe.put(`${se}/auth/password`,{currentPassword:k.currentPassword,newPassword:k.newPassword},{headers:{Authorization:`Bearer ${M}`}}),te("Heslo bolo spene zmenen"),E({currentPassword:"",newPassword:"",confirmPassword:""})}catch(M){Y({general:((D=(O=M.response)==null?void 0:O.data)==null?void 0:D.message)||"Chyba pri zmene hesla"})}},we=async O=>{const D=O.target.files[0];if(!D)return;Y({}),te("");const M=new FormData;M.append("avatar",D);const ee=localStorage.getItem("token"),ae=`${se}/auth/avatar`,re=new XMLHttpRequest;re.addEventListener("load",()=>{if(re.status>=200&&re.status<300)try{const ct=JSON.parse(re.responseText).avatar,tt=Date.now();y(Mt=>({...Mt,avatar:ct})),X(tt),te("Avatar bol spene nahran"),n&&n({avatar:ct,avatarTimestamp:tt})}catch{Y({general:"Chyba pri spracovan odpovede"})}else try{const Le=JSON.parse(re.responseText);Y({general:Le.message||"Chyba pri nahrvan avatara"})}catch{Y({general:`Chyba pri nahrvan avatara (${re.status})`})}}),re.addEventListener("error",()=>{Y({general:"Chyba siete pri nahrvan avatara"})}),re.open("POST",ae),re.setRequestHeader("Authorization",`Bearer ${ee}`),re.send(M),O.target.value=""},gn=async()=>{var O,D;try{const M=localStorage.getItem("token");await oe.delete(`${se}/auth/avatar`,{headers:{Authorization:`Bearer ${M}`}}),y(ee=>({...ee,avatar:null})),te("Avatar bol odstrnen"),n&&n({avatar:null})}catch(M){Y({general:((D=(O=M.response)==null?void 0:O.data)==null?void 0:D.message)||"Chyba pri odstraovan avatara"})}},zn=O=>O?O.charAt(0).toUpperCase():"?",tn=O=>new Date(O).toLocaleDateString("sk-SK",{day:"2-digit",month:"2-digit",year:"numeric"}),On=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];return i.jsxs("div",{className:"user-menu",ref:le,children:[i.jsxs("button",{className:"user-menu-trigger",onClick:()=>o(!a),children:[e!=null&&e.avatar?i.jsx("img",{src:`${Cr}/api/auth/avatar/${e.id}?t=${e.avatarTimestamp||q}`,alt:e.username,className:"user-avatar-img"}):i.jsx("div",{className:"user-avatar",style:{backgroundColor:(e==null?void 0:e.color)||"#3B82F6"},children:zn(e==null?void 0:e.username)}),i.jsx("span",{className:"user-name",children:e==null?void 0:e.username}),i.jsx("span",{className:"dropdown-arrow",children:a?"":""})]}),a&&i.jsxs("div",{className:"user-menu-dropdown",children:[i.jsxs("div",{className:"user-menu-header",children:[e!=null&&e.avatar?i.jsx("img",{src:`${Cr}/api/auth/avatar/${e.id}?t=${e.avatarTimestamp||q}`,alt:e.username,className:"dropdown-avatar-img"}):i.jsx("div",{className:"dropdown-avatar",style:{backgroundColor:(e==null?void 0:e.color)||"#3B82F6"},children:zn(e==null?void 0:e.username)}),i.jsxs("div",{className:"dropdown-user-info",children:[i.jsx("span",{className:"dropdown-username",children:e==null?void 0:e.username}),i.jsx("span",{className:"dropdown-email",children:e==null?void 0:e.email})]})]}),s&&i.jsxs("div",{className:"user-menu-workspace-mobile",children:[i.jsx("span",{className:"workspace-color-dot",style:{backgroundColor:s.color||"#6366f1"}}),i.jsx("span",{className:"workspace-name-mobile",children:s.name}),i.jsx("span",{className:"workspace-role-mobile",children:s.role==="owner"?"Vlastnk":s.role==="admin"?"Admin":"len"})]}),i.jsx("div",{className:"user-menu-divider"}),i.jsxs("button",{className:"user-menu-item",onClick:et,children:[i.jsx("span",{className:"menu-icon",children:""}),"Mj profil"]}),i.jsxs("button",{className:"user-menu-item",onClick:lt,children:[i.jsx("span",{className:"menu-icon",children:""}),"Zmeni heslo"]}),i.jsxs("button",{className:"user-menu-item",onClick:Tn,children:[i.jsx("span",{className:"menu-icon",children:""}),"Synchronizcia kalendra"]}),(e==null?void 0:e.role)==="admin"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"user-menu-divider"}),i.jsxs("button",{className:"user-menu-item",onClick:()=>{o(!1),r("/admin")},children:[i.jsx("span",{className:"menu-icon",children:""}),"Sprva pouvateov"]})]}),i.jsx("div",{className:"user-menu-divider"}),i.jsxs("button",{className:"user-menu-item logout",onClick:t,children:[i.jsx("span",{className:"menu-icon",children:""}),"Odhlsi sa"]})]}),l&&i.jsx("div",{className:"modal-overlay",onClick:Me,children:i.jsxs("div",{className:"modal-content profile-modal",onClick:O=>O.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Mj profil"}),i.jsx("button",{className:"modal-close",onClick:Me,children:""})]}),j?i.jsx("div",{className:"modal-loading",children:"Natavam..."}):w?i.jsxs("div",{className:"profile-content",children:[i.jsxs("div",{className:"profile-avatar-section",children:[w.avatar?i.jsx("img",{src:`${Cr}/api/auth/avatar/${w.id}?t=${q}`,alt:w.username,className:"profile-avatar-img"}):i.jsx("div",{className:"profile-avatar-placeholder",style:{backgroundColor:h.color||w.color},children:zn(w.username)}),i.jsxs("div",{className:"avatar-actions",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>{var O;return(O=me.current)==null?void 0:O.click()},children:"Nahra fotku"}),w.avatar&&i.jsx("button",{className:"btn btn-danger",onClick:gn,children:"Odstrni"}),i.jsx("input",{ref:me,type:"file",accept:"image/*",onChange:we,style:{display:"none"}})]})]}),i.jsxs("div",{className:"profile-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Uvatesk meno"}),i.jsx("input",{type:"text",name:"username",value:h.username,onChange:I,className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Email"}),i.jsx("input",{type:"email",name:"email",value:h.email,onChange:I,className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Farba profilu"}),i.jsx("div",{className:"color-picker",children:On.map(O=>i.jsx("div",{className:`color-option ${h.color===O?"selected":""}`,style:{backgroundColor:O},onClick:()=>p({...h,color:O}),role:"button",tabIndex:0,onKeyDown:D=>D.key==="Enter"&&p({...h,color:O})},O))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Registrovan od"}),i.jsx("span",{className:"profile-info-value",children:tn(w.createdAt)})]})]}),pe&&i.jsx("div",{className:"form-success",children:pe}),K.general&&i.jsx("div",{className:"form-error",children:K.general}),i.jsxs("div",{className:"modal-actions",children:[i.jsx("button",{className:"btn btn-primary",onClick:Pe,children:"Uloi zmeny"}),i.jsx("button",{className:"btn btn-secondary",onClick:Me,children:"Zavrie"})]})]}):i.jsxs("div",{className:"modal-loading",children:[i.jsx("p",{children:"Nepodarilo sa nata profil"}),i.jsx("button",{className:"btn btn-primary",onClick:be,style:{marginTop:"12px"},children:"Sksi znova"})]})]})}),u&&i.jsx("div",{className:"modal-overlay",onClick:Bt,children:i.jsxs("div",{className:"modal-content password-modal",onClick:O=>O.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Zmena hesla"}),i.jsx("button",{className:"modal-close",onClick:Bt,children:""})]}),i.jsxs("div",{className:"password-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Aktulne heslo"}),i.jsx("input",{type:"password",name:"currentPassword",value:k.currentPassword,onChange:Ne,className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nov heslo"}),i.jsx("input",{type:"password",name:"newPassword",value:k.newPassword,onChange:Ne,className:`form-input ${K.newPassword?"form-input-error":""}`}),K.newPassword&&i.jsx("span",{className:"form-error",children:K.newPassword})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Potvrdi nov heslo"}),i.jsx("input",{type:"password",name:"confirmPassword",value:k.confirmPassword,onChange:Ne,className:`form-input ${K.confirmPassword?"form-input-error":""}`}),K.confirmPassword&&i.jsx("span",{className:"form-error",children:K.confirmPassword})]}),pe&&i.jsx("div",{className:"form-success",children:pe}),K.general&&i.jsx("div",{className:"form-error",children:K.general}),i.jsxs("div",{className:"modal-actions",children:[i.jsx("button",{className:"btn btn-primary",onClick:zt,children:"Zmeni heslo"}),i.jsx("button",{className:"btn btn-secondary",onClick:Bt,children:"Zavrie"})]})]})]})}),g&&i.jsx("div",{className:"modal-overlay",onClick:Jt,children:i.jsxs("div",{className:"modal-content calendar-modal",onClick:O=>O.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Synchronizcia kalendra"}),i.jsx("button",{className:"modal-close",onClick:Jt,children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"calendar-section push-notifications-section",children:[i.jsx("h3",{children:" Push notifikcie"}),i.jsx("p",{className:"section-description",children:"Dostvajte notifikcie aj ke mte aplikciu zatvoren."}),i.jsx(Yw,{})]}),i.jsxs("div",{className:"calendar-section google-calendar-section",children:[i.jsx("h3",{children:" Google Calendar (Okamit synchronizcia)"}),i.jsxs("p",{className:"section-description",children:["Priame prepojenie s Google Calendar. Zmeny sa prejavia ",i.jsx("strong",{children:"okamite"}),"."]}),b.loading?i.jsx("div",{className:"calendar-loading",children:"Natavam..."}):b.connected?i.jsxs("div",{className:"calendar-enabled",children:[i.jsxs("div",{className:"calendar-status",children:[i.jsx("span",{className:"status-indicator active"}),i.jsx("span",{children:"Google Calendar je pripojen"})]}),b.connectedAt&&i.jsxs("p",{className:"connected-info",children:["Pripojen od: ",new Date(b.connectedAt).toLocaleDateString("sk-SK")]}),i.jsxs("div",{className:"calendar-actions",style:{marginTop:"12px"},children:[i.jsx("button",{className:"btn btn-primary",onClick:Rn,disabled:b.syncing,children:b.syncing?" Synchronizujem...":" Synchronizova teraz"}),i.jsx("button",{className:"btn btn-secondary",onClick:mn,disabled:b.syncing,title:"Odstrni z kalendra udalosti, ktor u nemaj zodpovedajcu lohu",children:"Vycistit stare"}),i.jsx("button",{className:"btn btn-danger",onClick:_n,children:"Odpoji"})]}),pe&&i.jsx("div",{className:"form-success",style:{marginTop:"12px"},children:pe}),K.general&&i.jsx("div",{className:"form-error",style:{marginTop:"12px"},children:K.general})]}):i.jsx("div",{className:"calendar-disabled",children:i.jsxs("button",{className:"btn btn-google",onClick:mt,children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",style:{marginRight:"8px"},children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Pripoji Google Calendar"]})})]}),i.jsxs("div",{className:"calendar-section google-tasks-section",style:{marginTop:"24px"},children:[i.jsx("h3",{children:" Google Tasks (lohy s odkrtvanm)"}),i.jsxs("p",{className:"section-description",children:["Synchronizcia do Google Tasks. lohy sa daj ",i.jsx("strong",{children:"odkrtn"})," priamo v kalendri."]}),V.loading?i.jsx("div",{className:"calendar-loading",children:"Natavam..."}):V.connected?i.jsxs("div",{className:"calendar-enabled",children:[i.jsxs("div",{className:"calendar-status",children:[i.jsx("span",{className:"status-indicator active"}),i.jsx("span",{children:"Google Tasks je pripojen"})]}),V.connectedAt&&i.jsxs("p",{className:"connected-info",children:["Pripojen od: ",new Date(V.connectedAt).toLocaleDateString("sk-SK")]}),V.pendingTasks&&i.jsxs("div",{className:"sync-status-info",style:{marginTop:"12px",padding:"12px",backgroundColor:V.pendingTasks.pending>0?"#FEF3C7":"#D1FAE5",borderRadius:"8px",fontSize:"14px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[i.jsx("span",{children:"Synchronizovan:"}),i.jsxs("strong",{children:[V.pendingTasks.synced," / ",V.pendingTasks.total]})]}),V.pendingTasks.pending>0&&i.jsxs("div",{style:{color:"#B45309",fontWeight:"500"},children:[" ak na synchronizciu: ",V.pendingTasks.pending," loh"]}),V.pendingTasks.pending===0&&i.jsx("div",{style:{color:"#059669",fontWeight:"500"},children:" Vetky lohy s synchronizovan"})]}),V.quota&&i.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:V.quota.remaining<1e3?"#FEE2E2":"#F3F4F6",borderRadius:"8px",fontSize:"13px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[i.jsx("span",{children:"Denn kvta API:"}),i.jsxs("strong",{children:[V.quota.used.toLocaleString()," / ",V.quota.limit.toLocaleString()]})]}),i.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"#E5E7EB",borderRadius:"3px",marginBottom:"6px"},children:i.jsx("div",{style:{width:`${Math.min(V.quota.percentUsed,100)}%`,height:"100%",backgroundColor:V.quota.percentUsed>80?"#EF4444":V.quota.percentUsed>50?"#F59E0B":"#10B981",borderRadius:"3px",transition:"width 0.3s ease"}})}),i.jsxs("div",{style:{color:"#6B7280",fontSize:"12px"},children:["Zostva: ",V.quota.remaining.toLocaleString()," volan",i.jsxs("span",{style:{float:"right"},children:["Reset: ",new Date(V.quota.resetsAt).toLocaleTimeString("sk-SK",{hour:"2-digit",minute:"2-digit"})," UTC"]})]}),V.pendingTasks&&V.pendingTasks.pending>0&&i.jsx("div",{style:{marginTop:"8px",color:"#6B7280",fontSize:"12px",fontStyle:"italic"},children:"Tip: Ak kvta nesta, zvyn lohy sa dosyncuj zajtra automaticky pri alej synchronizcii."})]}),i.jsxs("div",{className:"calendar-actions",style:{marginTop:"12px"},children:[i.jsx("button",{className:"btn btn-primary",onClick:en,disabled:V.syncing,children:V.syncing?" Synchronizujem...":" Synchronizova"}),i.jsx("button",{className:"btn btn-secondary",onClick:St,disabled:V.syncing,title:"Vymae star sync dta a synchronizuje vetko odznova",children:" Pln sync"}),i.jsx("button",{className:"btn btn-secondary",onClick:x,disabled:V.syncing,title:"Odstrni lohy, ktor u nemaj zodpovedajcu lohu v CRM",children:"Vyisti"}),i.jsx("button",{className:"btn btn-secondary",onClick:Q,disabled:V.syncing,title:"Njde a odstrni duplikovan lohy v Google Tasks",style:{background:"#e67e22",color:"white",border:"none"},children:" Odstrni duplikty"}),i.jsx("button",{className:"btn btn-danger",onClick:fr,children:"Odpoji"})]}),i.jsxs("div",{style:{marginTop:"12px",padding:"10px",background:"#f8f9fa",borderRadius:"6px"},children:[i.jsx("label",{style:{fontSize:"12px",color:"#666",marginBottom:"4px",display:"block"},children:"Vymaza z Google Tasks poda nzvu:"}),i.jsxs("div",{style:{display:"flex",gap:"8px"},children:[i.jsx("input",{type:"text",value:Ae,onChange:O=>$(O.target.value),placeholder:"napr. vzor",style:{flex:1,padding:"6px 10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},disabled:V.syncing}),i.jsx("button",{className:"btn btn-warning",onClick:()=>J(Ae),disabled:V.syncing||Ae.length<2,style:{whiteSpace:"nowrap"},children:"Vymaza"})]})]}),Ye&&!V.syncing&&i.jsx("div",{className:"form-success",style:{marginTop:"12px"},children:Ye})]}):i.jsxs("div",{className:"calendar-disabled",children:[i.jsxs("button",{className:"btn btn-google",onClick:gt,children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",style:{marginRight:"8px"},children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Pripoji Google Tasks"]}),i.jsx("p",{className:"calendar-note",style:{marginTop:"8px",fontSize:"12px",color:"#666"},children:"lohy sa zobrazia v Google Tasks a na bonom paneli Google Calendar."})]})]}),i.jsx("div",{className:"calendar-divider",children:i.jsx("span",{children:"alebo"})}),i.jsxs("div",{className:"calendar-section ics-feed-section",children:[i.jsx("h3",{children:" ICS Feed (Vetky kalendre)"}),i.jsx("p",{className:"section-description",children:"Univerzlny odkaz pre Apple Calendar, Outlook a in. Aktualizcia kadch 15-60 mint."}),z.loading?i.jsx("div",{className:"calendar-loading",children:"Natavam..."}):z.enabled?i.jsxs("div",{className:"calendar-enabled",children:[i.jsxs("div",{className:"calendar-status",children:[i.jsx("span",{className:"status-indicator active"}),i.jsx("span",{children:"Synchronizcia je aktvna"})]}),i.jsxs("div",{className:"calendar-feed-url",children:[i.jsx("label",{children:"Odkaz pre kalendr:"}),i.jsx("input",{type:"text",value:z.feedUrl||"",readOnly:!0,className:"form-input",style:{width:"100%",fontFamily:"monospace",fontSize:"12px",marginBottom:"8px"},onClick:O=>O.target.select()}),i.jsx("button",{className:"btn btn-primary",onClick:hn,style:{width:"100%"},children:" Koprova odkaz"})]}),i.jsxs("div",{className:"calendar-instructions",children:[i.jsx("h4",{children:"Ako prida do kalendra:"}),i.jsxs("div",{className:"instructions-tabs",children:[i.jsxs("details",{children:[i.jsx("summary",{children:"Google Calendar (Web)"}),i.jsxs("ol",{children:[i.jsxs("li",{children:["Otvorte ",i.jsx("a",{href:"https://calendar.google.com",target:"_blank",rel:"noopener noreferrer",children:"calendar.google.com"})]}),i.jsx("li",{children:'V avom paneli njdite "alie kalendre"'}),i.jsxs("li",{children:["Kliknite na ",i.jsx("strong",{children:"+"})," a vyberte ",i.jsx("strong",{children:'"Z webovej adresy"'})]}),i.jsx("li",{children:'Vlote skoprovan odkaz do poa "URL kalendra"'}),i.jsxs("li",{children:["Kliknite ",i.jsx("strong",{children:'"Prida kalendr"'})]})]}),i.jsx("p",{className:"instruction-note",children:"Kalendr sa aktualizuje automaticky kadch 15-30 mint."})]}),i.jsxs("details",{children:[i.jsx("summary",{children:"Google Calendar (Android)"}),i.jsxs("ol",{children:[i.jsx("li",{children:"Na Androide nie je mon prida priamo - pouite webov verziu"}),i.jsxs("li",{children:["Otvorte ",i.jsx("a",{href:"https://calendar.google.com",target:"_blank",rel:"noopener noreferrer",children:"calendar.google.com"})," v prehliadai"]}),i.jsx("li",{children:"Postupujte poda nvodu pre Web vyie"}),i.jsx("li",{children:"Kalendr sa automaticky zobraz v Android aplikcii"})]})]}),i.jsxs("details",{children:[i.jsx("summary",{children:"Apple Calendar (iPhone)"}),i.jsxs("ol",{children:[i.jsxs("li",{children:["Otvorte ",i.jsx("strong",{children:"Nastavenia"})," na iPhone"]}),i.jsxs("li",{children:["Prejdite na ",i.jsx("strong",{children:"Kalendr  ty"})]}),i.jsxs("li",{children:["Kliknite ",i.jsx("strong",{children:'"Prida et"'})]}),i.jsxs("li",{children:["Vyberte ",i.jsx("strong",{children:'"In"'})]}),i.jsxs("li",{children:["Kliknite ",i.jsx("strong",{children:'"Prida odber kalendra"'})]}),i.jsx("li",{children:'Vlote skoprovan odkaz do poa "Server"'}),i.jsxs("li",{children:["Kliknite ",i.jsx("strong",{children:'"alej"'})," a potom ",i.jsx("strong",{children:'"Uloi"'})]})]}),i.jsx("p",{className:"instruction-note",children:"Kalendr sa aktualizuje automaticky kadch 15-60 mint."})]}),i.jsxs("details",{children:[i.jsx("summary",{children:"Apple Calendar (Mac)"}),i.jsxs("ol",{children:[i.jsxs("li",{children:["Otvorte aplikciu ",i.jsx("strong",{children:"Kalendr"})]}),i.jsxs("li",{children:["V menu kliknite ",i.jsx("strong",{children:"Sbor  Nov odber kalendra..."})]}),i.jsx("li",{children:"Vlote skoprovan odkaz"}),i.jsxs("li",{children:["Kliknite ",i.jsx("strong",{children:'"Prihlsi sa"'})]}),i.jsxs("li",{children:["Nastavte automatick aktualizciu a kliknite ",i.jsx("strong",{children:'"OK"'})]})]})]}),i.jsxs("details",{children:[i.jsx("summary",{children:"Outlook (Web - outlook.com)"}),i.jsxs("ol",{children:[i.jsxs("li",{children:["Otvorte ",i.jsx("a",{href:"https://outlook.live.com/calendar",target:"_blank",rel:"noopener noreferrer",children:"outlook.live.com/calendar"})]}),i.jsxs("li",{children:["Kliknite na ",i.jsx("strong",{children:'"Prida kalendr"'})," v avom paneli"]}),i.jsxs("li",{children:["Vyberte ",i.jsx("strong",{children:'"Prihlsi sa na odber z webu"'})]}),i.jsx("li",{children:"Vlote skoprovan odkaz"}),i.jsx("li",{children:'Zadajte nzov kalendra (napr. "Purple CRM")'}),i.jsxs("li",{children:["Kliknite ",i.jsx("strong",{children:'"Importova"'})]})]}),i.jsx("p",{className:"instruction-note",children:"Kalendr sa aktualizuje automaticky kadch 30-60 mint."})]}),i.jsxs("details",{children:[i.jsx("summary",{children:"Outlook (Desktop aplikcia)"}),i.jsxs("ol",{children:[i.jsxs("li",{children:["Otvorte Outlook a prejdite do ",i.jsx("strong",{children:"Kalendra"})]}),i.jsxs("li",{children:["Kliknite pravm na ",i.jsx("strong",{children:'"Moje kalendre"'})]}),i.jsxs("li",{children:["Vyberte ",i.jsx("strong",{children:'"Prida kalendr"  "Z Internetu..."'})]}),i.jsx("li",{children:"Vlote skoprovan odkaz"}),i.jsxs("li",{children:["Kliknite ",i.jsx("strong",{children:'"OK"'})]})]})]}),i.jsxs("details",{children:[i.jsx("summary",{children:"In kalendre (CalDAV)"}),i.jsxs("ol",{children:[i.jsx("li",{children:"Vina kalendrovch aplikci podporuje ICS/iCalendar formt"}),i.jsx("li",{children:'Hadajte monos "Prida kalendr z URL" alebo "Subscribe"'}),i.jsx("li",{children:"Vlote skoprovan odkaz"}),i.jsx("li",{children:"Kalendr sa bude automaticky aktualizova"})]}),i.jsx("p",{className:"instruction-note",children:"Podporovan: Thunderbird, Nextcloud, Synology Calendar, Fastmail a alie."})]})]}),i.jsxs("div",{className:"calendar-sync-info",children:[i.jsx("strong",{children:"o sa synchronizuje:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Vetky lohy s termnom (vrtane podloh)"}),i.jsx("li",{children:"Dokonen lohy s oznaen "}),i.jsx("li",{children:"Priorita a popis lohy"}),i.jsx("li",{children:"Prepojen kontakt"})]})]})]}),pe&&i.jsx("div",{className:"form-success",children:pe}),K.general&&i.jsx("div",{className:"form-error",children:K.general}),i.jsxs("div",{className:"calendar-actions",children:[i.jsx("button",{className:"btn btn-secondary",onClick:fn,children:"Vygenerova nov odkaz"}),i.jsx("button",{className:"btn btn-danger",onClick:$t,children:"Deaktivova"})]})]}):i.jsxs("div",{className:"calendar-disabled",children:[i.jsxs("div",{className:"calendar-status",children:[i.jsx("span",{className:"status-indicator inactive"}),i.jsx("span",{children:"Synchronizcia nie je aktvna"})]}),i.jsx("p",{className:"calendar-description",children:"Po aktivcii zskate uniktny odkaz, ktor mete prida do svojho kalendra. Kalendr sa bude automaticky aktualizova pri kadej zmene loh."}),pe&&i.jsx("div",{className:"form-success",children:pe}),K.general&&i.jsx("div",{className:"form-error",children:K.general}),i.jsx("button",{className:"btn btn-primary",onClick:Yt,children:"Aktivova synchronizciu"})]})]})]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{className:"btn btn-secondary",onClick:Jt,children:"Zavrie"})})]})})]})}const t0=e=>localStorage.getItem(`help_seen_${e}`)==="true",n0=e=>{localStorage.setItem(`help_seen_${e}`,"true")},Tu=({section:e,tips:t,title:n,children:r})=>{const[s,a]=v.useState(!1),[o,l]=v.useState(!0);v.useEffect(()=>{t0(e)||a(!0)},[e]);const c=()=>{a(!1),n0(e)},u=()=>{a(!0)};return i.jsxs(i.Fragment,{children:[o&&i.jsx("button",{className:"help-guide-btn",onClick:u,title:"Zobrazi npovedu",children:"?"}),s&&i.jsx("div",{className:"help-guide-overlay",onClick:c,children:i.jsxs("div",{className:"help-guide-modal",onClick:f=>f.stopPropagation(),children:[i.jsxs("div",{className:"help-guide-header",children:[i.jsx("h2",{children:n||"Npoveda"}),i.jsx("button",{className:"help-guide-close",onClick:c,children:""})]}),i.jsx("div",{className:"help-guide-content",children:t&&t.length>0?i.jsx("ul",{className:"help-guide-tips",children:t.map((f,g)=>i.jsxs("li",{className:"help-guide-tip",children:[i.jsx("span",{className:"tip-icon",children:f.icon||""}),i.jsxs("div",{className:"tip-content",children:[i.jsx("strong",{children:f.title}),i.jsx("p",{children:f.description})]})]},g))}):r}),i.jsx("div",{className:"help-guide-footer",children:i.jsx("button",{className:"help-guide-got-it",onClick:c,children:"Rozumiem"})})]})}),i.jsx("style",{children:`
        .help-guide-btn {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 44px;
          height: 44px;
          border-radius: 50%;
          background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
          color: white;
          border: none;
          font-size: 20px;
          font-weight: bold;
          cursor: pointer;
          box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
          z-index: 1000;
          transition: all 0.3s ease;
        }

        .help-guide-btn:hover {
          transform: scale(1.1);
          box-shadow: 0 6px 20px rgba(99, 102, 241, 0.5);
        }

        .help-guide-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.7);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10000;
          padding: 20px;
          animation: fadeIn 0.2s ease;
        }

        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        .help-guide-modal {
          background: #2a2a3e;
          border-radius: 16px;
          max-width: 500px;
          width: 100%;
          max-height: 80vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
          animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .help-guide-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 20px 24px;
          border-bottom: 1px solid #404055;
        }

        .help-guide-header h2 {
          margin: 0;
          font-size: 20px;
          color: #ffffff;
        }

        .help-guide-close {
          background: none;
          border: none;
          color: #9ca3af;
          font-size: 28px;
          cursor: pointer;
          padding: 0;
          line-height: 1;
          transition: color 0.2s;
        }

        .help-guide-close:hover {
          color: #ffffff;
        }

        .help-guide-content {
          padding: 24px;
          overflow-y: auto;
          flex: 1;
        }

        .help-guide-tips {
          list-style: none;
          padding: 0;
          margin: 0;
        }

        .help-guide-tip {
          display: flex;
          gap: 16px;
          padding: 16px 0;
          border-bottom: 1px solid #404055;
        }

        .help-guide-tip:last-child {
          border-bottom: none;
        }

        .tip-icon {
          font-size: 24px;
          flex-shrink: 0;
        }

        .tip-content {
          flex: 1;
        }

        .tip-content strong {
          display: block;
          color: #ffffff;
          margin-bottom: 4px;
          font-size: 15px;
        }

        .tip-content p {
          margin: 0;
          color: #d1d5db;
          font-size: 14px;
          line-height: 1.5;
        }

        .help-guide-footer {
          padding: 16px 24px;
          border-top: 1px solid #404055;
          display: flex;
          justify-content: flex-end;
        }

        .help-guide-got-it {
          background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
          color: white;
          border: none;
          padding: 12px 32px;
          border-radius: 8px;
          font-size: 15px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
        }

        .help-guide-got-it:hover {
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
        }

        @media (max-width: 600px) {
          .help-guide-modal {
            max-height: 90vh;
            margin: 10px;
          }

          .help-guide-btn {
            bottom: 80px;
          }
        }
      `})]})},bo=()=>{const{workspaces:e,currentWorkspace:t,switchWorkspace:n,updateWorkspace:r,loading:s}=wo(),[a,o]=v.useState(!1),[l,c]=v.useState(!1),[u,f]=v.useState(""),[g,m]=v.useState(!1),[w,y]=v.useState(!1),j=v.useRef(null),S=v.useRef(null);v.useEffect(()=>{const b=()=>{y(window.innerWidth<=768)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),v.useEffect(()=>{const b=L=>{j.current&&!j.current.contains(L.target)&&(o(!1),c(!1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),v.useEffect(()=>{l&&S.current&&(S.current.focus(),S.current.select())},[l]);const h=async b=>{if(b===(t==null?void 0:t.id)){o(!1);return}try{await n(b),o(!1),window.location.reload()}catch(L){console.error("Error switching workspace:",L)}},p=(t==null?void 0:t.role)==="owner"||(t==null?void 0:t.role)==="admin",k=b=>{b.stopPropagation(),f(t.name),c(!0)},E=()=>{c(!1),f("")},z=async()=>{if(!u.trim()||u.trim()===t.name){E();return}try{m(!0),await r({name:u.trim()}),c(!1),f("")}catch(b){console.error("Error updating workspace:",b),alert("Chyba pri ukladan nzvu")}finally{m(!1)}},A=b=>{b.key==="Enter"?z():b.key==="Escape"&&E()};return w||s||!t?null:e.length<=1?i.jsx("div",{className:"workspace-indicator",ref:j,children:l?i.jsxs("div",{className:"workspace-edit-inline",children:[i.jsx("input",{ref:S,type:"text",value:u,onChange:b=>f(b.target.value),onKeyDown:A,className:"workspace-edit-input",placeholder:"Nzov workspace",disabled:g}),i.jsx("button",{onClick:z,className:"workspace-edit-btn save",disabled:g,title:"Uloi",children:""}),i.jsx("button",{onClick:E,className:"workspace-edit-btn cancel",disabled:g,title:"Zrui",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"workspace-color",style:{backgroundColor:t.color||"#6366f1"}}),i.jsx("span",{className:"workspace-name",children:t.name}),p&&i.jsx("button",{className:"workspace-edit-icon",onClick:k,title:"Upravi nzov",children:""})]})}):i.jsxs("div",{className:"workspace-switcher",ref:j,children:[i.jsxs("button",{className:"workspace-switcher-btn",onClick:()=>!l&&o(!a),title:"Prepn pracovn prostredie",children:[i.jsx("span",{className:"workspace-color",style:{backgroundColor:t.color||"#6366f1"}}),i.jsx("span",{className:"workspace-name",children:t.name}),i.jsx("span",{className:"workspace-arrow",children:a?"":""})]}),a&&i.jsxs("div",{className:"workspace-dropdown",children:[i.jsx("div",{className:"workspace-dropdown-header",children:"Pracovn prostredia"}),i.jsx("div",{className:"workspace-current-section",children:l?i.jsxs("div",{className:"workspace-edit-row",children:[i.jsx("input",{ref:S,type:"text",value:u,onChange:b=>f(b.target.value),onKeyDown:A,className:"workspace-edit-input",placeholder:"Nzov workspace",disabled:g}),i.jsx("button",{onClick:z,className:"workspace-edit-btn save",disabled:g,title:"Uloi",children:""}),i.jsx("button",{onClick:E,className:"workspace-edit-btn cancel",disabled:g,title:"Zrui",children:""})]}):i.jsxs("div",{className:"workspace-dropdown-item active",children:[i.jsx("span",{className:"workspace-color",style:{backgroundColor:t.color||"#6366f1"}}),i.jsxs("span",{className:"workspace-info",children:[i.jsx("span",{className:"workspace-item-name",children:t.name}),i.jsx("span",{className:"workspace-item-role",children:t.role==="owner"?"Vlastnk":t.role==="admin"?"Admin":"len"})]}),p&&i.jsx("button",{className:"workspace-edit-icon",onClick:k,title:"Upravi nzov",children:""}),i.jsx("span",{className:"workspace-check",children:""})]})}),e.filter(b=>b.id!==t.id).map(b=>i.jsxs("button",{className:"workspace-dropdown-item",onClick:()=>h(b.id),children:[i.jsx("span",{className:"workspace-color",style:{backgroundColor:b.color||"#6366f1"}}),i.jsxs("span",{className:"workspace-info",children:[i.jsx("span",{className:"workspace-item-name",children:b.name}),i.jsx("span",{className:"workspace-item-role",children:b.role==="owner"?"Vlastnk":b.role==="admin"?"Admin":"len"})]})]},b.id))]})]})},r0=[{icon:"",title:"Prehad tatistk",description:"Na avej strane vidte prehad vaich kontaktov a loh. Kliknutm na tatistiku zobrazte detailn zoznam."},{icon:"",title:"Kontakty poda stavu",description:"Kontakty s rozdelen poda stavu: Aktvni, akajci a Dokonen. Kliknutm na kategriu zobrazte zoznam."},{icon:"",title:"lohy na dnes",description:'V sekcii "lohy na dnes" vidte lohy s dnenm termnom. Mete ich priamo oznai ako dokonen.'},{icon:"",title:"Notifikcie",description:"V pravom hornom rohu njdete zvonek s notifikciami o zmench, ktor urobili ostatn lenovia tmu."},{icon:"",title:"Rchla navigcia",description:'Pomocou tlaidiel "Kontakty" a "lohy" v hlavike sa rchlo prepnete na detailn zobrazenie.'}];function s0(){const{user:e,logout:t,updateUser:n}=dr(),r=ur(),[s,a]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState(!0),[f,g]=v.useState(!1),{socket:m,isConnected:w}=So(),[y,j]=v.useState(null),[S,h]=v.useState(null),[p,k]=v.useState(null),[E,z]=v.useState(null),[A,b]=v.useState({}),[L,V]=v.useState(null),[B,K]=v.useState({}),[Y,pe]=v.useState({});v.useEffect(()=>{te()},[]),v.useEffect(()=>{if(!m||!w)return;const x=()=>te(),Q=()=>te(),J=()=>te(),I=()=>te(),Ne=()=>te(),Pe=()=>te();return m.on("contact-created",Q),m.on("contact-updated",x),m.on("contact-deleted",J),m.on("task-updated",I),m.on("task-created",Ne),m.on("task-deleted",Pe),()=>{m.off("contact-created",Q),m.off("contact-updated",x),m.off("contact-deleted",J),m.off("task-updated",I),m.off("task-created",Ne),m.off("task-deleted",Pe)}},[m,w]);const te=async()=>{try{const[x,Q]=await Promise.all([Z.get("/api/contacts"),Z.get("/api/tasks")]);a(x.data),l(Q.data)}catch(x){console.error("Failed to fetch data:",x)}finally{u(!1)}},Ye=x=>{switch(x){case"new":return"#3B82F6";case"active":return"#10B981";case"completed":return"#6366F1";case"cancelled":return"#EF4444";default:return"#9CA3AF"}},ce=x=>{switch(x){case"new":return"Novy";case"active":return"Aktivny";case"completed":return"Dokonceny";case"cancelled":return"Zruseny";default:return x}},Ae=x=>{switch(x){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#9CA3AF"}},$=x=>{switch(x){case"high":return"Vysoka";case"medium":return"Stredna";case"low":return"Nizka";default:return x}},q=(x,Q)=>{if(!x||Q)return"";const J=new Date;J.setHours(0,0,0,0);const I=new Date(x);I.setHours(0,0,0,0);const Ne=Math.ceil((I-J)/(1e3*60*60*24));return Ne<0?"overdue":Ne<=3?"due-danger":Ne<=7?"due-warning":Ne<=14?"due-success":""},X=x=>(x.tasks||[]).map(Q=>({id:Q.id,title:Q.title,description:Q.description,completed:Q.completed,priority:Q.priority,dueDate:Q.dueDate,subtasks:Q.subtasks||[],notes:Q.notes,source:"contact",contactId:x.id})),le=x=>{var J,I;return((J=x.contactNames)==null?void 0:J.length)>0?x.contactNames:x.contactName?[x.contactName]:(((I=x.contactIds)==null?void 0:I.length)>0?x.contactIds:x.contactId?[x.contactId]:[]).map(Ne=>{var Pe;return(Pe=s.find(zt=>zt.id===Ne))==null?void 0:Pe.name}).filter(Boolean)},me=s.filter(x=>x.status==="active").length,se=s.filter(x=>x.status==="new").length,be=s.filter(x=>x.status==="completed").length,et=s.filter(x=>x.status==="cancelled").length,Me=o.filter(x=>!x.completed).length,lt=o.filter(x=>x.completed).length,Bt=o.filter(x=>x.priority==="low"&&!x.completed).length,Tn=o.filter(x=>x.priority==="medium"&&!x.completed).length,Jt=o.filter(x=>x.priority==="high"&&!x.completed).length,Pn=()=>{switch(y){case"contacts":return{type:"contacts",items:s,title:"Vsetky kontakty"};case"active":return{type:"contacts",items:s.filter(x=>x.status==="active"),title:"Aktivne kontakty"};case"new":return{type:"contacts",items:s.filter(x=>x.status==="new"),title:"Nove kontakty"};case"completed-contacts":return{type:"contacts",items:s.filter(x=>x.status==="completed"),title:"Dokoncene kontakty"};case"cancelled":return{type:"contacts",items:s.filter(x=>x.status==="cancelled"),title:"Zrusene kontakty"};case"tasks":return{type:"tasks",items:o,title:"Vsetky ulohy"};case"pending":return{type:"tasks",items:o.filter(x=>!x.completed),title:"Nesplnene ulohy"};case"completed":return{type:"tasks",items:o.filter(x=>x.completed),title:"Splnene ulohy"};case"contactTasks":return S?{type:"tasks",items:X(S),title:`Ulohy: ${S.name}`}:null;case"priority-low":return{type:"tasks",items:o.filter(x=>x.priority==="low"&&!x.completed),title:"Ulohy s nizkou prioritou"};case"priority-medium":return{type:"tasks",items:o.filter(x=>x.priority==="medium"&&!x.completed),title:"Ulohy so strednou prioritou"};case"priority-high":return{type:"tasks",items:o.filter(x=>x.priority==="high"&&!x.completed),title:"Ulohy s vysokou prioritou"};default:return null}},Yt=()=>{j(null),h(null),k(null),z(null)},$t=x=>{h(x),j("contactTasks")},fn=x=>{z(x.id),b({title:x.title,description:x.description||"",dueDate:x.dueDate||"",priority:x.priority||"medium"})},hn=()=>{z(null),b({})},pn=async x=>{try{x.source==="contact"&&x.contactId?await Z.put(`/api/contacts/${x.contactId}/tasks/${x.id}`,A):await Z.put(`/api/tasks/${x.id}`,{...A,source:x.source}),await te(),z(null),b({})}catch{alert("Chyba pri ukladan lohy")}},mt=async x=>{if(!(!x.completed&&!window.confirm(`Oznai lohu "${x.title}" ako dokonen?`)))try{x.source==="contact"&&x.contactId?await Z.put(`/api/contacts/${x.contactId}/tasks/${x.id}`,{completed:!x.completed}):await Z.put(`/api/tasks/${x.id}`,{completed:!x.completed,source:x.source}),await te()}catch{alert("Chyba pri aktualizcii lohy")}},_n=x=>{V(x.id),K({title:x.title,dueDate:x.dueDate||"",notes:x.notes||""})},Rn=()=>{V(null),K({})},mn=async(x,Q)=>{try{const J=x.subtasks.map(I=>I.id===Q.id?{...I,...B}:I);x.source==="contact"&&x.contactId?await Z.put(`/api/contacts/${x.contactId}/tasks/${x.id}`,{subtasks:J}):await Z.put(`/api/tasks/${x.id}`,{subtasks:J}),await te(),V(null),K({})}catch{alert("Chyba pri ukladan podlohy")}},Rt=async(x,Q)=>{try{const J=x.subtasks.map(I=>I.id===Q.id?{...I,completed:!I.completed}:I);x.source==="contact"&&x.contactId?await Z.put(`/api/contacts/${x.contactId}/tasks/${x.id}`,{subtasks:J}):await Z.put(`/api/tasks/${x.id}`,{subtasks:J}),await te()}catch{alert("Chyba pri aktualizcii podlohy")}},gt=x=>{if(!x||x.length===0)return{total:0,completed:0};let Q=0,J=0;return x.forEach(I=>{if(Q++,I.completed&&J++,I.subtasks&&I.subtasks.length>0){const Ne=gt(I.subtasks);Q+=Ne.total,J+=Ne.completed}}),{total:Q,completed:J}},fr=x=>{pe(Q=>({...Q,[x]:!Q[x]}))},en=(x,Q,J=0)=>!Q||Q.length===0?null:Q.map(I=>{const Ne=I.subtasks&&I.subtasks.length>0,Pe=Y[I.id],zt=Ne?gt(I.subtasks):{total:0,completed:0};return i.jsxs("div",{className:"subtask-tree-item",style:{marginLeft:J*16},children:[i.jsxs("div",{className:`dashboard-subtask-item ${I.completed?"completed":""}`,children:[i.jsx("div",{className:"subtask-checkbox",onClick:we=>{we.stopPropagation(),Rt(x,I)},style:{backgroundColor:I.completed?"var(--accent-color)":"transparent"},children:I.completed&&""}),Ne&&i.jsx("button",{className:"subtask-expand-btn",onClick:we=>{we.stopPropagation(),fr(I.id)},children:Pe?"":""}),L===I.id?i.jsxs("div",{className:"subtask-edit-inline",onClick:we=>we.stopPropagation(),children:[i.jsx("input",{type:"text",value:B.title,onChange:we=>K({...B,title:we.target.value}),className:"form-input",placeholder:"Nzov podlohy",autoFocus:!0}),i.jsxs("div",{className:"subtask-edit-row",children:[i.jsx("input",{type:"date",value:B.dueDate,onChange:we=>K({...B,dueDate:we.target.value}),className:"form-input"}),i.jsx("input",{type:"text",value:B.notes,onChange:we=>K({...B,notes:we.target.value}),className:"form-input",placeholder:"Poznmky"})]}),i.jsxs("div",{className:"subtask-edit-actions",children:[i.jsx("button",{onClick:()=>mn(x,I),className:"btn btn-primary btn-sm",children:"Uloi"}),i.jsx("button",{onClick:Rn,className:"btn btn-secondary btn-sm",children:"Zrui"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"subtask-content",children:[i.jsx("div",{className:"subtask-title",children:I.title}),(I.dueDate||I.notes)&&i.jsxs("div",{className:"subtask-meta",children:[I.dueDate&&i.jsxs("span",{className:`subtask-date ${q(I.dueDate,I.completed)}`,children:[" ",new Date(I.dueDate).toLocaleDateString("sk-SK")]}),I.notes&&i.jsx("span",{className:"subtask-notes",children:I.notes})]})]}),Ne&&i.jsxs("span",{className:"subtask-child-count",children:["(",zt.completed,"/",zt.total,")"]}),i.jsx("button",{onClick:we=>{we.stopPropagation(),_n(I)},className:"btn-icon-sm",title:"Upravi",children:""})]})]}),Pe&&Ne&&i.jsx("div",{className:"subtask-children",children:en(x,I.subtasks,J+1)})]},I.id)}),St=Pn();return i.jsxs("div",{className:"crm-container",children:[i.jsxs("header",{className:"crm-header",children:[i.jsxs("div",{className:"crm-header-left",children:[i.jsxs("button",{className:"btn-menu",onClick:()=>g(!f),"aria-label":"Menu",children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]}),i.jsx("h1",{className:"header-title-link active",onClick:Yt,children:"Purple CRM"})]}),i.jsxs("div",{className:"crm-header-right",children:[i.jsx(bo,{}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>r("/crm"),children:"Kontakty"}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>r("/tasks"),children:"Ulohy"}),i.jsx(Co,{user:e,onLogout:t,onUserUpdate:n})]})]}),i.jsxs("div",{className:"crm-content",children:[i.jsx("div",{className:`sidebar-overlay ${f?"visible":""}`,onClick:()=>g(!1)}),i.jsxs("aside",{className:`crm-sidebar ${f?"open":""}`,children:[i.jsxs("div",{className:"dashboard-stats",children:[i.jsx("h3",{children:"Prehlad"}),i.jsxs("div",{className:`stat-item clickable ${y==="contacts"?"active":""}`,onClick:()=>j("contacts"),children:[i.jsx("span",{className:"stat-label",children:"Celkom kontaktov"}),i.jsx("span",{className:"stat-value",children:s.length})]}),i.jsxs("div",{className:`stat-item clickable ${y==="active"?"active":""}`,onClick:()=>j("active"),children:[i.jsx("span",{className:"stat-label",children:"Aktivnych"}),i.jsx("span",{className:"stat-value",children:me})]}),i.jsxs("div",{className:`stat-item clickable ${y==="tasks"?"active":""}`,onClick:()=>j("tasks"),children:[i.jsx("span",{className:"stat-label",children:"Globalnych uloh"}),i.jsx("span",{className:"stat-value",children:o.length})]}),i.jsxs("div",{className:`stat-item clickable ${y==="pending"?"active":""}`,onClick:()=>j("pending"),children:[i.jsx("span",{className:"stat-label",children:"Nesplnenych"}),i.jsx("span",{className:"stat-value",children:Me})]}),i.jsxs("div",{className:`stat-item clickable ${y==="completed"?"active":""}`,onClick:()=>j("completed"),children:[i.jsx("span",{className:"stat-label",children:"Splnenych"}),i.jsx("span",{className:"stat-value",children:lt})]}),i.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",color:"var(--text-secondary)"},children:"Podla priority"}),i.jsxs("div",{className:`stat-item clickable priority-stat ${y==="priority-high"?"active":""}`,onClick:()=>j("priority-high"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#EF4444"}}),"Vysoka priorita"]}),i.jsx("span",{className:"stat-value",children:Jt})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${y==="priority-medium"?"active":""}`,onClick:()=>j("priority-medium"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#F59E0B"}}),"Stredna priorita"]}),i.jsx("span",{className:"stat-value",children:Tn})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${y==="priority-low"?"active":""}`,onClick:()=>j("priority-low"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#10B981"}}),"Nizka priorita"]}),i.jsx("span",{className:"stat-value",children:Bt})]}),i.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",color:"var(--text-secondary)"},children:"Podla stavu kontaktu"}),i.jsxs("div",{className:`stat-item clickable priority-stat ${y==="new"?"active":""}`,onClick:()=>j("new"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#3B82F6"}}),"Novy"]}),i.jsx("span",{className:"stat-value",children:se})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${y==="active"?"active":""}`,onClick:()=>j("active"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#10B981"}}),"Aktivny"]}),i.jsx("span",{className:"stat-value",children:me})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${y==="completed-contacts"?"active":""}`,onClick:()=>j("completed-contacts"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#6366F1"}}),"Dokonceny"]}),i.jsx("span",{className:"stat-value",children:be})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${y==="cancelled"?"active":""}`,onClick:()=>j("cancelled"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#EF4444"}}),"Zruseny"]}),i.jsx("span",{className:"stat-value",children:et})]})]}),i.jsxs("div",{className:"quick-actions",children:[i.jsx("h3",{children:"Rychle akcie"}),i.jsx("button",{className:"btn btn-primary",onClick:()=>r("/crm"),style:{width:"100%",marginBottom:"8px"},children:"+ Novy kontakt"}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>r("/tasks"),style:{width:"100%"},children:"+ Nova uloha"})]})]}),i.jsx("main",{className:"crm-main",children:c?i.jsx("div",{className:"loading",children:"Nacitavam..."}):y&&St?i.jsxs("div",{className:"dashboard-detail-view",children:[i.jsxs("div",{className:"detail-header",children:[i.jsx("button",{className:"btn-back",onClick:Yt,children:" Spat"}),i.jsxs("h2",{children:[St.title," (",St.items.length,")"]})]}),St.items.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-state-icon",children:""}),i.jsx("h3",{children:"Ziadne polozky"})]}):St.type==="contacts"?i.jsx("div",{className:"detail-list",children:St.items.map(x=>{const Q=X(x),J=Q.filter(I=>I.completed).length;return i.jsxs("div",{className:"detail-item contact-detail-item",onClick:()=>$t(x),children:[i.jsx("div",{className:"contact-avatar",style:{backgroundColor:Ye(x.status)},children:x.name?x.name.charAt(0).toUpperCase():"?"}),i.jsxs("div",{className:"detail-item-content",children:[i.jsx("div",{className:"detail-item-title",children:x.name||"Bez mena"}),i.jsxs("div",{className:"detail-item-meta",children:[i.jsx("span",{className:"status-badge",style:{backgroundColor:Ye(x.status)},children:ce(x.status)}),x.company&&i.jsx("span",{className:"meta-text",children:x.company}),x.email&&i.jsx("span",{className:"meta-text",children:x.email})]})]}),Q.length>0&&i.jsxs("div",{className:"detail-item-badge",children:[J,"/",Q.length," uloh"]}),i.jsx("div",{className:"detail-item-arrow",children:""})]},x.id)})}):i.jsx("div",{className:"detail-list",children:St.items.map(x=>{var Q,J;return i.jsx("div",{className:`detail-item task-detail-item ${x.completed?"completed":""} ${p===x.id?"expanded":""}`,onClick:()=>E!==x.id&&k(p===x.id?null:x.id),style:{cursor:E===x.id?"default":"pointer"},children:E===x.id?i.jsxs("div",{className:"task-edit-inline",onClick:I=>I.stopPropagation(),children:[i.jsx("input",{type:"text",value:A.title,onChange:I=>b({...A,title:I.target.value}),className:"form-input",placeholder:"Nzov lohy",autoFocus:!0}),i.jsx("textarea",{value:A.description,onChange:I=>b({...A,description:I.target.value}),className:"form-input",placeholder:"Popis",rows:2}),i.jsxs("div",{className:"task-edit-row",children:[i.jsx("input",{type:"date",value:A.dueDate,onChange:I=>b({...A,dueDate:I.target.value}),className:"form-input"}),i.jsxs("select",{value:A.priority,onChange:I=>b({...A,priority:I.target.value}),className:"form-input",children:[i.jsx("option",{value:"low",children:"Nzka"}),i.jsx("option",{value:"medium",children:"Stredn"}),i.jsx("option",{value:"high",children:"Vysok"})]})]}),i.jsxs("div",{className:"task-edit-actions",children:[i.jsx("button",{onClick:()=>pn(x),className:"btn btn-primary btn-sm",children:"Uloi"}),i.jsx("button",{onClick:hn,className:"btn btn-secondary btn-sm",children:"Zrui"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"task-checkbox",onClick:I=>{I.stopPropagation(),mt(x)},style:{borderColor:Ae(x.priority),backgroundColor:x.completed?Ae(x.priority):"transparent"},children:x.completed&&""}),i.jsxs("div",{className:"detail-item-content",children:[i.jsx("div",{className:"detail-item-title",children:x.title}),i.jsxs("div",{className:"detail-item-meta",children:[i.jsx("span",{className:"priority-badge",style:{backgroundColor:Ae(x.priority)},children:$(x.priority)}),le(x).length>0&&i.jsxs("span",{className:"contact-badge",children:[" ",le(x).join(", ")]}),x.dueDate&&i.jsxs("span",{className:`date-badge ${q(x.dueDate,x.completed)}`,children:[" ",new Date(x.dueDate).toLocaleDateString("sk-SK")]})]}),x.description&&p===x.id&&i.jsx("div",{className:"detail-item-description",children:x.description})]}),i.jsx("div",{className:"task-item-actions",children:i.jsx("button",{onClick:I=>{I.stopPropagation(),fn(x)},className:"btn-icon",title:"Upravi",children:""})}),((Q=x.subtasks)==null?void 0:Q.length)>0&&p!==x.id&&i.jsxs("div",{className:"detail-item-badge",children:[gt(x.subtasks).completed,"/",gt(x.subtasks).total]}),p===x.id&&((J=x.subtasks)==null?void 0:J.length)>0&&i.jsxs("div",{className:"dashboard-subtasks-container",children:[i.jsxs("div",{className:"subtasks-header",children:["Podlohy (",gt(x.subtasks).completed,"/",gt(x.subtasks).total,")"]}),i.jsx("div",{className:"subtask-tree",children:en(x,x.subtasks,0)})]})]})},x.id)})})]}):i.jsxs("div",{className:"dashboard-page",children:[i.jsxs("div",{className:"dashboard-header",children:[i.jsxs("h2",{children:["Vitajte, ",(e==null?void 0:e.username)||"Pouzivatel"]}),i.jsx("p",{className:"dashboard-subtitle",children:"Prehlad vasich kontaktov a uloh"})]}),i.jsxs("div",{className:"dashboard-grid",children:[i.jsxs("div",{className:"dashboard-section",onClick:()=>j("contacts"),children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("h3",{children:["Kontakty (",s.length,")"]}),i.jsx("button",{className:"btn btn-secondary btn-sm",onClick:x=>{x.stopPropagation(),r("/crm")},children:"Zobrazit vsetky"})]}),s.length===0?i.jsx("div",{className:"empty-state-small",children:i.jsx("p",{children:"Ziadne kontakty"})}):i.jsxs("div",{className:"dashboard-contacts-list",children:[s.slice(0,5).map(x=>{const Q=X(x),J=Q.filter(I=>I.completed).length;return i.jsxs("div",{className:"dashboard-contact-item",onClick:I=>{I.stopPropagation(),$t(x)},children:[i.jsx("div",{className:"contact-avatar-sm",style:{backgroundColor:Ye(x.status)},children:x.name?x.name.charAt(0).toUpperCase():"?"}),i.jsxs("div",{className:"dashboard-contact-info",children:[i.jsx("div",{className:"dashboard-contact-name",children:x.name||"Bez mena"}),i.jsxs("div",{className:"dashboard-contact-meta",children:[i.jsx("span",{className:"status-badge-sm",style:{backgroundColor:Ye(x.status)},children:ce(x.status)}),x.company&&i.jsx("span",{className:"company-text",children:x.company})]})]}),Q.length>0&&i.jsx("div",{className:"dashboard-contact-tasks",children:i.jsxs("span",{className:"task-progress",children:[J,"/",Q.length]})})]},x.id)}),s.length>5&&i.jsxs("div",{className:"show-more",children:["+ ",s.length-5," dalsich kontaktov"]})]})]}),i.jsxs("div",{className:"dashboard-section",onClick:()=>j("pending"),children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("h3",{children:["Ulohy (",o.length,")"]}),i.jsx("button",{className:"btn btn-secondary btn-sm",onClick:x=>{x.stopPropagation(),r("/tasks")},children:"Zobrazit vsetky"})]}),o.length===0?i.jsx("div",{className:"empty-state-small",children:i.jsx("p",{children:"Ziadne ulohy"})}):i.jsxs("div",{className:"dashboard-tasks-list",children:[o.filter(x=>!x.completed).slice(0,5).map(x=>{var Q;return i.jsxs("div",{className:"dashboard-task-item clickable-task",onClick:J=>{J.stopPropagation(),r("/tasks",{state:{highlightTaskId:x.id}})},children:[i.jsx("div",{className:"task-priority-indicator",style:{backgroundColor:Ae(x.priority)}}),i.jsxs("div",{className:"dashboard-task-info",children:[i.jsx("div",{className:"dashboard-task-title",children:x.title}),i.jsxs("div",{className:"dashboard-task-meta",children:[i.jsx("span",{className:"priority-badge-sm",style:{backgroundColor:Ae(x.priority)},children:$(x.priority)}),le(x).length>0&&i.jsx("span",{className:"contact-link-badge",children:le(x).join(", ")}),x.dueDate&&i.jsx("span",{className:`due-date-badge ${q(x.dueDate,x.completed)}`,children:new Date(x.dueDate).toLocaleDateString("sk-SK")})]})]}),((Q=x.subtasks)==null?void 0:Q.length)>0&&i.jsxs("div",{className:"subtask-indicator",children:[x.subtasks.filter(J=>J.completed).length,"/",x.subtasks.length]})]},x.id)}),o.filter(x=>!x.completed).length>5&&i.jsxs("div",{className:"show-more",children:["+ ",o.filter(x=>!x.completed).length-5," dalsich uloh"]}),lt>0&&i.jsxs("div",{className:"completed-summary",onClick:x=>{x.stopPropagation(),j("completed")},children:[lt," splnenych uloh"]})]})]})]}),i.jsxs("div",{className:"dashboard-section full-width",children:[i.jsx("div",{className:"section-header",children:i.jsx("h3",{children:"Kontakty s ulohami"})}),i.jsxs("div",{className:"contacts-with-tasks",children:[s.filter(x=>X(x).length>0).slice(0,5).map(x=>{const Q=X(x);return i.jsxs("div",{className:"contact-tasks-card",onClick:()=>$t(x),children:[i.jsxs("div",{className:"contact-tasks-header",children:[i.jsx("div",{className:"contact-avatar-sm",style:{backgroundColor:Ye(x.status)},children:x.name?x.name.charAt(0).toUpperCase():"?"}),i.jsx("div",{className:"contact-tasks-name",children:x.name||"Bez mena"}),i.jsxs("span",{className:"tasks-badge",children:[Q.filter(J=>J.completed).length,"/",Q.length," uloh"]})]}),i.jsxs("div",{className:"contact-tasks-list",children:[Q.slice(0,3).map(J=>i.jsxs("div",{className:`mini-task ${J.completed?"completed":""}`,children:[i.jsx("span",{className:"mini-task-check",children:J.completed?"":""}),i.jsx("span",{className:"mini-task-title",children:J.title}),J.source==="global"&&i.jsx("span",{className:"mini-task-source",children:"z Uloh"})]},`${J.source}-${J.id}`)),Q.length>3&&i.jsxs("div",{className:"mini-task more",children:["+ ",Q.length-3," dalsich"]})]})]},x.id)}),s.filter(x=>X(x).length>0).length===0&&i.jsx("div",{className:"empty-state-small",children:i.jsx("p",{children:"Ziadne kontakty s ulohami"})})]})]})]})})]}),i.jsx(Tu,{section:"dashboard",title:"Vitajte na Dashboard",tips:r0})]})}const i0=[{icon:"",title:"Vytvorenie kontaktu",description:'Kliknite na tlaidlo "+ Nov kontakt" v pravom hornom rohu pre pridanie novho kontaktu do systmu.'},{icon:"",title:"Detail kontaktu",description:"Kliknutm na kontakt v zozname rozbalte jeho detail s lohami, poznmkami a sbormi."},{icon:"",title:"prava kontaktu",description:"V rozbalenom detaile kliknite na ikonu ceruzky pre pravu dajov kontaktu."},{icon:"",title:"Sbory a prlohy",description:'Ku kadmu kontaktu mete nahra sbory (dokumenty, obrzky). Kliknite na "Sbory" v detaile kontaktu.'},{icon:"",title:"Vyhadvanie",description:"Pouite vyhadvacie pole na rchle njdenie kontaktu poda mena, emailu alebo firmy."},{icon:"",title:"Filtrovanie poda stavu",description:"V avom paneli mete filtrova kontakty poda stavu: Vetky, Nov, Aktvne, Dokonen."}];function a0(){var pr,mr,Hr,As,gr;const{user:e,logout:t,updateUser:n}=dr(),r=ur(),s=bs(),[a,o]=v.useState([]),[l,c]=v.useState([]),[u,f]=v.useState(!0),[g,m]=v.useState("all"),[w,y]=v.useState(""),[j,S]=v.useState(!1),[h,p]=v.useState(!1),[k,E]=v.useState(null),{socket:z,isConnected:A}=So(),[b,L]=v.useState({name:"",email:"",phone:"",company:"",website:"",notes:"",status:"new"}),[V,B]=v.useState(null),[K,Y]=v.useState({}),[pe,te]=v.useState({}),[Ye,ce]=v.useState({}),[Ae,$]=v.useState(null),[q,X]=v.useState(""),[le,me]=v.useState(""),[se,be]=v.useState(""),[et,Me]=v.useState({}),[lt,Bt]=v.useState({}),[Tn,Jt]=v.useState({}),[Pn,Yt]=v.useState({}),[$t,fn]=v.useState(null),[hn,pn]=v.useState(""),[mt,_n]=v.useState(""),[Rn,mn]=v.useState(""),[Rt,gt]=v.useState({}),[fr,en]=v.useState({}),[St,x]=v.useState(null),[Q,J]=v.useState(null),[I,Ne]=v.useState(null),[Pe,zt]=v.useState(null),[we,gn]=v.useState(null),[zn,tn]=v.useState(!1),[On,O]=v.useState(null),[D,M]=v.useState(null),[ee,ae]=v.useState(!1),[re,Le]=v.useState(null),[ct,tt]=v.useState([]),[Mt,hr]=v.useState(null),An=v.useRef(null),Ln=v.useCallback(async()=>{try{const N=await Z.get("/api/contacts");o(N.data)}catch(N){console.error("Failed to fetch contacts:",N)}finally{f(!1)}},[]),Br=v.useCallback(async()=>{try{const F=(await Z.get("/api/tasks")).data.filter(de=>de.source==="global");c(F)}catch(N){console.error("Failed to fetch global tasks:",N)}},[]);v.useEffect(()=>{Ln(),Br()},[Ln,Br]);const nn=v.useRef(null),Dn=v.useCallback(N=>{console.log("[CRM] processContactHighlight called:",N,"contacts loaded:",a.length),a.length>0?(E(N),hr(N),setTimeout(()=>{const F=document.querySelector(`[data-contact-id="${N}"]`);F&&F.scrollIntoView({behavior:"smooth",block:"start"})},100),setTimeout(()=>{hr(null)},3e3)):An.current={contactId:N}},[a.length]);v.useEffect(()=>{const N=async F=>{console.log("[CRM] Received crm-highlight event:",F.detail);const{contactId:de,timestamp:ge}=F.detail;ge&&ge.toString()!==nn.current&&(nn.current=ge.toString(),console.log("[CRM] Refreshing contacts before highlight..."),await Ln(),setTimeout(()=>{Dn(de)},100))};return window.addEventListener("crm-highlight",N),()=>window.removeEventListener("crm-highlight",N)},[Dn,Ln]),v.useEffect(()=>{var ge,ze;const N=new URLSearchParams(s.search),F=N.get("expandContact"),de=N.get("_t");if(F&&de&&de!==nn.current){nn.current=de,r(s.pathname,{replace:!0,state:{}}),Dn(F);return}if((ge=s.state)!=null&&ge.expandContactId){const fe=(ze=s.state.navTimestamp)==null?void 0:ze.toString();fe&&fe!==nn.current&&(nn.current=fe,r(s.pathname,{replace:!0,state:{}}),Dn(s.state.expandContactId))}},[s.search,s.state,r,s.pathname,a.length]),v.useEffect(()=>{if(An.current&&a.length>0){const{contactId:N}=An.current;An.current=null,E(N),hr(N),setTimeout(()=>{const F=document.querySelector(`[data-contact-id="${N}"]`);F&&F.scrollIntoView({behavior:"smooth",block:"start"})},100),setTimeout(()=>{hr(null)},3e3)}},[a]);const In=N=>(N.tasks||[]).map(F=>({id:F.id,title:F.title,description:F.description,completed:F.completed,priority:F.priority,dueDate:F.dueDate,subtasks:F.subtasks||[],notes:F.notes,source:"contact",contactId:N.id}));v.useEffect(()=>{if(!z||!A)return;const N=ye=>{o(Se=>[...Se,ye])},F=ye=>{o(Se=>Se.map(ut=>ut.id===ye.id?ye:ut))},de=({id:ye})=>{o(Se=>Se.filter(ut=>ut.id!==ye)),k===ye&&E(null)},ge=ye=>{ye.source==="global"&&c(Se=>Se.map(ut=>ut.id===ye.id?ye:ut))},ze=ye=>{(ye.source==="global"||!ye.source)&&c(Se=>[...Se,{...ye,source:"global"}])},fe=({id:ye,source:Se})=>{Se==="global"&&c(ut=>ut.filter(Bn=>Bn.id!==ye))};return z.on("contact-created",N),z.on("contact-updated",F),z.on("contact-deleted",de),z.on("task-updated",ge),z.on("task-created",ze),z.on("task-deleted",fe),()=>{z.off("contact-created",N),z.off("contact-updated",F),z.off("contact-deleted",de),z.off("task-updated",ge),z.off("task-created",ze),z.off("task-deleted",fe)}},[z,A,k]);const Eo=async N=>{var F,de;if(N.preventDefault(),!!b.name.trim())try{await Z.post("/api/contacts",b),L({name:"",email:"",phone:"",company:"",website:"",notes:"",status:"new"}),p(!1)}catch(ge){alert(((de=(F=ge.response)==null?void 0:F.data)==null?void 0:de.message)||"Chyba pri vytvran kontaktu")}},Ii=async N=>{if(window.confirm("Vymaza tento kontakt?"))try{await Z.delete(`/api/contacts/${N.id}`)}catch(F){console.error("Failed to delete contact:",F)}},Fn=async(N,F)=>{if(!F)return;J(N);const de=localStorage.getItem("token"),ge=`${Z.defaults.baseURL}/api/contacts/${N}/files`;return new Promise(ze=>{const fe=new XMLHttpRequest;fe.addEventListener("load",async()=>{if(fe.status>=200&&fe.status<300)try{const Se=await Z.get("/api/contacts");o(Se.data)}catch{}else alert("Chyba pri nahrvan: "+(fe.responseText||fe.status));J(null),ze()}),fe.addEventListener("error",()=>{const Se=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);alert(Se?"Safari m problmy s nahrvanm sborov. Pouite prosm Chrome alebo Firefox.":"Chyba siete pri nahrvan sboru"),J(null),ze()}),fe.addEventListener("abort",()=>{J(null),ze()}),fe.addEventListener("timeout",()=>{alert("asov limit vypral"),J(null),ze()}),fe.open("POST",ge),fe.setRequestHeader("Authorization",`Bearer ${de}`),fe.timeout=6e4;const ye=new FormData;ye.append("file",F),fe.send(ye)})},$r=async(N,F)=>{var de,ge;if(window.confirm("Vymaza tento sbor?"))try{await Z.delete(`/api/contacts/${N}/files/${F}`)}catch(ze){alert(((ge=(de=ze.response)==null?void 0:de.data)==null?void 0:ge.message)||"Chyba pri mazan sboru")}},vn=(N,F,de)=>{const ge=localStorage.getItem("token"),ze=`${Z.defaults.baseURL}/api/contacts/${N}/files/${F}/download`;fetch(ze,{headers:{Authorization:`Bearer ${ge}`}}).then(fe=>fe.blob()).then(fe=>{const ye=document.createElement("a");ye.href=window.URL.createObjectURL(fe),ye.download=de,ye.click()}).catch(fe=>alert("Chyba pri sahovan sboru"))},Fi=N=>N<1024?N+" B":N<1024*1024?(N/1024).toFixed(1)+" KB":(N/(1024*1024)).toFixed(1)+" MB",_s=N=>N!=null&&N.startsWith("image/")?"":N==="application/pdf"?"":N!=null&&N.includes("word")?"":N!=null&&N.includes("excel")||N!=null&&N.includes("spreadsheet")?"":"",Un=()=>!0,To=N=>["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"].includes(N),Mr=(N,F)=>N!=null&&N.startsWith("text/")?!0:[".json",".xml",".csv",".md",".js",".ts",".css",".html",".jsx",".tsx",".py",".java",".c",".cpp",".h",".sql",".sh",".yml",".yaml"].some(ge=>F==null?void 0:F.toLowerCase().endsWith(ge)),Rs=async(N,F)=>{var ze;Ne(N),zt(F),tn(!0),O(null),gn(null),M(null);const de=localStorage.getItem("token"),ge=`${Z.defaults.baseURL}/api/contacts/${F}/files/${N.id}/download`;try{const fe=await fetch(ge,{headers:{Authorization:`Bearer ${de}`}});if(!fe.ok)throw new Error(`HTTP error! status: ${fe.status}`);const ye=await fe.blob();if(!ye||ye.size===0){M("Przdna odpove zo servera");return}const Se=[".json",".xml",".csv",".md",".js",".ts",".css",".html",".jsx",".tsx",".py",".java",".c",".cpp",".h",".sql",".sh",".yml",".yaml",".txt"];if(((ze=N.mimetype)==null?void 0:ze.startsWith("text/"))||Se.some(Kr=>{var $n;return($n=N.originalName)==null?void 0:$n.toLowerCase().endsWith(Kr)})){const Kr=await ye.text();O(Kr)}const Bn=URL.createObjectURL(ye);gn(Bn)}catch(fe){console.error("Error loading preview:",fe),M("Nepodarilo sa nata sbor: "+(fe.message||"Neznma chyba"))}finally{tn(!1)}},Ui=()=>{we&&URL.revokeObjectURL(we),Ne(null),zt(null),gn(null),O(null),M(null)},Vr=()=>{ae(!1),Le(null),tt([])},Bi=async()=>{var N,F,de;if(re)try{await Z.post(`/api/tasks/${re.id}/duplicate`,{contactIds:ct,source:re.source}),Vr(),Br(),Ln()}catch(ge){console.error("Duplicate error:",ge),console.error("Error response:",(N=ge.response)==null?void 0:N.data),alert(((de=(F=ge.response)==null?void 0:F.data)==null?void 0:de.message)||"Chyba pri duplikovan lohy")}},Po=N=>{B(N.id),Y({name:N.name,email:N.email||"",phone:N.phone||"",company:N.company||"",website:N.website||"",notes:N.notes||"",status:N.status||"new"})},_o=async N=>{var F,de;try{await Z.put(`/api/contacts/${N}`,K),B(null)}catch(ge){alert(((de=(F=ge.response)==null?void 0:F.data)==null?void 0:de.message)||"Chyba pri ukladan kontaktu")}},zs=N=>{switch(N){case"new":return"#3B82F6";case"active":return"#10B981";case"completed":return"#6366F1";case"cancelled":return"#EF4444";default:return"#9CA3AF"}},Ro=N=>{switch(N){case"new":return"Nov";case"active":return"Aktvny";case"completed":return"Dokonen";case"cancelled":return"Zruen";default:return N}},Os=v.useMemo(()=>a.filter(N=>{var F,de,ge,ze,fe,ye;if(g!=="all"&&N.status!==g)return!1;if(w.trim()){const Se=w.toLowerCase().trim(),ut=(F=N.name)==null?void 0:F.toLowerCase().includes(Se),Bn=(de=N.email)==null?void 0:de.toLowerCase().includes(Se),Kr=(ge=N.phone)==null?void 0:ge.toLowerCase().includes(Se),$n=(ze=N.company)==null?void 0:ze.toLowerCase().includes(Se),zo=(fe=N.notes)==null?void 0:fe.toLowerCase().includes(Se),Oo=(ye=N.tasks)==null?void 0:ye.some(Ao=>{var $i;return($i=Ao.title)==null?void 0:$i.toLowerCase().includes(Se)});return ut||Bn||Kr||$n||zo||Oo}return!0}),[a,g,w]),Wr=v.useMemo(()=>({all:a.length,new:a.filter(N=>N.status==="new").length,active:a.filter(N=>N.status==="active").length,completed:a.filter(N=>N.status==="completed").length,cancelled:a.filter(N=>N.status==="cancelled").length}),[a]);return i.jsxs("div",{className:"crm-container",children:[i.jsxs("header",{className:"crm-header",children:[i.jsxs("div",{className:"crm-header-left",children:[i.jsxs("button",{className:"btn-menu",onClick:()=>S(!j),"aria-label":"Menu",children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]}),i.jsx("h1",{className:"header-title-link",onClick:()=>r("/"),children:"Purple CRM"})]}),i.jsxs("div",{className:"crm-header-right",children:[i.jsx(bo,{}),i.jsx("button",{className:"btn btn-secondary btn-nav-tasks",onClick:()=>r("/tasks"),children:"lohy"}),i.jsx(Co,{user:e,onLogout:t,onUserUpdate:n})]})]}),i.jsxs("div",{className:"crm-content",children:[i.jsx("div",{className:`sidebar-overlay ${j?"visible":""}`,onClick:()=>S(!1)}),i.jsxs("aside",{className:`crm-sidebar ${j?"open":""}`,children:[i.jsx("button",{className:"btn btn-primary add-contact-btn",onClick:()=>{p(!0),S(!1)},children:"+ Nov kontakt"}),i.jsxs("div",{className:"dashboard-stats",children:[i.jsx("h3",{children:"Prehad"}),i.jsxs("div",{className:`stat-item clickable ${g==="all"?"active":""}`,onClick:()=>m("all"),children:[i.jsx("span",{className:"stat-label",children:"Celkom kontaktov"}),i.jsx("span",{className:"stat-value",children:a.length})]}),i.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",color:"var(--text-secondary)"},children:"Poda stavu"}),i.jsxs("div",{className:`stat-item clickable priority-stat ${g==="new"?"active":""}`,onClick:()=>m("new"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#3B82F6"}}),"Nov"]}),i.jsx("span",{className:"stat-value",children:Wr.new})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${g==="active"?"active":""}`,onClick:()=>m("active"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#10B981"}}),"Aktvny"]}),i.jsx("span",{className:"stat-value",children:Wr.active})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${g==="completed"?"active":""}`,onClick:()=>m("completed"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#6366F1"}}),"Dokonen"]}),i.jsx("span",{className:"stat-value",children:Wr.completed})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${g==="cancelled"?"active":""}`,onClick:()=>m("cancelled"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#EF4444"}}),"Zruen"]}),i.jsx("span",{className:"stat-value",children:Wr.cancelled})]})]})]}),i.jsx("main",{className:"crm-main",children:h?i.jsxs("div",{className:"contact-form-container",children:[i.jsx("h2",{children:"Nov kontakt"}),i.jsxs("form",{onSubmit:Eo,className:"contact-form",children:[i.jsxs("div",{className:"contact-form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Meno *"}),i.jsx("input",{type:"text",value:b.name,onChange:N=>L({...b,name:N.target.value}),placeholder:"Meno kontaktu",className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Email"}),i.jsx("input",{type:"email",value:b.email,onChange:N=>L({...b,email:N.target.value}),placeholder:"email@example.com",className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Telefn"}),i.jsx("input",{type:"tel",value:b.phone,onChange:N=>L({...b,phone:N.target.value}),placeholder:"+421 XXX XXX XXX",className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Firma"}),i.jsx("input",{type:"text",value:b.company,onChange:N=>L({...b,company:N.target.value}),placeholder:"Nzov firmy",className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Webstrnka"}),i.jsx("input",{type:"text",value:b.website,onChange:N=>L({...b,website:N.target.value}),placeholder:"www.example.sk",className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Stav"}),i.jsxs("select",{value:b.status,onChange:N=>L({...b,status:N.target.value}),className:"form-input",children:[i.jsx("option",{value:"new",children:"Nov"}),i.jsx("option",{value:"active",children:"Aktvny"}),i.jsx("option",{value:"completed",children:"Dokonen"}),i.jsx("option",{value:"cancelled",children:"Zruen"})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Poznmky"}),i.jsx("textarea",{value:b.notes,onChange:N=>L({...b,notes:N.target.value}),placeholder:"Poznmky ku kontaktu...",className:"form-input",rows:3})]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>p(!1),children:"Zrui"}),i.jsx("button",{type:"submit",className:"btn btn-primary",children:"Vytvori kontakt"})]})]})]}):i.jsxs("div",{className:"contacts-page",children:[i.jsxs("div",{className:"contacts-header",children:[i.jsxs("h2",{children:["Zoznam kontaktov (",Os.length,")"]}),i.jsxs("div",{className:"search-box",children:[i.jsx("input",{type:"text",placeholder:"Hada kontakt...",value:w,onChange:N=>y(N.target.value),className:"search-input"}),w&&i.jsx("button",{className:"search-clear",onClick:()=>y(""),title:"Vymaza",children:""})]})]}),u?i.jsx("div",{className:"loading",children:"Natavam..."}):Os.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-state-icon",children:""}),i.jsx("h2",{children:"iadne kontakty"}),i.jsx("p",{children:"Vytvorte nov kontakt kliknutm na tlaidlo vyie"})]}):i.jsx("div",{className:"contacts-list",children:Os.map(N=>i.jsxs("div",{"data-contact-id":N.id,className:`contact-card ${k===N.id?"expanded":""} ${Mt===N.id?"highlighted":""}`,children:[i.jsxs("div",{className:"contact-main",children:[i.jsx("div",{className:"contact-avatar",style:{backgroundColor:zs(N.status)},children:N.name.charAt(0).toUpperCase()}),V===N.id?i.jsxs("div",{className:"contact-edit-form",children:[i.jsx("input",{type:"text",value:K.name,onChange:F=>Y({...K,name:F.target.value}),className:"form-input",placeholder:"Meno"}),i.jsxs("div",{className:"contact-edit-row",children:[i.jsx("input",{type:"email",value:K.email,onChange:F=>Y({...K,email:F.target.value}),className:"form-input",placeholder:"Email"}),i.jsx("input",{type:"tel",value:K.phone,onChange:F=>Y({...K,phone:F.target.value}),className:"form-input",placeholder:"Telefn"})]}),i.jsxs("div",{className:"contact-edit-row",children:[i.jsx("input",{type:"text",value:K.company,onChange:F=>Y({...K,company:F.target.value}),className:"form-input",placeholder:"Firma"}),i.jsxs("select",{value:K.status,onChange:F=>Y({...K,status:F.target.value}),className:"form-input",children:[i.jsx("option",{value:"new",children:"Nov"}),i.jsx("option",{value:"active",children:"Aktvny"}),i.jsx("option",{value:"completed",children:"Dokonen"}),i.jsx("option",{value:"cancelled",children:"Zruen"})]})]}),i.jsx("input",{type:"text",value:K.website,onChange:F=>Y({...K,website:F.target.value}),className:"form-input",placeholder:"www.example.sk"}),i.jsx("textarea",{value:K.notes,onChange:F=>Y({...K,notes:F.target.value}),className:"form-input",placeholder:"Poznmky",rows:2}),i.jsxs("div",{className:"contact-edit-actions",children:[i.jsx("button",{onClick:()=>_o(N.id),className:"btn btn-primary btn-sm",children:"Uloi"}),i.jsx("button",{onClick:()=>B(null),className:"btn btn-secondary btn-sm",children:"Zrui"})]})]}):i.jsxs("div",{className:"contact-content",onClick:()=>E(k===N.id?null:N.id),children:[i.jsx("div",{className:"contact-name",children:N.name}),i.jsxs("div",{className:"contact-meta",children:[i.jsx("span",{className:"status-badge",style:{backgroundColor:zs(N.status)},children:Ro(N.status)}),N.company&&i.jsxs("span",{className:"company-badge",children:[" ",N.company]}),N.email&&i.jsxs("span",{className:"email-badge",children:[" ",N.email]}),(()=>{const F=In(N);return F.length>0&&i.jsxs("span",{className:"tasks-count",children:[" ",F.filter(de=>de.completed).length,"/",F.length]})})()]})]}),V!==N.id&&i.jsxs("div",{className:"contact-actions",children:[i.jsx("button",{onClick:()=>Po(N),className:"btn-icon",title:"Upravi",children:""}),i.jsx("button",{onClick:()=>Ii(N),className:"btn-icon",title:"Vymaza",children:""})]})]}),k===N.id&&V!==N.id&&i.jsxs("div",{className:"contact-expanded",children:[i.jsxs("div",{className:"contact-details",children:[N.phone&&i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:" Telefn:"}),i.jsx("a",{href:`tel:${N.phone}`,className:"detail-value",children:N.phone})]}),N.email&&i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:" Email:"}),i.jsx("a",{href:`mailto:${N.email}`,className:"detail-value",children:N.email})]}),N.website&&i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:" Web:"}),i.jsx("a",{href:N.website.startsWith("http")?N.website:`https://${N.website}`,target:"_blank",rel:"noopener noreferrer",className:"detail-value website-link",children:N.website})]}),N.notes&&i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:" Poznmky:"}),i.jsx("span",{className:"detail-value",children:N.notes})]})]}),i.jsxs("div",{className:"contact-files",children:[i.jsxs("div",{className:"files-section-header",children:[i.jsx("span",{children:"Sbory"}),i.jsxs("label",{className:"btn btn-secondary btn-sm file-upload-btn",children:[Q===N.id?"Nahrvam...":"+ Prida sbor",i.jsx("input",{type:"file",hidden:!0,onChange:F=>{Fn(N.id,F.target.files[0]),F.target.value=""},disabled:Q===N.id})]})]}),N.files&&N.files.length>0?i.jsx("div",{className:"files-list",children:N.files.map(F=>i.jsxs("div",{className:"file-item",children:[i.jsx("span",{className:`file-icon ${Un(F.mimetype)?"clickable":""}`,onClick:()=>Un(F.mimetype)&&Rs(F,N.id),title:Un(F.mimetype)?"Zobrazi nhad":"",children:_s(F.mimetype)}),i.jsxs("div",{className:"file-info",children:[i.jsx("span",{className:`file-name ${Un(F.mimetype)?"clickable":""}`,onClick:()=>Un(F.mimetype)&&Rs(F,N.id),children:F.originalName}),i.jsx("span",{className:"file-size",children:Fi(F.size)})]}),i.jsxs("div",{className:"file-actions",children:[Un(F.mimetype)&&i.jsx("button",{onClick:()=>Rs(F,N.id),className:"btn-icon-sm",title:"Nhad",children:""}),i.jsx("button",{onClick:()=>vn(N.id,F.id,F.originalName),className:"btn-icon-sm",title:"Stiahnu",children:""}),i.jsx("button",{onClick:()=>$r(N.id,F.id),className:"btn-icon-sm btn-danger",title:"Vymaza",children:""})]})]},F.id))}):i.jsx("div",{className:"no-files",children:"iadne sbory"})]}),i.jsx("div",{className:"contact-tasks-link",children:i.jsxs("button",{className:"btn btn-primary contact-tasks-btn",onClick:()=>r(`/tasks?contactId=${N.id}`),children:[" Zobrazi lohy (",In(N).length,")"]})})]})]},N.id))})]})})]}),ee&&re&&i.jsx("div",{className:"modal-overlay",onClick:Vr,children:i.jsxs("div",{className:"modal-content",onClick:N=>N.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{children:"Duplikova lohu"}),i.jsx("button",{className:"modal-close",onClick:Vr,children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{className:"duplicate-info",children:["Duplikuje sa loha: ",i.jsx("strong",{children:re.title}),((pr=re.subtasks)==null?void 0:pr.length)>0&&i.jsxs("span",{className:"subtask-info",children:[" (vrtane ",re.subtasks.length," podloh)"]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Priradi ku kontaktom"}),i.jsxs("div",{className:"multi-select-contacts",children:[a.map(N=>i.jsxs("label",{className:"contact-checkbox",children:[i.jsx("input",{type:"checkbox",checked:ct.includes(N.id),onChange:F=>{const de=F.target.checked;tt(ge=>de?[...ge,N.id]:ge.filter(ze=>ze!==N.id))}}),i.jsxs("span",{children:[N.name," ",N.company?`(${N.company})`:""]})]},N.id)),a.length===0&&i.jsx("span",{className:"no-contacts",children:"iadne kontakty"})]})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:Vr,children:"Zrui"}),i.jsx("button",{className:"btn btn-primary",onClick:Bi,children:"Duplikova"})]})]})}),I&&Pe&&i.jsx("div",{className:"modal-overlay file-preview-overlay",onClick:Ui,children:i.jsxs("div",{className:"file-preview-modal",onClick:N=>N.stopPropagation(),children:[i.jsxs("div",{className:"file-preview-header",children:[i.jsx("h3",{children:I.originalName}),i.jsxs("div",{className:"file-preview-actions",children:[i.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>vn(Pe,I.id,I.originalName),children:" Stiahnu"}),i.jsx("button",{className:"btn-icon file-preview-close",onClick:Ui,children:""})]})]}),i.jsx("div",{className:"file-preview-content",children:zn?i.jsx("div",{className:"preview-loading",children:i.jsx("span",{children:"Natavam nhad..."})}):D?i.jsxs("div",{className:"preview-error",children:[i.jsx("span",{className:"preview-icon",children:""}),i.jsx("p",{children:D}),i.jsx("button",{className:"btn btn-primary",onClick:()=>vn(Pe,I.id,I.originalName),children:"Stiahnu sbor"})]}):(mr=I.mimetype)!=null&&mr.startsWith("image/")&&we?i.jsx("img",{src:we,alt:I.originalName,className:"preview-image"}):(I.mimetype==="application/pdf"||(Hr=I.originalName)!=null&&Hr.toLowerCase().endsWith(".pdf"))&&we?i.jsx("object",{data:we,type:"application/pdf",className:"preview-pdf",children:i.jsxs("div",{className:"preview-pdf-fallback",children:[i.jsx("span",{className:"preview-icon",children:""}),i.jsx("p",{children:"PDF nhad nie je dostupn v tomto prehliadai"}),i.jsx("button",{className:"btn btn-primary",onClick:()=>vn(Pe,I.id,I.originalName),children:"Stiahnu PDF"})]})}):(As=I.mimetype)!=null&&As.startsWith("video/")&&we?i.jsx("video",{src:we,controls:!0,className:"preview-video",children:"V prehliada nepodporuje prehrvanie videa."}):(gr=I.mimetype)!=null&&gr.startsWith("audio/")&&we?i.jsxs("div",{className:"preview-audio",children:[i.jsx("span",{className:"preview-icon",children:""}),i.jsx("audio",{src:we,controls:!0,className:"audio-player",children:"V prehliada nepodporuje prehrvanie audia."})]}):Mr(I.mimetype,I.originalName)&&On!==null?i.jsx("div",{className:"preview-text",children:i.jsx("pre",{children:On})}):To(I.mimetype)&&we?i.jsxs("div",{className:"preview-office",children:[i.jsx("span",{className:"preview-icon",children:_s(I.mimetype)}),i.jsx("p",{children:"Pre zobrazenie Office dokumentov stiahnite sbor"}),i.jsx("button",{className:"btn btn-primary",onClick:()=>vn(Pe,I.id,I.originalName),children:"Stiahnu a otvori"})]}):i.jsxs("div",{className:"preview-generic",children:[i.jsx("span",{className:"preview-icon",children:_s(I.mimetype)}),i.jsxs("p",{className:"file-info-text",children:[i.jsx("strong",{children:I.originalName}),i.jsx("br",{}),"Typ: ",I.mimetype||"Neznmy",i.jsx("br",{}),"Vekos: ",Fi(I.size)]}),i.jsx("button",{className:"btn btn-primary",onClick:()=>vn(Pe,I.id,I.originalName),children:"Stiahnu sbor"})]})})]})}),i.jsx(Tu,{section:"crm",title:"Sprva kontaktov",tips:i0})]})}const o0=[{icon:"",title:"Vytvorenie lohy",description:'Kliknite na "+ Nov loha" pre vytvorenie novej lohy. Mete ju priradi ku kontaktu alebo vytvori globlnu lohu.'},{icon:"",title:"Termny a priorita",description:"Kadej lohe mete nastavi termn dokonenia a prioritu (nzka, stredn, vysok). Farebn oznaenie ukazuje bliace sa termny."},{icon:"",title:"Podlohy",description:"Rozbate lohu a pridajte podlohy pre lepiu organizciu. Kad podloha me ma vlastn termn a poznmky."},{icon:"",title:"Priradenie loh",description:"lohy a podlohy mete priradi konkrtnym lenom tmu. Priraden pouvate dostane notifikciu."},{icon:"",title:"Filtrovanie",description:"Pouite filtre v avom paneli: Vetky, Na dnes, Priraden mne, Nov (poslednch 24h), alebo poda priority."},{icon:"",title:"Dokonenie lohy",description:'Kliknutm na checkbox oznate lohu ako dokonen. Dokonen lohy s zobrazen v sekcii "Dokonen".'},{icon:"",title:"Synchronizcia s kalendrom",description:"V nastaveniach mete prepoji lohy s Google Calendar pre automatick synchronizciu termnov."}];function l0(){var Pu,_u;const{user:e,logout:t,updateUser:n}=dr(),r=ur(),s=bs(),[a,o]=v.useState([]),[l,c]=v.useState([]),[u,f]=v.useState([]),[g,m]=v.useState(!0),[w,y]=v.useState("all"),[j,S]=v.useState(null),[h,p]=v.useState(""),[k,E]=v.useState(!1),[z,A]=v.useState(!1),[b,L]=v.useState(null),[V,B]=v.useState(null),{socket:K,isConnected:Y}=So(),[pe,te]=v.useState(null),[Ye,ce]=v.useState(null),Ae=v.useRef({}),$=v.useRef(null),[q,X]=v.useState({title:"",description:"",dueDate:"",priority:"medium",contactIds:[],assignedTo:[]}),[le,me]=v.useState(null),[se,be]=v.useState({}),[et,Me]=v.useState({}),[lt,Bt]=v.useState({}),[Tn,Jt]=v.useState({}),[Pn,Yt]=v.useState({}),[$t,fn]=v.useState({}),[hn,pn]=v.useState({}),[mt,_n]=v.useState(null),[Rn,mn]=v.useState(""),[Rt,gt]=v.useState(""),[fr,en]=v.useState(""),[St,x]=v.useState([]),[Q,J]=v.useState({}),[I,Ne]=v.useState(!1),[Pe,zt]=v.useState(null),[we,gn]=v.useState([]),[zn,tn]=v.useState(!1),On=v.useRef(null),[O,D]=v.useState(null),M=v.useCallback(async()=>{try{const d=await Z.get("/api/tasks");o(d.data)}catch(d){console.error("Failed to fetch tasks:",d)}finally{m(!1)}},[]),ee=v.useCallback(async()=>{try{const d=await Z.get("/api/contacts");c(d.data)}catch(d){console.error("Failed to fetch contacts:",d)}},[]),ae=v.useCallback(async()=>{try{const d=await Z.get("/api/auth/users");f(d.data)}catch(d){console.error("Failed to fetch users:",d)}},[]),re=v.useCallback(async()=>{var d,C;try{await Z.post("/api/google-tasks/sync-completed"),M()}catch(P){console.log("Google Tasks sync skipped:",((C=(d=P.response)==null?void 0:d.data)==null?void 0:C.message)||P.message)}},[M]);v.useEffect(()=>{M(),ee(),ae(),re()},[M,ee,ae,re]),v.useEffect(()=>{const d=new URLSearchParams(s.search),C=d.get("google_calendar"),P=d.get("google_tasks"),R=d.get("message");C&&(C==="connected"?D({type:"success",message:"Google Calendar bol spene pripojen!"}):C==="error"&&D({type:"error",message:`Chyba pri pripjan Google Calendar: ${R||"Neznma chyba"}`}),r("/tasks",{replace:!0}),setTimeout(()=>{D(null)},5e3)),P&&(P==="connected"?D({type:"success",message:"Google Tasks bol spene pripojen! lohy sa bud automaticky synchronizova."}):P==="error"&&D({type:"error",message:`Chyba pri pripjan Google Tasks: ${R||"Neznma chyba"}`}),r("/tasks",{replace:!0}),setTimeout(()=>{D(null)},5e3))},[s.search,r]),v.useEffect(()=>{const C=new URLSearchParams(s.search).get("contactId");C&&(S(C),r("/tasks",{replace:!0}))},[s.search,r]),v.useEffect(()=>{const d=C=>{On.current&&!On.current.contains(C.target)&&tn(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const Le=(d,C)=>{if(!d||C)return"";const P=new Date;P.setHours(0,0,0,0);const R=new Date(d);R.setHours(0,0,0,0);const W=Math.ceil((R-P)/(1e3*60*60*24));return W<0?"overdue":W<=3?"due-danger":W<=7?"due-warning":W<=14?"due-success":""},ct=d=>["due-success","due-warning","due-danger","overdue"].includes(d),tt=d=>d==="assigned-to-me",Mt=(d,C)=>{if(!d||d.length===0)return!1;for(const P of d)if(!P.completed&&Le(P.dueDate,P.completed)===C||P.subtasks&&Mt(P.subtasks,C))return!0;return!1},hr=(d,C,P=new Set)=>{if(!d||d.length===0)return P;for(const R of d)if(R.subtasks&&R.subtasks.length>0){const W=Mt(R.subtasks,C),H=!R.completed&&Le(R.dueDate,R.completed)===C;(W||H)&&P.add(R.id),hr(R.subtasks,C,P)}return P},An=(d,C)=>{if(!d||d.length===0||!C)return!1;for(const P of d)if((P.assignedTo||[]).some(R=>(R==null?void 0:R.toString())===C)||P.subtasks&&An(P.subtasks,C))return!0;return!1},Ln=(d,C,P=new Set)=>{if(!d||d.length===0||!C)return P;for(const R of d)if(R.subtasks&&R.subtasks.length>0){const W=An(R.subtasks,C),H=(R.assignedTo||[]).some(ie=>(ie==null?void 0:ie.toString())===C);(W||H)&&P.add(R.id),Ln(R.subtasks,C,P)}return P},Br=d=>{if(!d)return!1;const C=new Date(d);if(isNaN(C.getTime()))return!1;const R=new Date-C,W=24*60*60*1e3;return R>=0&&R<=W},nn=d=>!!(d.modifiedAt&&Br(d.modifiedAt)),Dn=d=>!!(d.modifiedAt&&Br(d.modifiedAt)),In=d=>{if(!d||d.length===0)return!1;for(const C of d)if(Dn(C)||C.subtasks&&In(C.subtasks))return!0;return!1},Eo=d=>{let C=0;for(const P of d)(nn(P)||In(P.subtasks))&&C++;return C},Ii=(d,C=new Set)=>{if(!d||d.length===0)return C;for(const P of d)if(P.subtasks&&P.subtasks.length>0){const R=In(P.subtasks),W=Dn(P);(R||W)&&C.add(P.id),Ii(P.subtasks,C)}return C},Fn=v.useRef(null),$r=v.useCallback((d,C)=>{console.log("[Tasks] processHighlight called:",d,C,"tasks loaded:",a.length),a.length>0?(te(d),B(d),C&&(ce(C),J(P=>({...P,[C]:!0}))),setTimeout(()=>{Ae.current[d]&&Ae.current[d].scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{te(null),ce(null)},3e3)):$.current={taskId:d,subtaskId:C}},[a.length]);v.useEffect(()=>{const d=async C=>{console.log("[Tasks] Received task-highlight event:",C.detail);const{taskId:P,subtaskId:R,timestamp:W}=C.detail;W&&W.toString()!==Fn.current&&(Fn.current=W.toString(),console.log("[Tasks] Refreshing tasks before highlight..."),await M(),setTimeout(()=>{$r(P,R)},100))};return window.addEventListener("task-highlight",d),()=>window.removeEventListener("task-highlight",d)},[$r,M]),v.useEffect(()=>{var W,H;const d=new URLSearchParams(s.search),C=d.get("highlightTask"),P=d.get("subtask"),R=d.get("_t");if(C&&R&&R!==Fn.current){Fn.current=R,r(s.pathname,{replace:!0,state:{}}),$r(C,P);return}if((W=s.state)!=null&&W.highlightTaskId){const ie=(H=s.state.navTimestamp)==null?void 0:H.toString();ie&&ie!==Fn.current&&(Fn.current=ie,r(s.pathname,{replace:!0,state:{}}),$r(s.state.highlightTaskId,s.state.highlightSubtaskId))}},[s.search,s.state,r,s.pathname,a.length]),v.useEffect(()=>{if($.current&&a.length>0){const{taskId:d,subtaskId:C}=$.current;$.current=null,te(d),B(d),C&&(ce(C),J(P=>({...P,[C]:!0}))),setTimeout(()=>{Ae.current[d]&&Ae.current[d].scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{te(null),ce(null)},3e3)}},[a]),v.useEffect(()=>{if(!K||!Y)return;const d=W=>{o(H=>H.some(ie=>ie.id===W.id)?H:[...H,W])},C=W=>{o(H=>H.map(ie=>ie.id===W.id?W:ie)),L(H=>(H==null?void 0:H.id)===W.id?W:H)},P=({id:W})=>{o(H=>H.filter(ie=>ie.id!==W)),L(H=>(H==null?void 0:H.id)===W?null:H)},R=()=>{M()};return K.on("task-created",d),K.on("task-updated",C),K.on("task-deleted",P),K.on("contact-updated",R),()=>{K.off("task-created",d),K.off("task-updated",C),K.off("task-deleted",P),K.off("contact-updated",R)}},[K,Y]);const vn=v.useRef(w);v.useEffect(()=>{var W;const d=vn.current!==w;if(vn.current=w,!d||!ct(w)&&w!=="new"&&!tt(w)||a.length===0)return;const C=new Set,P={},R=(W=e==null?void 0:e.id)==null?void 0:W.toString();if(w==="new")for(const H of a){const ie=nn(H),xe=In(H.subtasks);(ie||xe)&&(C.add(H.id),xe&&Ii(H.subtasks).forEach(Ee=>{P[Ee]=!0}))}else if(tt(w)){if(R)for(const H of a){const ie=(H.assignedTo||[]).some(_=>(_==null?void 0:_.toString())===R),xe=An(H.subtasks,R);(ie||xe)&&(C.add(H.id),xe&&Ln(H.subtasks,R).forEach(Ee=>{P[Ee]=!0}))}}else{const H=w;for(const ie of a){const xe=!ie.completed&&Le(ie.dueDate,ie.completed)===H,_=Mt(ie.subtasks,H);(xe||_)&&(C.add(ie.id),_&&hr(ie.subtasks,H).forEach(Ce=>{P[Ce]=!0}))}}if(C.size>0){const H=Array.from(C)[0];B(H)}Object.keys(P).length>0&&J(H=>({...H,...P}))},[w,a,e]);const Fi=async d=>{var C,P;if(d.preventDefault(),!!q.title.trim())try{const W=(await Z.post("/api/tasks",{...q,contactIds:q.contactIds.length>0?q.contactIds:[]})).data;W.tasks&&Array.isArray(W.tasks)?o(H=>[...W.tasks.filter(xe=>!H.some(_=>_.id===xe.id)),...H]):W&&W.id&&o(H=>H.some(ie=>ie.id===W.id)?H:[W,...H]),await M(),X({title:"",description:"",dueDate:"",priority:"medium",contactIds:[],assignedTo:[]}),A(!1)}catch(R){alert(((P=(C=R.response)==null?void 0:C.data)==null?void 0:P.message)||"Chyba pri vytvran lohy")}},_s=async d=>{if(!(!d.completed&&!window.confirm(`Naozaj chcete oznai lohu "${d.title}" ako dokonen?`)))try{await Z.put(`/api/tasks/${d.id}`,{completed:!d.completed,source:d.source})}catch(C){console.error("Failed to toggle task:",C)}},Un=async d=>{if(window.confirm(`Naozaj chcete vymaza lohu "${d.title}"?`))try{await Z.delete(`/api/tasks/${d.id}?source=${d.source||"global"}`),await M()}catch(C){console.error("Failed to delete task:",C),alert("Chyba pri mazan lohy")}},To=d=>{zt(d),gn([]),Ne(!0)},Mr=()=>{Ne(!1),zt(null),gn([])},Rs=async()=>{var d,C;if(Pe)try{await Z.post(`/api/tasks/${Pe.id}/duplicate`,{contactIds:we,source:Pe.source}),Mr()}catch(P){alert(((C=(d=P.response)==null?void 0:d.data)==null?void 0:C.message)||"Chyba pri duplikovan lohy")}},Ui=d=>{var P;me(d.id);const C=((P=d.contactIds)==null?void 0:P.length)>0?d.contactIds:d.contactId?[d.contactId]:[];be({title:d.title,description:d.description||"",dueDate:d.dueDate||"",priority:d.priority||"medium",contactIds:C,assignedTo:d.assignedTo||[],source:d.source})},Vr=async d=>{var C,P;try{const R=a.find(W=>W.id===d);await Z.put(`/api/tasks/${d}`,{...se,contactIds:se.contactIds||[],assignedTo:se.assignedTo||[],source:(R==null?void 0:R.source)||"global"}),await M(),me(null)}catch(R){alert(((P=(C=R.response)==null?void 0:C.data)==null?void 0:P.message)||"Chyba pri ukladan lohy")}},Bi=async(d,C,P=null)=>{var _,Ee;d.preventDefault();const R=P||C.id,W=et[R]||"",H=lt[R]||null,ie=Tn[R]||"",xe=Pn[R]||[];if(W.trim())try{await Z.post(`/api/tasks/${C.id}/subtasks`,{title:W,dueDate:H,notes:ie,assignedTo:xe,source:C.source,parentSubtaskId:P}),Me(Ce=>({...Ce,[R]:""})),Bt(Ce=>({...Ce,[R]:""})),Jt(Ce=>({...Ce,[R]:""})),Yt(Ce=>({...Ce,[R]:[]})),fn(Ce=>({...Ce,[R]:!1})),pn(Ce=>({...Ce,[R]:!1})),await M()}catch(Ce){alert(((Ee=(_=Ce.response)==null?void 0:_.data)==null?void 0:Ee.message)||"Chyba pri vytvarani podulohy")}},Po=async(d,C)=>{if(!(!C.completed&&!window.confirm(`Naozaj chcete oznai podlohu "${C.title}" ako dokonen?`)))try{await Z.put(`/api/tasks/${d.id}/subtasks/${C.id}`,{completed:!C.completed,source:d.source}),await M()}catch(P){console.error("Failed to toggle subtask:",P)}},_o=async(d,C)=>{if(window.confirm(`Naozaj chcete vymaza podlohu "${C.title}"?`))try{await Z.delete(`/api/tasks/${d.id}/subtasks/${C.id}?source=${d.source||"global"}`),await M()}catch(P){console.error("Failed to delete subtask:",P)}},zs=(d,C)=>{_n({taskId:d.id,subtaskId:C.id,source:d.source}),mn(C.title),gt(C.notes||""),en(C.dueDate||""),x(C.assignedTo||[])},Ro=async(d,C)=>{var P,R;if(Rn.trim())try{await Z.put(`/api/tasks/${d.id}/subtasks/${C}`,{title:Rn,notes:Rt,dueDate:fr||null,assignedTo:St,source:d.source}),_n(null),mn(""),gt(""),en(""),x([]),await M()}catch(W){alert(((R=(P=W.response)==null?void 0:P.data)==null?void 0:R.message)||"Chyba pri ukladani podulohy")}},Os=()=>{_n(null),mn(""),gt(""),en(""),x([])},Wr=d=>{J(C=>({...C,[d]:!C[d]}))},pr=d=>{if(!d||d.length===0)return{total:0,completed:0};let C=0,P=0;for(const R of d)if(C++,R.completed&&P++,R.subtasks&&R.subtasks.length>0){const W=pr(R.subtasks);C+=W.total,P+=W.completed}return{total:C,completed:P}},mr=(d,C)=>{if(!d||d.length===0)return!1;for(const P of d)if(P.priority===C&&!P.completed||P.subtasks&&mr(P.subtasks,C))return!0;return!1},Hr=(d,C)=>{let P=0;for(const R of d)R.priority===C&&!R.completed&&P++,R.subtasks&&(P+=As(R.subtasks,C));return P},As=(d,C)=>{if(!d||d.length===0)return 0;let P=0;for(const R of d)R.priority===C&&!R.completed&&P++,R.subtasks&&(P+=As(R.subtasks,C));return P},gr=(d,C)=>{let P=0;for(const R of d)!R.completed&&Le(R.dueDate,R.completed)===C&&P++,R.subtasks&&(P+=N(R.subtasks,C));return P},N=(d,C)=>{if(!d||d.length===0)return 0;let P=0;for(const R of d)!R.completed&&Le(R.dueDate,R.completed)===C&&P++,R.subtasks&&(P+=N(R.subtasks,C));return P},F=(d,C,P=0)=>{var xe;if(!C||C.length===0)return null;const R=ct(w)?w:null,W=w==="new",H=tt(w),ie=(xe=e==null?void 0:e.id)==null?void 0:xe.toString();return C.map(_=>{var Ru;const Ee=_.subtasks&&_.subtasks.length>0,Ce=Q[_.id],nt=Ee?pr(_.subtasks):{total:0,completed:0},vr=R&&!_.completed&&Le(_.dueDate,_.completed)===R,Bm=W&&Dn(_),$m=H&&ie&&(_.assignedTo||[]).some(ne=>(ne==null?void 0:ne.toString())===ie),Mm=vr||Bm||$m;return i.jsxs("div",{className:"subtask-tree-item",style:{marginLeft:P*16},children:[i.jsxs("div",{className:`subtask-item ${_.completed?"completed":""} ${Mm?"filter-match":""} ${Ye===_.id?"highlighted":""}`,children:[i.jsx("div",{className:"subtask-checkbox-styled",onClick:()=>!_.completed&&Po(d,_),style:{backgroundColor:_.completed?"var(--accent-color)":"transparent"},children:_.completed&&""}),Ee&&i.jsx("button",{className:"subtask-expand-btn",onClick:()=>Wr(_.id),children:Ce?"":""}),(mt==null?void 0:mt.taskId)===d.id&&(mt==null?void 0:mt.subtaskId)===_.id?i.jsxs("div",{className:"subtask-edit-form-full",children:[i.jsx("div",{className:"subtask-edit-row",children:i.jsx("input",{type:"text",value:Rn,onChange:ne=>mn(ne.target.value),className:"form-input form-input-sm",autoFocus:!0,placeholder:"Nzov podlohy"})}),i.jsx("div",{className:"subtask-edit-row",children:i.jsx("input",{type:"date",value:fr,onChange:ne=>en(ne.target.value),className:"form-input form-input-sm task-date-input",title:"Termn podlohy"})}),i.jsx("div",{className:"subtask-edit-row",children:i.jsx("textarea",{value:Rt,onChange:ne=>gt(ne.target.value),className:"form-input form-input-sm subtask-notes-input",placeholder:"Poznmka...",rows:2})}),i.jsxs("div",{className:"subtask-edit-row",children:[i.jsx("label",{className:"subtask-assign-label",children:"Priraden:"}),i.jsx("div",{className:"subtask-assign-users",children:u.map(ne=>i.jsxs("label",{className:"subtask-user-checkbox",children:[i.jsx("input",{type:"checkbox",checked:St.includes(ne.id),onChange:Be=>{const Ls=Be.target.checked;x(qr=>Ls?[...qr,ne.id]:qr.filter(Lo=>Lo!==ne.id))}}),i.jsx("span",{className:"subtask-user-dot",style:{backgroundColor:ne.color}}),i.jsx("span",{children:ne.username})]},ne.id))})]}),i.jsxs("div",{className:"subtask-edit-actions",children:[i.jsx("button",{onClick:()=>Ro(d,_.id),className:"btn btn-primary btn-sm",children:"Uloi"}),i.jsx("button",{onClick:Os,className:"btn btn-secondary btn-sm",children:"Zrui"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"subtask-title",onDoubleClick:()=>zs(d,_),title:"Dvojklik pre upravu",children:_.title}),_.notes&&i.jsx("span",{className:"subtask-notes-indicator",title:_.notes,children:""}),_.dueDate&&i.jsxs("span",{className:`subtask-due-date ${Le(_.dueDate,_.completed)}`,children:[Le(_.dueDate,_.completed)==="overdue"?"":""," ",new Date(_.dueDate).toLocaleDateString("sk-SK")]}),Ee&&i.jsxs("span",{className:"subtask-child-count",children:["(",nt.completed,"/",nt.total,")"]}),((Ru=_.assignedTo)==null?void 0:Ru.length)>0&&i.jsx("span",{className:"subtask-assigned-users",children:_.assignedTo.map(ne=>{const Be=u.find(Ls=>Ls.id===ne);return Be?i.jsx("span",{className:"subtask-assigned-avatar",style:{backgroundColor:Be.color},title:Be.username,children:Be.username.charAt(0).toUpperCase()},Be.id):null})}),i.jsxs("div",{className:"subtask-actions",children:[i.jsx("button",{onClick:()=>{J(ne=>({...ne,[_.id]:!0})),Me(ne=>({...ne,[_.id]:""}))},className:"btn-icon-sm btn-add-child",title:"Pridat podulohu",children:"+"}),i.jsx("button",{onClick:()=>zs(d,_),className:"btn-icon-sm",title:"Upravit",children:""}),i.jsx("button",{onClick:()=>_o(d,_),className:"btn-icon-sm",title:"Vymazat",children:""})]})]})]}),_.notes&&(mt==null?void 0:mt.subtaskId)!==_.id&&i.jsx("div",{className:"subtask-notes-display",style:{marginLeft:P*16+24},children:_.notes}),Ce&&Ee&&i.jsx("div",{className:"subtask-children",children:F(d,_.subtasks,P+1)}),Ce&&et[_.id]!==void 0&&i.jsxs("div",{className:"add-subtask-wrapper",style:{marginLeft:(P+1)*16},children:[i.jsxs("form",{onSubmit:ne=>Bi(ne,d,_.id),className:"add-subtask-form nested",children:[i.jsx("input",{type:"text",value:et[_.id]||"",onChange:ne=>Me(Be=>({...Be,[_.id]:ne.target.value})),placeholder:"Nov podloha...",className:"form-input form-input-sm",autoFocus:!0}),i.jsx("input",{type:"date",value:lt[_.id]||"",onChange:ne=>Bt(Be=>({...Be,[_.id]:ne.target.value})),className:"form-input form-input-sm task-date-input",title:"Termn podlohy"}),i.jsx("button",{type:"button",className:`btn btn-secondary btn-sm ${$t[_.id]?"active":""}`,onClick:()=>fn(ne=>({...ne,[_.id]:!ne[_.id]})),title:"Prida poznmku",children:""}),i.jsx("button",{type:"button",className:`btn btn-secondary btn-sm ${hn[_.id]?"active":""}`,onClick:()=>pn(ne=>({...ne,[_.id]:!ne[_.id]})),title:"Priradi pouvateom",children:""}),i.jsx("button",{type:"submit",className:"btn btn-secondary btn-sm",children:"+"}),i.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>{Me(ne=>{const Be={...ne};return delete Be[_.id],Be}),Bt(ne=>{const Be={...ne};return delete Be[_.id],Be}),fn(ne=>({...ne,[_.id]:!1})),pn(ne=>({...ne,[_.id]:!1})),Yt(ne=>({...ne,[_.id]:[]}))},children:""})]}),$t[_.id]&&i.jsx("textarea",{value:Tn[_.id]||"",onChange:ne=>Jt(Be=>({...Be,[_.id]:ne.target.value})),placeholder:"Poznmka k podlohe...",className:"form-input form-input-sm subtask-notes-input",rows:2}),hn[_.id]&&i.jsx("div",{className:"subtask-assign-users-form",children:u.map(ne=>i.jsxs("label",{className:"subtask-user-checkbox",children:[i.jsx("input",{type:"checkbox",checked:(Pn[_.id]||[]).includes(ne.id),onChange:Be=>{const Ls=Be.target.checked;Yt(qr=>({...qr,[_.id]:Ls?[...qr[_.id]||[],ne.id]:(qr[_.id]||[]).filter(Lo=>Lo!==ne.id)}))}}),i.jsx("span",{className:"subtask-user-dot",style:{backgroundColor:ne.color}}),i.jsx("span",{children:ne.username})]},ne.id))})]})]},_.id)})},de=d=>{switch(d){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#9CA3AF"}},ge=d=>{switch(d){case"high":return"Vysok";case"medium":return"Stredn";case"low":return"Nzka";default:return d}},ze=d=>d?new Date(d).toLocaleDateString("sk-SK"):"",fe=async(d={})=>{try{const C=new URLSearchParams;d.incremental&&C.append("incremental","true"),d.reset&&C.append("reset","true");const P=`/api/tasks/export/calendar${C.toString()?"?"+C.toString():""}`,R=await Z.get(P,{responseType:"blob"}),W=new Blob([R.data],{type:"text/calendar;charset=utf-8"}),H=window.URL.createObjectURL(W),ie=document.createElement("a");ie.href=H,ie.download=d.incremental?"perun-crm-tasks-new.ics":"perun-crm-tasks.ics",document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(H),document.body.removeChild(ie),tn(!1),d.incremental&&alert("Stiahnut iba nov lohy, ktor ete neboli exportovan.")}catch{alert("Chyba pri exporte kalendra")}},ye=()=>{window.open("https://calendar.google.com/calendar/r/settings/export","_blank"),alert(`Google Calendar sa otvoril v novom tabe.

Pre import loh:
1. Kliknite na "Stiahnu .ics sbor" v menu
2. V Google Calendar kliknite na "Vybra sbor"
3. Vyberte stiahnut sbor a importujte`),tn(!1)},Se=()=>{alert(`Nvod na import do rznych kalendrov:

 iOS / macOS (Apple Calendar):
1. Stiahnite .ics sbor
2. Otvorte sbor - automaticky sa otvor v Kalendri
3. Potvrte import

 Windows (Outlook):
1. Stiahnite .ics sbor
2. Dvojkliknite na sbor
3. Outlook automaticky importuje udalosti

 Google Calendar (web):
1. Stiahnite .ics sbor
2. Otvorte calendar.google.com
3. Nastavenia () > Import a export
4. Vyberte stiahnut .ics sbor

 Outlook (web):
1. Stiahnite .ics sbor
2. Otvorte outlook.com > Kalendr
3. Prida kalendr > Nahra zo sboru`),tn(!1)},ut=(d,C)=>{if((d.assignedTo||[]).some(R=>(R==null?void 0:R.toString())===C))return!0;const P=R=>{if(!R)return!1;for(const W of R)if((W.assignedTo||[]).some(H=>(H==null?void 0:H.toString())===C)||W.subtasks&&P(W.subtasks))return!0;return!1};return P(d.subtasks)},Bn=(d,C)=>!d||!Array.isArray(d)?!1:d.some(P=>{var H,ie;const R=(H=P.title)==null?void 0:H.toLowerCase().includes(C),W=(ie=P.notes)==null?void 0:ie.toLowerCase().includes(C);return R||W?!0:Bn(P.subtasks,C)}),$n=[...a.filter(d=>{var C,P,R,W,H,ie;if(j&&!(d.contactIds||(d.contactId?[d.contactId]:[])).includes(j))return!1;if(h.trim()){const xe=h.toLowerCase().trim(),_=(C=d.title)==null?void 0:C.toLowerCase().includes(xe),Ee=(P=d.description)==null?void 0:P.toLowerCase().includes(xe),Ce=(R=d.contactName)==null?void 0:R.toLowerCase().includes(xe),nt=Bn(d.subtasks,xe);if(!_&&!Ee&&!Ce&&!nt)return!1}if(w==="all")return!0;if(w==="completed")return d.completed;if(w==="active")return!d.completed;if(w==="new")return nn(d)||In(d.subtasks);if(w==="high")return d.priority==="high"&&!d.completed||mr(d.subtasks,"high");if(w==="medium")return d.priority==="medium"&&!d.completed||mr(d.subtasks,"medium");if(w==="low")return d.priority==="low"&&!d.completed||mr(d.subtasks,"low");if(w==="with-contact")return((W=d.contactIds)==null?void 0:W.length)>0||d.contactId;if(w==="without-contact")return!(((H=d.contactIds)==null?void 0:H.length)>0||d.contactId);if(w==="due-success")return!d.completed&&Le(d.dueDate,d.completed)==="due-success"||Mt(d.subtasks,"due-success");if(w==="due-warning")return!d.completed&&Le(d.dueDate,d.completed)==="due-warning"||Mt(d.subtasks,"due-warning");if(w==="due-danger")return!d.completed&&Le(d.dueDate,d.completed)==="due-danger"||Mt(d.subtasks,"due-danger");if(w==="overdue")return!d.completed&&Le(d.dueDate,d.completed)==="overdue"||Mt(d.subtasks,"overdue");if(w==="assigned-to-me"){const xe=(ie=e==null?void 0:e.id)==null?void 0:ie.toString();return xe?ut(d,xe):!1}return!0})].sort((d,C)=>{const P=d.completed===!0,R=C.completed===!0;return P&&!R?1:!P&&R?-1:0}),zo=a.filter(d=>d.completed).length,Oo=a.filter(d=>!d.completed).length,Ao=Eo(a),$i=Hr(a,"high"),Rm=Hr(a,"medium"),zm=Hr(a,"low"),Om=a.filter(d=>{var C;return((C=d.contactIds)==null?void 0:C.length)>0||d.contactId}).length,Am=a.filter(d=>{var C;return!(((C=d.contactIds)==null?void 0:C.length)>0||d.contactId)}).length,Lm=a.filter(d=>{var P;const C=(P=e==null?void 0:e.id)==null?void 0:P.toString();return C?ut(d,C):!1}).length,Dm=gr(a,"due-success"),Im=gr(a,"due-warning"),Fm=gr(a,"due-danger"),Um=gr(a,"overdue");return i.jsxs("div",{className:"crm-container",children:[i.jsxs("header",{className:"crm-header",children:[i.jsxs("div",{className:"crm-header-left",children:[i.jsxs("button",{className:"btn-menu",onClick:()=>E(!k),"aria-label":"Menu",children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]}),i.jsx("h1",{className:"header-title-link",onClick:()=>r("/"),children:"Purple CRM"})]}),i.jsxs("div",{className:"crm-header-right",children:[i.jsx(bo,{}),i.jsxs("div",{className:"calendar-export-dropdown",ref:On,children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>tn(!zn),title:"Exportova termny do kalendra",children:" Export "}),zn&&i.jsxs("div",{className:"calendar-menu",children:[i.jsxs("button",{onClick:()=>fe({incremental:!0}),className:"calendar-menu-item",children:[" Stiahnu nov lohy",i.jsx("span",{className:"menu-hint",children:"Iba ete neexportovan"})]}),i.jsxs("button",{onClick:()=>fe(),className:"calendar-menu-item",children:[" Stiahnu vetky lohy",i.jsx("span",{className:"menu-hint",children:"Kompletn export"})]}),i.jsxs("button",{onClick:()=>fe({reset:!0}),className:"calendar-menu-item",children:[" Reset a stiahnu vetko",i.jsx("span",{className:"menu-hint",children:"Vymae histriu exportu"})]}),i.jsx("div",{className:"calendar-menu-separator"}),i.jsxs("button",{onClick:ye,className:"calendar-menu-item",children:[" Google Calendar",i.jsx("span",{className:"menu-hint",children:"Otvor import strnku"})]}),i.jsxs("button",{onClick:Se,className:"calendar-menu-item",children:[" Nvod na import",i.jsx("span",{className:"menu-hint",children:"Pre vetky platformy"})]})]})]}),i.jsx("button",{className:"btn btn-secondary btn-nav-contacts",onClick:()=>r("/crm"),children:"Kontakty"}),i.jsx(Co,{user:e,onLogout:t,onUserUpdate:n})]})]}),O&&i.jsxs("div",{className:`notification notification-${O.type}`,children:[O.message,i.jsx("button",{className:"notification-close",onClick:()=>D(null),children:""})]}),i.jsxs("div",{className:"crm-content",children:[i.jsx("div",{className:`sidebar-overlay ${k?"visible":""}`,onClick:()=>E(!1)}),i.jsxs("aside",{className:`crm-sidebar ${k?"open":""}`,children:[i.jsx("button",{className:"btn btn-primary add-contact-btn",onClick:()=>{A(!0),E(!1)},children:"+ Nov loha"}),i.jsxs("div",{className:"dashboard-stats",children:[i.jsx("h3",{children:"Prehad"}),i.jsxs("div",{className:`stat-item clickable ${w==="all"?"active":""}`,onClick:()=>y("all"),children:[i.jsx("span",{className:"stat-label",children:"Celkom loh"}),i.jsx("span",{className:"stat-value",children:a.length})]}),i.jsxs("div",{className:`stat-item clickable ${w==="new"?"active":""}`,onClick:()=>y("new"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#8B5CF6"}}),"Nov / Zmenen (24h)"]}),i.jsx("span",{className:"stat-value",children:Ao})]}),i.jsxs("div",{className:`stat-item clickable ${w==="active"?"active":""}`,onClick:()=>y("active"),children:[i.jsx("span",{className:"stat-label",children:"Nesplnench"}),i.jsx("span",{className:"stat-value",children:Oo})]}),i.jsxs("div",{className:`stat-item clickable ${w==="completed"?"active":""}`,onClick:()=>y("completed"),children:[i.jsx("span",{className:"stat-label",children:"Splnench"}),i.jsx("span",{className:"stat-value",children:zo})]}),i.jsxs("div",{className:`stat-item clickable ${w==="with-contact"?"active":""}`,onClick:()=>y("with-contact"),children:[i.jsx("span",{className:"stat-label",children:"S kontaktom"}),i.jsx("span",{className:"stat-value",children:Om})]}),i.jsxs("div",{className:`stat-item clickable ${w==="without-contact"?"active":""}`,onClick:()=>y("without-contact"),children:[i.jsx("span",{className:"stat-label",children:"Bez kontaktu"}),i.jsx("span",{className:"stat-value",children:Am})]}),i.jsxs("div",{className:`stat-item clickable ${w==="assigned-to-me"?"active":""}`,onClick:()=>y("assigned-to-me"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#3B82F6"}}),"Priraden mne"]}),i.jsx("span",{className:"stat-value",children:Lm})]}),i.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",color:"var(--text-secondary)"},children:"Poda priority"}),i.jsxs("div",{className:`stat-item clickable priority-stat ${w==="high"?"active":""}`,onClick:()=>y("high"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#EF4444"}}),"Vysok priorita"]}),i.jsx("span",{className:"stat-value",children:$i})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${w==="medium"?"active":""}`,onClick:()=>y("medium"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#F59E0B"}}),"Stredn priorita"]}),i.jsx("span",{className:"stat-value",children:Rm})]}),i.jsxs("div",{className:`stat-item clickable priority-stat ${w==="low"?"active":""}`,onClick:()=>y("low"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot",style:{backgroundColor:"#10B981"}}),"Nzka priorita"]}),i.jsx("span",{className:"stat-value",children:zm})]}),i.jsx("div",{className:"sidebar-section-title",children:"Termn"}),i.jsxs("div",{className:`stat-item clickable due-stat ${w==="due-success"?"active":""}`,onClick:()=>y("due-success"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot due-success-dot"}),"Do 14 dn"]}),i.jsx("span",{className:"stat-value",children:Dm})]}),i.jsxs("div",{className:`stat-item clickable due-stat ${w==="due-warning"?"active":""}`,onClick:()=>y("due-warning"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot due-warning-dot"}),"Do 7 dn"]}),i.jsx("span",{className:"stat-value",children:Im})]}),i.jsxs("div",{className:`stat-item clickable due-stat ${w==="due-danger"?"active":""}`,onClick:()=>y("due-danger"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot due-danger-dot"}),"Do 3 dn"]}),i.jsx("span",{className:"stat-value",children:Fm})]}),i.jsxs("div",{className:`stat-item clickable due-stat ${w==="overdue"?"active":""}`,onClick:()=>y("overdue"),children:[i.jsxs("span",{className:"stat-label",children:[i.jsx("span",{className:"priority-dot overdue-dot"}),"Po termne "]}),i.jsx("span",{className:"stat-value",children:Um})]})]})]}),i.jsx("main",{className:"crm-main",children:z?i.jsxs("div",{className:"contact-form-container",children:[i.jsx("h2",{children:"Nov loha"}),i.jsxs("form",{onSubmit:Fi,className:"contact-form",children:[i.jsxs("div",{className:"contact-form-grid",children:[i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Nzov *"}),i.jsx("input",{type:"text",value:q.title,onChange:d=>X({...q,title:d.target.value}),placeholder:"Nzov lohy",className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Popis"}),i.jsx("textarea",{value:q.description,onChange:d=>X({...q,description:d.target.value}),placeholder:"Popis lohy...",className:"form-input",rows:3})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Termn"}),i.jsx("input",{type:"date",value:q.dueDate,onChange:d=>X({...q,dueDate:d.target.value}),className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Priorita"}),i.jsxs("select",{value:q.priority,onChange:d=>X({...q,priority:d.target.value}),className:"form-input",children:[i.jsx("option",{value:"low",children:"Nzka"}),i.jsx("option",{value:"medium",children:"Stredn"}),i.jsx("option",{value:"high",children:"Vysok"})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Priradi ku kontaktom"}),i.jsxs("div",{className:"multi-select-contacts",children:[l.map(d=>i.jsxs("label",{className:"contact-checkbox",children:[i.jsx("input",{type:"checkbox",checked:q.contactIds.includes(d.id),onChange:C=>{const P=C.target.checked;X(R=>({...R,contactIds:P?[...R.contactIds,d.id]:R.contactIds.filter(W=>W!==d.id)}))}}),i.jsxs("span",{children:[d.name," ",d.company?`(${d.company})`:""]})]},d.id)),l.length===0&&i.jsx("span",{className:"no-contacts",children:"iadne kontakty"})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Priradi pouvateom"}),i.jsx("div",{className:"multi-select-users",children:u.map(d=>i.jsxs("label",{className:"user-checkbox",children:[i.jsx("input",{type:"checkbox",checked:q.assignedTo.includes(d.id),onChange:C=>{const P=C.target.checked;X(R=>({...R,assignedTo:P?[...R.assignedTo,d.id]:R.assignedTo.filter(W=>W!==d.id)}))}}),i.jsx("span",{className:"user-avatar-small",style:{backgroundColor:d.color},children:d.username.charAt(0).toUpperCase()}),i.jsx("span",{children:d.username}),i.jsx("span",{className:"user-role-badge",children:d.role==="admin"?"Admin":d.role==="manager"?"Manar":"Pouvate"})]},d.id))})]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>A(!1),children:"Zrui"}),i.jsx("button",{type:"submit",className:"btn btn-primary",children:"Vytvori lohu"})]})]})]}):i.jsxs("div",{className:"tasks-page",children:[j&&i.jsxs("div",{className:"contact-filter-banner",children:[i.jsxs("span",{children:["lohy pre kontakt: ",i.jsx("strong",{children:((Pu=l.find(d=>d.id===j))==null?void 0:Pu.name)||"Natavam..."})]}),i.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>S(null),children:" Zrui filter"})]}),i.jsxs("div",{className:"tasks-header",children:[i.jsxs("h2",{children:["Zoznam loh (",$n.length,")"]}),i.jsxs("div",{className:"search-box",children:[i.jsx("input",{type:"text",placeholder:"Hada lohu...",value:h,onChange:d=>p(d.target.value),className:"search-input"}),h&&i.jsx("button",{className:"search-clear",onClick:()=>p(""),title:"Vymaza",children:""})]}),i.jsxs("div",{className:"due-date-legend",children:[i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"legend-color due-success-color"}),i.jsx("span",{children:"Do 14 dn"})]}),i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"legend-color due-warning-color"}),i.jsx("span",{children:"Do 7 dn"})]}),i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"legend-color due-danger-color"}),i.jsx("span",{children:"Do 3 dn"})]}),i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"legend-color overdue-color"}),i.jsx("span",{children:"Po termne "})]})]})]}),g?i.jsx("div",{className:"loading",children:"Natavam..."}):$n.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-state-icon",children:""}),i.jsx("h2",{children:"iadne lohy"}),i.jsx("p",{children:"Vytvorte nov lohu kliknutm na tlaidlo vyie"})]}):i.jsx("div",{className:"tasks-list",children:$n.map(d=>{var R,W,H,ie,xe;const C=(R=e==null?void 0:e.id)==null?void 0:R.toString(),P=tt(w)&&C&&(d.assignedTo||[]).some(_=>(_==null?void 0:_.toString())===C);return i.jsxs("div",{ref:_=>Ae.current[d.id]=_,className:`task-card ${d.completed?"completed":""} ${pe===d.id?"highlighted":""} ${P?"filter-match":""}`,children:[i.jsxs("div",{className:"task-main",children:[i.jsx("div",{className:"task-checkbox-styled",onClick:()=>!d.completed&&_s(d),style:{borderColor:de(d.priority),backgroundColor:d.completed?de(d.priority):"transparent"},children:d.completed&&""}),le===d.id?i.jsxs("div",{className:"task-edit-form",children:[i.jsx("input",{type:"text",value:se.title,onChange:_=>be({...se,title:_.target.value}),className:"form-input"}),i.jsx("textarea",{value:se.description,onChange:_=>be({...se,description:_.target.value}),placeholder:"Popis...",className:"form-input",rows:2}),i.jsxs("div",{className:"task-edit-row",children:[i.jsx("input",{type:"date",value:se.dueDate,onChange:_=>be({...se,dueDate:_.target.value}),className:"form-input"}),i.jsxs("select",{value:se.priority,onChange:_=>be({...se,priority:_.target.value}),className:"form-input",children:[i.jsx("option",{value:"low",children:"Nzka"}),i.jsx("option",{value:"medium",children:"Stredn"}),i.jsx("option",{value:"high",children:"Vysok"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Kontakty"}),i.jsx("div",{className:"multi-select-contacts compact",children:l.map(_=>i.jsxs("label",{className:"contact-checkbox",children:[i.jsx("input",{type:"checkbox",checked:(se.contactIds||[]).includes(_.id),onChange:Ee=>{const Ce=Ee.target.checked;be(nt=>({...nt,contactIds:Ce?[...nt.contactIds||[],_.id]:(nt.contactIds||[]).filter(vr=>vr!==_.id)}))}}),i.jsx("span",{children:_.name})]},_.id))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Priraden"}),i.jsx("div",{className:"multi-select-users compact",children:u.map(_=>i.jsxs("label",{className:"user-checkbox",children:[i.jsx("input",{type:"checkbox",checked:(se.assignedTo||[]).includes(_.id),onChange:Ee=>{const Ce=Ee.target.checked;be(nt=>({...nt,assignedTo:Ce?[...nt.assignedTo||[],_.id]:(nt.assignedTo||[]).filter(vr=>vr!==_.id)}))}}),i.jsx("span",{className:"user-dot",style:{backgroundColor:_.color}}),i.jsx("span",{children:_.username})]},_.id))})]}),i.jsxs("div",{className:"task-edit-actions",children:[i.jsx("button",{onClick:()=>Vr(d.id),className:"btn btn-primary btn-sm",children:"Uloi"}),i.jsx("button",{onClick:()=>me(null),className:"btn btn-secondary btn-sm",children:"Zrui"})]})]}):i.jsxs("div",{className:"task-content",onClick:()=>B(V===d.id?null:d.id),children:[i.jsx("div",{className:"task-title",children:d.title}),i.jsxs("div",{className:"task-meta",children:[i.jsx("span",{className:"priority-badge",style:{backgroundColor:de(d.priority)},children:ge(d.priority)}),d.dueDate&&i.jsxs("span",{className:`due-date ${Le(d.dueDate,d.completed)}`,children:[Le(d.dueDate,d.completed)==="overdue"?"":""," ",ze(d.dueDate)]}),(d.contactName||((W=d.contactNames)==null?void 0:W.length)>0)&&i.jsxs("span",{className:"contact-badge",children:[" ",((H=d.contactNames)==null?void 0:H.length)>0?d.contactNames.join(", "):d.contactName]}),((ie=d.subtasks)==null?void 0:ie.length)>0&&i.jsxs("span",{className:"subtask-count",children:[" ",pr(d.subtasks).completed,"/",pr(d.subtasks).total]}),((xe=d.assignedUsers)==null?void 0:xe.length)>0&&i.jsx("span",{className:"assigned-users-badge",children:d.assignedUsers.map(_=>i.jsx("span",{className:"assigned-user-avatar",style:{backgroundColor:_.color},title:_.username,children:_.username.charAt(0).toUpperCase()},_.id))})]})]}),le!==d.id&&i.jsxs("div",{className:"task-actions",children:[i.jsx("button",{onClick:()=>To(d),className:"btn-icon",title:"Duplikova",children:""}),i.jsx("button",{onClick:()=>Ui(d),className:"btn-icon",title:"Upravi",children:""}),i.jsx("button",{onClick:()=>Un(d),className:"btn-icon",title:"Vymaza",children:""})]})]}),V===d.id&&le!==d.id&&i.jsxs("div",{className:"task-expanded",children:[d.description&&i.jsx("div",{className:"task-description",children:d.description}),i.jsxs("div",{className:"subtasks",children:[i.jsx("div",{className:"subtasks-header",children:"Podulohy"}),i.jsx("div",{className:"subtask-tree",children:F(d,d.subtasks,0)}),!d.completed&&i.jsxs("div",{className:"add-subtask-wrapper",children:[i.jsxs("form",{onSubmit:_=>Bi(_,d),className:"add-subtask-form",children:[i.jsx("input",{type:"text",value:et[d.id]||"",onChange:_=>Me(Ee=>({...Ee,[d.id]:_.target.value})),placeholder:"Prida podlohu...",className:"form-input form-input-sm"}),i.jsx("input",{type:"date",value:lt[d.id]||"",onChange:_=>Bt(Ee=>({...Ee,[d.id]:_.target.value})),className:"form-input form-input-sm task-date-input",title:"Termn podlohy"}),i.jsx("button",{type:"button",className:`btn btn-secondary btn-sm ${$t[d.id]?"active":""}`,onClick:()=>fn(_=>({..._,[d.id]:!_[d.id]})),title:"Prida poznmku",children:""}),i.jsx("button",{type:"button",className:`btn btn-secondary btn-sm ${hn[d.id]?"active":""}`,onClick:()=>pn(_=>({..._,[d.id]:!_[d.id]})),title:"Priradi pouvateom",children:""}),i.jsx("button",{type:"submit",className:"btn btn-secondary btn-sm",children:"+"})]}),$t[d.id]&&i.jsx("textarea",{value:Tn[d.id]||"",onChange:_=>Jt(Ee=>({...Ee,[d.id]:_.target.value})),placeholder:"Poznmka k podlohe...",className:"form-input form-input-sm subtask-notes-input",rows:2}),hn[d.id]&&i.jsx("div",{className:"subtask-assign-users-form",children:u.map(_=>i.jsxs("label",{className:"subtask-user-checkbox",children:[i.jsx("input",{type:"checkbox",checked:(Pn[d.id]||[]).includes(_.id),onChange:Ee=>{const Ce=Ee.target.checked;Yt(nt=>({...nt,[d.id]:Ce?[...nt[d.id]||[],_.id]:(nt[d.id]||[]).filter(vr=>vr!==_.id)}))}}),i.jsx("span",{className:"subtask-user-dot",style:{backgroundColor:_.color}}),i.jsx("span",{children:_.username})]},_.id))})]})]})]})]},d.id)})})]})})]}),I&&Pe&&i.jsx("div",{className:"modal-overlay",onClick:Mr,children:i.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{children:"Duplikova lohu"}),i.jsx("button",{className:"modal-close",onClick:Mr,children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{className:"duplicate-info",children:["Duplikuje sa loha: ",i.jsx("strong",{children:Pe.title}),((_u=Pe.subtasks)==null?void 0:_u.length)>0&&i.jsxs("span",{className:"subtask-info",children:[" (vrtane ",Pe.subtasks.length," podloh)"]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Priradi ku kontaktom"}),i.jsxs("div",{className:"multi-select-contacts",children:[l.map(d=>i.jsxs("label",{className:"contact-checkbox",children:[i.jsx("input",{type:"checkbox",checked:we.includes(d.id),onChange:C=>{const P=C.target.checked;gn(R=>P?[...R,d.id]:R.filter(W=>W!==d.id))}}),i.jsxs("span",{children:[d.name," ",d.company?`(${d.company})`:""]})]},d.id)),l.length===0&&i.jsx("span",{className:"no-contacts",children:"iadne kontakty"})]})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:Mr,children:"Zrui"}),i.jsx("button",{className:"btn btn-primary",onClick:Rs,children:"Duplikova"})]})]})}),i.jsx(Tu,{section:"tasks",title:"Sprva loh",tips:o0})]})}function c0(){const{user:e,logout:t,updateUser:n}=dr(),r=ur(),[s,a]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(null),[f,g]=v.useState(null);v.useEffect(()=>{e&&e.role!=="admin"&&e.role!=="manager"&&r("/")},[e,r]),v.useEffect(()=>{m()},[]);const m=async()=>{try{const h=await Z.get("/api/auth/users");a(h.data)}catch(h){console.error("Failed to fetch users:",h)}finally{l(!1)}},w=async(h,p)=>{var k,E;if(!(h===e.id&&p!=="admin"&&!window.confirm("Naozaj chcete odstrni svoje admin prva? Tto akciu nebude mon vrti sp bez pomoci inho admina."))){u(h);try{await Z.put(`/api/auth/users/${h}/role`,{role:p}),a(z=>z.map(A=>A.id===h?{...A,role:p}:A))}catch(z){alert(((E=(k=z.response)==null?void 0:k.data)==null?void 0:E.message)||"Chyba pri zmene role")}finally{u(null)}}},y=async h=>{var k,E;const p=`Naozaj chcete vymaza et pouvatea "${h.username}"?

Tto akcia je nevratn a pouvate strat prstup do systmu.`;if(window.confirm(p)){g(h.id);try{await Z.delete(`/api/auth/users/${h.id}`),a(z=>z.filter(A=>A.id!==h.id))}catch(z){alert(((E=(k=z.response)==null?void 0:k.data)==null?void 0:E.message)||"Chyba pri mazan pouvatea")}finally{g(null)}}},j=h=>h.id===e.id?!1:e.role==="admin"?h.role!=="admin":e.role==="manager"?h.role==="user":!1,S=h=>{switch(h){case"admin":return"Admin";case"manager":return"Manar";case"user":return"Pouvate";default:return h}};return!e||e.role!=="admin"&&e.role!=="manager"?null:i.jsxs("div",{className:"crm-container",children:[i.jsxs("header",{className:"crm-header",children:[i.jsxs("div",{className:"crm-header-left",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>r("/"),children:" Sp"}),i.jsx("h1",{className:"header-title-link",onClick:()=>r("/"),children:"Purple CRM"})]}),i.jsxs("div",{className:"crm-header-right",children:[i.jsx(bo,{}),i.jsx(Co,{user:e,onLogout:t,onUserUpdate:n})]})]}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"admin-panel",children:[i.jsx("h2",{children:"Sprva pouvateov"}),i.jsx("p",{className:"admin-description",children:e.role==="admin"?"Spravujte role pouvateov v systme. Admin m pln prstup, Manar me spravova lohy a kontakty, Pouvate me pracova s lohami.":"Ako manar mete vymaza ty bench pouvateov."}),o?i.jsx("div",{className:"loading",children:"Natavam..."}):i.jsx("div",{className:"users-table-wrapper",children:i.jsxs("table",{className:"users-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Pouvate"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Rola"}),i.jsx("th",{children:"Akcie"})]})}),i.jsx("tbody",{children:s.map(h=>i.jsxs("tr",{className:h.id===e.id?"current-user":"",children:[i.jsx("td",{children:i.jsxs("div",{className:"user-cell",children:[h.avatar?i.jsx("img",{src:`${Cr}/api/auth/avatar/${h.id}`,alt:h.username,className:"table-avatar-img"}):i.jsx("span",{className:"table-avatar",style:{backgroundColor:h.color},children:h.username.charAt(0).toUpperCase()}),i.jsxs("span",{className:"user-name-cell",children:[h.username,h.id===e.id&&i.jsx("span",{className:"you-badge",children:"(vy)"})]})]})}),i.jsx("td",{children:h.email}),i.jsx("td",{children:i.jsx("span",{className:`role-badge role-${h.role}`,children:S(h.role)})}),i.jsx("td",{children:i.jsxs("div",{className:"actions-cell",children:[e.role==="admin"&&i.jsxs(i.Fragment,{children:[i.jsxs("select",{value:h.role,onChange:p=>w(h.id,p.target.value),disabled:c===h.id,className:"role-select",children:[i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"manager",children:"Manar"}),i.jsx("option",{value:"user",children:"Pouvate"})]}),c===h.id&&i.jsx("span",{className:"updating-spinner",children:"..."})]}),j(h)&&i.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>y(h),disabled:f===h.id,title:"Vymaza pouvatea",children:f===h.id?"...":""})]})})]},h.id))})]})})]})})]})}const ml=()=>{const e=localStorage.getItem("notificationsEnabled");return e===null?!0:e==="true"};function u0(){const[e,t]=v.useState([]),[n,r]=v.useState(ml()),{socket:s,isConnected:a}=So(),o=ur();v.useEffect(()=>{const m=()=>{r(ml())};return window.addEventListener("notificationSettingChanged",m),window.addEventListener("storage",m),()=>{window.removeEventListener("notificationSettingChanged",m),window.removeEventListener("storage",m)}},[]);const l=v.useCallback(m=>{if(!ml())return;const w=m.id||Date.now().toString();t(y=>y.some(S=>S.id===w)?y:[...y,{...m,id:w}].slice(-5)),setTimeout(()=>{t(y=>y.filter(j=>j.id!==w))},5e3)},[]),c=v.useCallback(m=>{t(w=>w.filter(y=>y.id!==m))},[]),u=v.useCallback(m=>{var w,y,j;c(m.id),m.relatedType==="contact"&&((w=m.data)!=null&&w.contactId)?o("/crm",{state:{expandContactId:m.data.contactId}}):m.relatedType==="task"&&((y=m.data)!=null&&y.taskId)?o("/tasks",{state:{highlightTaskId:m.data.taskId}}):m.relatedType==="subtask"&&((j=m.data)!=null&&j.taskId)&&o("/tasks",{state:{highlightTaskId:m.data.taskId}})},[o,c]);v.useEffect(()=>{if(!s||!a)return;const m=w=>{l(w)};return s.on("notification",m),()=>{s.off("notification",m)}},[s,a,l]);const f=m=>m!=null&&m.startsWith("contact")?"":m!=null&&m.startsWith("task")?"":m!=null&&m.startsWith("subtask")?"":"",g=m=>m!=null&&m.includes("created")?"toast-success":m!=null&&m.includes("deleted")?"toast-danger":m!=null&&m.includes("assigned")?"toast-info":m!=null&&m.includes("completed")?"toast-success":"toast-default";return e.length===0?null:i.jsx("div",{className:"toast-container",children:e.map(m=>i.jsxs("div",{className:`toast ${g(m.type)}`,onClick:()=>u(m),children:[i.jsx("div",{className:"toast-icon",children:f(m.type)}),i.jsxs("div",{className:"toast-content",children:[i.jsx("div",{className:"toast-title",children:m.title}),m.message&&i.jsx("div",{className:"toast-message",children:m.message})]}),i.jsx("button",{className:"toast-close",onClick:w=>{w.stopPropagation(),c(m.id)},children:""})]},m.id))})}const d0=()=>{const{createWorkspace:e,joinWorkspace:t,loading:n}=wo(),[r,s]=v.useState("choose"),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,f]=v.useState(""),[g,m]=v.useState(!1),w=async j=>{var S,h;if(j.preventDefault(),!a.trim()){f("Nzov pracovnho prostredia je povinn");return}try{m(!0),f(""),await e({name:a.trim()})}catch(p){f(((h=(S=p.response)==null?void 0:S.data)==null?void 0:h.message)||"Chyba pri vytvran pracovnho prostredia")}finally{m(!1)}},y=async j=>{var S,h;if(j.preventDefault(),!l.trim()){f("Kd pozvnky je povinn");return}try{m(!0),f(""),await t(l.trim().toUpperCase())}catch(p){f(((h=(S=p.response)==null?void 0:S.data)==null?void 0:h.message)||"Neplatn kd pozvnky")}finally{m(!1)}};return n?i.jsx("div",{className:"workspace-setup",children:i.jsx("div",{className:"workspace-setup-card",children:i.jsxs("div",{className:"workspace-loading",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Natavam..."})]})})}):i.jsx("div",{className:"workspace-setup",children:i.jsxs("div",{className:"workspace-setup-card",children:[i.jsxs("div",{className:"workspace-setup-header",children:[i.jsx("h1",{children:" Vitajte v Purple CRM"}),i.jsx("p",{children:"Pre pokraovanie si vytvorte pracovn prostredie alebo sa pripojte k existujcemu."})]}),r==="choose"&&i.jsxs("div",{className:"workspace-setup-options",children:[i.jsxs("button",{className:"workspace-option-btn create",onClick:()=>s("create"),children:[i.jsx("span",{className:"option-icon",children:""}),i.jsx("span",{className:"option-title",children:"Vytvori nov"}),i.jsx("span",{className:"option-desc",children:"Vytvorte si vlastn pracovn prostredie a pozvite kolegov"})]}),i.jsx("div",{className:"workspace-option-divider",children:i.jsx("span",{children:"alebo"})}),i.jsxs("button",{className:"workspace-option-btn join",onClick:()=>s("join"),children:[i.jsx("span",{className:"option-icon",children:""}),i.jsx("span",{className:"option-title",children:"Pripoji sa"}),i.jsx("span",{className:"option-desc",children:"Mte kd pozvnky? Pripojte sa k existujcemu tmu"})]})]}),r==="create"&&i.jsxs("form",{className:"workspace-form",onSubmit:w,children:[i.jsx("button",{type:"button",className:"back-btn",onClick:()=>{s("choose"),f("")},children:" Sp"}),i.jsx("h2",{children:"Vytvori pracovn prostredie"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"workspaceName",children:"Nzov"}),i.jsx("input",{type:"text",id:"workspaceName",value:a,onChange:j=>o(j.target.value),placeholder:"napr. Moja firma s.r.o.",maxLength:100,autoFocus:!0})]}),u&&i.jsx("div",{className:"error-message",children:u}),i.jsx("button",{type:"submit",className:"submit-btn",disabled:g||!a.trim(),children:g?"Vytvranie...":"Vytvori"})]}),r==="join"&&i.jsxs("form",{className:"workspace-form",onSubmit:y,children:[i.jsx("button",{type:"button",className:"back-btn",onClick:()=>{s("choose"),f("")},children:" Sp"}),i.jsx("h2",{children:"Pripoji sa k tmu"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"inviteCode",children:"Kd pozvnky"}),i.jsx("input",{type:"text",id:"inviteCode",value:l,onChange:j=>c(j.target.value.toUpperCase()),placeholder:"napr. ABC12345",maxLength:20,autoFocus:!0,style:{textTransform:"uppercase",letterSpacing:"2px"}}),i.jsx("small",{children:"Kd vm poskytne sprvca pracovnho prostredia"})]}),u&&i.jsx("div",{className:"error-message",children:u}),i.jsx("button",{type:"submit",className:"submit-btn",disabled:g||!l.trim(),children:g?"Pripjanie...":"Pripoji sa"})]})]})})};function f0(){const{isAuthenticated:e,loading:t}=dr(),{needsWorkspace:n,loading:r}=wo(),s=ur(),a=bs();return v.useEffect(()=>{e&&Xw().catch(o=>{console.log("Push notifications not initialized:",o.message)})},[e]),v.useEffect(()=>{const o=new URLSearchParams(a.search),l=o.get("_t");if(!e&&!t){(a.pathname==="/crm"&&o.get("expandContact")||a.pathname==="/tasks"&&o.get("highlightTask"))&&sessionStorage.setItem("pendingDeepLink",a.pathname+a.search);return}if(!e)return;const c=sessionStorage.getItem("pendingDeepLink");if(c){sessionStorage.removeItem("pendingDeepLink");const u=new URL(c,window.location.origin),f=new URLSearchParams(u.search);if(u.pathname==="/crm"&&f.get("expandContact")){s("/crm",{state:{expandContactId:f.get("expandContact"),navTimestamp:Date.now()},replace:!0});return}if(u.pathname==="/tasks"&&f.get("highlightTask")){s("/tasks",{state:{highlightTaskId:f.get("highlightTask"),highlightSubtaskId:f.get("subtask")||null,navTimestamp:Date.now()},replace:!0});return}}if(a.pathname==="/crm"&&o.get("expandContact")){const u=o.get("expandContact");s("/crm",{state:{expandContactId:u,navTimestamp:l||Date.now()},replace:!0})}if(a.pathname==="/tasks"&&o.get("highlightTask")){const u=o.get("highlightTask"),f=o.get("subtask");s("/tasks",{state:{highlightTaskId:u,highlightSubtaskId:f||null,navTimestamp:l||Date.now()},replace:!0})}},[a,e,t,s]),v.useEffect(()=>{var l;if(!e)return;const o=c=>{var u;if(console.log("[App] Message from service worker:",c.data),((u=c.data)==null?void 0:u.type)==="NOTIFICATION_CLICK"){const{url:f,data:g,timestamp:m}=c.data;try{const w=new URL(f),y=w.pathname,j=new URLSearchParams(w.search),S=m||Date.now();if(y==="/crm"&&(j.get("expandContact")||g!=null&&g.contactId)){const h=j.get("expandContact")||g.contactId;console.log("[App] Dispatching crm-highlight event for contact:",h),window.dispatchEvent(new CustomEvent("crm-highlight",{detail:{contactId:h,timestamp:S}})),a.pathname!=="/crm"&&s("/crm",{state:{expandContactId:h,navTimestamp:S}})}else if(y==="/tasks"&&(j.get("highlightTask")||g!=null&&g.taskId)){const h=j.get("highlightTask")||g.taskId,p=j.get("subtask")||g.subtaskId||null;console.log("[App] Dispatching task-highlight event for task:",h),window.dispatchEvent(new CustomEvent("task-highlight",{detail:{taskId:h,subtaskId:p,timestamp:S}})),a.pathname!=="/tasks"&&s("/tasks",{state:{highlightTaskId:h,highlightSubtaskId:p,navTimestamp:S}})}else s(y)}catch(w){console.error("[App] Error parsing notification URL:",w),f.startsWith("/")&&s(f)}}};return(l=navigator.serviceWorker)==null||l.addEventListener("message",o),()=>{var c;(c=navigator.serviceWorker)==null||c.removeEventListener("message",o)}},[e,s,a.pathname]),t||e&&r?i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#1a1a2e",color:"#fff"},children:"Natavam..."}):e&&n?i.jsx(d0,{}):i.jsxs(i.Fragment,{children:[e&&i.jsx(u0,{}),i.jsxs(lk,{children:[i.jsx(Qr,{path:"/login",element:e?i.jsx(Ws,{to:"/"}):i.jsx(Zx,{})}),i.jsx(Qr,{path:"/",element:e?i.jsx(s0,{}):i.jsx(Ws,{to:"/login"})}),i.jsx(Qr,{path:"/crm",element:e?i.jsx(a0,{}):i.jsx(Ws,{to:"/login"})}),i.jsx(Qr,{path:"/tasks",element:e?i.jsx(l0,{}):i.jsx(Ws,{to:"/login"})}),i.jsx(Qr,{path:"/admin",element:e?i.jsx(c0,{}):i.jsx(Ws,{to:"/login"})})]})]})}function h0(){return i.jsx(Qx,{children:i.jsx(f0,{})})}gl.createRoot(document.getElementById("root")).render(i.jsx(_f.StrictMode,{children:i.jsx(dk,{children:i.jsx($x,{children:i.jsx(h0,{})})})}));
